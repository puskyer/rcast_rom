// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var g,h=this,k=function(a){return void 0!==a},aa=function(){},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a){return"string"==typeof a},m=function(a){return"number"==typeof a},da=function(a){return"function"==ba(a)},ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return n.apply(null,arguments)},ga=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ha=Date.now||function(){return+new Date},p=function(a,b){var c=a.split("."),d=h;c[0]in d||!d.execScript||
d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&k(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},r=function(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ud=function(a,c,f){for(var l=Array(arguments.length-2),q=2;q<arguments.length;q++)l[q-2]=arguments[q];return b.prototype[c].apply(a,l)}};var cast=h.cast||{};p("cast.receiver.VERSION","2.0.0");var ia=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ia);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};r(ia,Error);ia.prototype.name="CustomError";var ja=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},la=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},t=function(a,b){return-1!=a.indexOf(b)},oa=function(a,b){return a<b?-1:a>b?1:0};var pa=function(a,b){b.unshift(a);ia.call(this,ja.apply(null,b));b.shift()};r(pa,ia);pa.prototype.name="AssertionError";var v=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new pa(""+d,e||[]);}},qa=function(a,b){throw new pa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var w=Array.prototype,x=w.indexOf?function(a,b,c){v(null!=a.length);return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ca(a))return ca(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ra=w.lastIndexOf?function(a,b,c){v(null!=a.length);return w.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(ca(a))return ca(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},ta=function(a,b){var c=x(a,b),d;(d=0<=c)&&sa(a,c);return d},sa=function(a,b){v(null!=a.length);w.splice.call(a,b,1)},va=function(a,b,c,d){v(null!=a.length);return w.splice.apply(a,ua(arguments,1))},ua=function(a,b,c){v(null!=a.length);return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)};var wa=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},xa=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},ya=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},za=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Aa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ba=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Aa.length;f++)c=Aa[f],Object.prototype.hasOwnProperty.call(d,
c)&&(a[c]=d[c])}};var y;a:{var Ca=h.navigator;if(Ca){var Da=Ca.userAgent;if(Da){y=Da;break a}}y=""};var Ea=t(y,"Opera")||t(y,"OPR"),z=t(y,"Trident")||t(y,"MSIE"),Fa=t(y,"Edge"),Ga=t(y,"Gecko")&&!(t(y.toLowerCase(),"webkit")&&!t(y,"Edge"))&&!(t(y,"Trident")||t(y,"MSIE"))&&!t(y,"Edge"),Ha=t(y.toLowerCase(),"webkit")&&!t(y,"Edge"),Ia=function(){var a=y;if(Ga)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Fa)return/Edge\/([\d\.]+)/.exec(a);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ha)return/WebKit\/(\S+)/.exec(a)},Ja=function(){var a=h.document;return a?a.documentMode:void 0},Ka=function(){if(Ea&&
h.opera){var a=h.opera.version;return da(a)?a():a}var a="",b=Ia();b&&(a=b?b[1]:"");return z&&(b=Ja(),b>parseFloat(a))?String(b):a}(),La={},A=function(a){var b;if(!(b=La[a])){b=0;for(var c=ka(String(Ka)).split("."),d=ka(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",q=d[f]||"",u=/(\d*)(\D*)/g,H=/(\d*)(\D*)/g;do{var ma=u.exec(l)||["","",""],na=H.exec(q)||["","",""];if(0==ma[0].length&&0==na[0].length)break;b=oa(0==ma[1].length?0:parseInt(ma[1],10),0==na[1].length?
0:parseInt(na[1],10))||oa(0==ma[2].length,0==na[2].length)||oa(ma[2],na[2])}while(0==b)}b=La[a]=0<=b}return b},Ma=h.document,Na=Ma&&z?Ja()||("CSS1Compat"==Ma.compatMode?parseInt(Ka,10):5):void 0;var Oa=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Oa.prototype.fb=null;var Pa=0;Oa.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Pa++;this.gc=d||ha();this.W=a;this.Qb=b;this.Ob=c;delete this.fb};Oa.prototype.gb=function(){return this.W};Oa.prototype.Ab=function(a){this.W=a};var B=function(a){this.Rb=a;this.ua=this.Za=this.W=this.Qa=null},C=function(a,b){this.name=a;this.value=b};C.prototype.toString=function(){return this.name};
var Qa=new C("SHOUT",1200),Ra=new C("SEVERE",1E3),Sa=new C("WARNING",900),Ta=new C("INFO",800),Ua=new C("CONFIG",700),Va=new C("FINE",500),D=new C("FINER",400),Wa=[new C("OFF",Infinity),Qa,Ra,Sa,Ta,Ua,Va,D,new C("FINEST",300),new C("ALL",0)],Xa=null,Ya=function(a){if(!Xa){Xa={};for(var b=0,c;c=Wa[b];b++)Xa[c.value]=c,Xa[c.name]=c}if(a in Xa)return Xa[a];for(b=0;b<Wa.length;++b)if(c=Wa[b],c.value<=a)return c;return null};B.prototype.getName=function(){return this.Rb};B.prototype.getParent=function(){return this.Qa};
B.prototype.Ab=function(a){this.W=a};B.prototype.gb=function(){return this.W};var Za=function(a){if(a.W)return a.W;if(a.Qa)return Za(a.Qa);qa("Root logger has no level set.");return null};
B.prototype.log=function(a,b,c){if(a.value>=Za(this).value)for(da(b)&&(b=b()),a=new Oa(a,String(b),this.Rb),c&&(a.fb=c),c="log:"+a.Qb,h.console&&(h.console.timeStamp?h.console.timeStamp(c):h.console.markTimeline&&h.console.markTimeline(c)),h.msWriteProfilerMark&&h.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.ua)for(var e=0,f=void 0;f=b.ua[e];e++)f(d);c=c.getParent()}};B.prototype.info=function(a,b){this.log(Ta,a,b)};
var $a={},ab=null,bb=function(){ab||(ab=new B(""),$a[""]=ab,ab.Ab(Ua))},E=function(a){bb();var b;if(!(b=$a[a])){b=new B(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=E(a.substr(0,c));c.Za||(c.Za={});c.Za[d]=b;b.Qa=c;$a[a]=b}return b};var F=function(){this.ra=this.ra;this.X=this.X};F.prototype.ra=!1;F.prototype.S=function(){this.ra||(this.ra=!0,this.l())};var cb=function(a,b){a.ra?b.call(void 0):(a.X||(a.X=[]),a.X.push(k(void 0)?n(b,void 0):b))};F.prototype.l=function(){if(this.X)for(;this.X.length;)this.X.shift()()};var db=function(a){a&&"function"==typeof a.S&&a.S()};var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Z=!1;this.Yb=!0};G.prototype.stopPropagation=function(){this.Z=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Yb=!1};var eb=function(a){eb[" "](a);return a};eb[" "]=aa;var fb=!z||9<=Na,gb=z&&!A("9");!Ha||A("528");Ga&&A("1.9b")||z&&A("8")||Ea&&A("9.5")||Ha&&A("528");Ga&&!A("8")||z&&A("9");var I=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.ga=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ga){var e;a:{try{eb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Ha||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Ha||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.state=a.state;this.ga=a;a.defaultPrevented&&this.preventDefault()}};r(I,G);I.prototype.stopPropagation=function(){I.D.stopPropagation.call(this);this.ga.stopPropagation?this.ga.stopPropagation():this.ga.cancelBubble=!0};I.prototype.preventDefault=function(){I.D.preventDefault.call(this);var a=this.ga;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,gb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var hb="closure_listenable_"+(1E6*Math.random()|0),ib=0;var jb=function(a,b,c,d,e){this.listener=a;this.Ra=null;this.src=b;this.type=c;this.qa=!!d;this.Ja=e;this.key=++ib;this.na=this.Ha=!1},kb=function(a){a.na=!0;a.listener=null;a.Ra=null;a.src=null;a.Ja=null};var J=function(a){this.src=a;this.o={};this.Fa=0};J.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.Fa++);var l=lb(a,b,d,e);-1<l?(b=a[l],c||(b.Ha=!1)):(b=new jb(b,this.src,f,!!d,e),b.Ha=c,a.push(b));return b};J.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=lb(e,b,c,d);return-1<b?(kb(e[b]),sa(e,b),0==e.length&&(delete this.o[a],this.Fa--),!0):!1};
var mb=function(a,b){var c=b.type;c in a.o&&ta(a.o[c],b)&&(kb(b),0==a.o[c].length&&(delete a.o[c],a.Fa--))};J.prototype.yb=function(a){a=a&&a.toString();var b=0,c;for(c in this.o)if(!a||c==a){for(var d=this.o[c],e=0;e<d.length;e++)++b,kb(d[e]);delete this.o[c];this.Fa--}return b};J.prototype.sa=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=lb(a,b,c,d));return-1<e?a[e]:null};
J.prototype.hasListener=function(a,b){var c=k(a),d=c?a.toString():"",e=k(b);return xa(this.o,function(a){for(var l=0;l<a.length;++l)if(!(c&&a[l].type!=d||e&&a[l].qa!=b))return!0;return!1})};var lb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.na&&f.listener==b&&f.qa==!!c&&f.Ja==d)return e}return-1};var nb="closure_lm_"+(1E6*Math.random()|0),ob={},pb=0,K=function(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);return null}c=qb(c);if(a&&a[hb])a=a.la(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=rb(a);l||(a[nb]=l=new J(a));c=l.add(b,c,!1,d,e);if(!c.Ra){d=sb();c.Ra=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(tb(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
pb++}a=c}return a},sb=function(){var a=ub,b=fb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},vb=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)vb(a,b[f],c,d,e);else c=qb(c),a&&a[hb]?a.Bb(b,c,d,e):a&&(a=rb(a))&&(b=a.sa(b,c,!!d,e))&&wb(b)},wb=function(a){if(!m(a)&&a&&!a.na){var b=a.src;if(b&&b[hb])mb(b.G,a);else{var c=a.type,d=a.Ra;b.removeEventListener?b.removeEventListener(c,d,a.qa):b.detachEvent&&b.detachEvent(tb(c),
d);pb--;(c=rb(b))?(mb(c,a),0==c.Fa&&(c.src=null,b[nb]=null)):kb(a)}}},tb=function(a){return a in ob?ob[a]:ob[a]="on"+a},yb=function(a,b,c,d){var e=!0;if(a=rb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.qa==c&&!f.na&&(f=xb(f,d),e=e&&!1!==f)}return e},xb=function(a,b){var c=a.listener,d=a.Ja||a.src;a.Ha&&wb(a);return c.call(d,b)},ub=function(a,b){if(a.na)return!0;if(!fb){var c;if(!(c=b))a:{c=["window","event"];for(var d=h,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=
null;break a}c=d}e=c;c=new I(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,q=e.length-1;!c.Z&&0<=q;q--){c.currentTarget=e[q];var u=yb(e[q],f,!0,c),d=d&&u}for(q=0;!c.Z&&q<e.length;q++)c.currentTarget=e[q],u=yb(e[q],f,!1,c),d=d&&u}return d}return xb(a,new I(b,this))},rb=function(a){a=a[nb];return a instanceof J?
a:null},zb="__closure_events_fn_"+(1E9*Math.random()>>>0),qb=function(a){v(a,"Listener can not be null.");if(da(a))return a;v(a.handleEvent,"An object listener must have handleEvent method.");a[zb]||(a[zb]=function(b){return a.handleEvent(b)});return a[zb]};var L=function(){F.call(this);this.G=new J(this);this.hc=this;this.xb=null};r(L,F);L.prototype[hb]=!0;g=L.prototype;g.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){vb(this,a,b,c,d)};
g.dispatchEvent=function(a){Ab(this);var b,c=this.xb;if(c){b=[];for(var d=1;c;c=c.xb)b.push(c),v(1E3>++d,"infinite loop")}c=this.hc;d=a.type||a;if(ca(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);Ba(a,e)}var e=!0,f;if(b)for(var l=b.length-1;!a.Z&&0<=l;l--)f=a.currentTarget=b[l],e=Bb(f,d,!0,a)&&e;a.Z||(f=a.currentTarget=c,e=Bb(f,d,!0,a)&&e,a.Z||(e=Bb(f,d,!1,a)&&e));if(b)for(l=0;!a.Z&&l<b.length;l++)f=a.currentTarget=b[l],e=Bb(f,d,!1,a)&&e;return e};
g.l=function(){L.D.l.call(this);this.G&&this.G.yb(void 0);this.xb=null};g.la=function(a,b,c,d){Ab(this);return this.G.add(String(a),b,!1,c,d)};g.Bb=function(a,b,c,d){return this.G.remove(String(a),b,c,d)};var Bb=function(a,b,c,d){b=a.G.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.na&&l.qa==c){var q=l.listener,u=l.Ja||l.src;l.Ha&&mb(a.G,l);e=!1!==q.call(u,d)&&e}}return e&&0!=d.Yb};L.prototype.sa=function(a,b,c,d){return this.G.sa(String(a),b,c,d)};
L.prototype.hasListener=function(a,b){return this.G.hasListener(k(a)?String(a):void 0,b)};var Ab=function(a){v(a.G,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var M=function(a,b,c){a&&a.log(b,c,void 0)},N=function(a,b){a&&a.log(Ra,b,void 0)},Cb=function(a,b){a&&a.log(Sa,b,void 0)},O=function(a,b){a&&a.info(b,void 0)},Db=function(a,b){a&&a.log(Va,b,void 0)};var P=function(a,b){L.call(this);this.ba=b;this.kb=!0;this.ea=a;this.onClose=this.onMessage=null;this.ea.la(this.ba,this.tb,!1,this)};r(P,L);p("cast.receiver.CastChannel",P);P.EventType={MESSAGE:"message",CLOSE:"close"};var Eb=function(a,b){G.call(this,a);this.message=b};r(Eb,G);P.Event=Eb;P.prototype.a=E("cast.receiver.CastChannel");P.prototype.J=function(){return"CastChannel["+this.ba+" "+this.ea.T()+"]"};P.prototype.T=function(){return this.ea.T()};P.prototype.getNamespace=P.prototype.T;
P.prototype.Rc=function(){return this.ba};P.prototype.getSenderId=P.prototype.Rc;P.prototype.tb=function(a){M(this.a,D,"Dispatching CastChannel message ["+this.ea.T()+", "+this.ba+"]: "+a.data);a=new Eb("message",a.data);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};P.prototype.close=function(){if(this.kb){this.kb=!1;O(this.a,"Closing CastChannel ["+this.ea.T()+", "+this.ba+"]");var a=new Eb("close",this.ba);if(this.onClose)this.onClose(a);this.dispatchEvent(a);this.S()}};
P.prototype.send=function(a){if(!this.kb)throw Error("Invalid state, socket not open");this.ea.send(this.ba,a)};P.prototype.send=P.prototype.send;P.prototype.l=function(){P.D.l.call(this);M(this.a,D,"Disposed "+this.J())};var Fb=function(a,b,c){if(da(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:h.setTimeout(a,b||0)};var Hb=function(a,b){L.call(this);this.jc=k(a)?a:!0;this.hb=b||Gb;this.Oa=this.hb(this.Da)};r(Hb,L);g=Hb.prototype;g.w=null;g.M=null;g.ma=void 0;g.$a=!1;g.Da=0;g.$=null;var Ib=Hb.prototype,Jb=E("goog.net.WebSocket");Ib.a=Jb;var Gb=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};g=Hb.prototype;
g.open=function(a,b){v(h.WebSocket,"This browser does not support WebSocket");v(!this.wa(),"The WebSocket is already open");null!=this.$&&h.clearTimeout(this.$);this.$=null;this.M=a;(this.ma=b)?(O(this.a,"Opening the WebSocket on "+this.M+" with protocol "+this.ma),this.w=new WebSocket(this.M,this.ma)):(O(this.a,"Opening the WebSocket on "+this.M),this.w=new WebSocket(this.M));this.w.onopen=n(this.ad,this);this.w.onclose=n(this.Zc,this);this.w.onmessage=n(this.ub,this);this.w.onerror=n(this.rb,this)};
g.close=function(){null!=this.$&&h.clearTimeout(this.$);this.$=null;this.w&&(O(this.a,"Closing the WebSocket."),this.$a=!0,this.w.close(),this.w=null)};g.send=function(a){v(this.wa(),"Cannot send without an open socket");this.w.send(a)};g.wa=function(){return!!this.w&&1==this.w.readyState};g.ad=function(){O(this.a,"WebSocket opened on "+this.M);this.dispatchEvent("d");this.Da=0;this.Oa=this.hb(this.Da)};
g.Zc=function(a){O(this.a,"The WebSocket on "+this.M+" closed.");this.dispatchEvent("a");this.w=null;this.$a?(O(this.a,"The WebSocket closed normally."),this.M=null,this.ma=void 0):(N(this.a,"The WebSocket disconnected unexpectedly: "+a.data),this.jc&&(O(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.Oa/1E3)),this.$=Fb(n(this.open,this,this.M,this.ma),this.Oa,this),this.Da++,this.Oa=this.hb(this.Da)));this.$a=!1};g.ub=function(a){this.dispatchEvent(new Kb(a.data))};
g.rb=function(a){a=a.data;N(this.a,"An error occurred: "+a);this.dispatchEvent(new Lb(a))};g.l=function(){Hb.D.l.call(this);this.close()};var Kb=function(a){G.call(this,"c");this.message=a};r(Kb,G);var Lb=function(a){G.call(this,"b");this.data=a};r(Lb,G);var Mb={"port-for-web-server":"8008"},Nb=cast.__platform__&&cast.__platform__.queryPlatformValue||function(a){if(a in Mb)return Mb[a]};p("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");p("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});p("cast.receiver.system.SystemVolumeData",function(){this.level=1;this.muted=!1});p("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});p("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"});
p("cast.receiver.system.StandbyState",{STANDBY:"standby",NOT_STANDBY:"notstandby",UNKNOWN:"unknown"});p("cast.receiver.system.SystemState",{NOT_STARTED:"notstarted",STARTING_IN_BACKGROUND:"startinginbackground",STARTING:"starting",READY:"ready",STOPPING_IN_BACKGROUND:"stoppinginbackground",STOPPING:"stopping"});var Ob=function(){L.call(this);this.A=null;var a=new Hb(!0);this.A&&this.A.S();this.A=a;cb(this,ga(db,this.A));K(this.A,"d",this.bd,!1,this);K(this.A,"a",this.$c,!1,this);K(this.A,"b",this.rb,!1,this);K(this.A,"c",this.ub,!1,this)};r(Ob,L);var Pb=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};r(Pb,G);Ob.prototype.a=E("cast.receiver.IpcChannel");var Qb=function(a,b){Db(a.a,"IpcChannel "+b);a.dispatchEvent(new Pb("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};
g=Ob.prototype;g.bd=function(){Qb(this,"opened")};g.$c=function(){Qb(this,"closed")};g.rb=function(){Qb(this,"error")};g.ub=function(a){Db(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Pb(b,a.senderId,a.data)):N(this.a,"IpcChannel Message received is invalid")};g.open=function(){O(this.a,"Opening message bus websocket");this.A.open("ws://localhost:"+Nb("port-for-web-server")+"/v2/ipc")};
g.close=function(){O(this.a,"Closing message bus websocket");this.A.close()};g.wa=function(){return this.A.wa()};g.send=function(a,b,c){if(!this.wa)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c});Db(this.a,"IPC message sent: "+a);this.A.send(a)};g.l=function(){Ob.D.l.call(this);M(this.a,D,"Disposed IpcChannel")};var Q=function(a,b,c,d){L.call(this);this.K=a;this.V=b;this.mb=!1;this.Ba=d||"STRING";this.onMessage=null;this.serializeMessage=this.Hc;this.deserializeMessage=this.oc;this.s={};for(a=0;a<c.length;a++)this.s[c[a]]=null;this.V.la(this.K,this.tb,!1,this)};r(Q,L);p("cast.receiver.CastMessageBus",Q);Q.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};Q.EventType={MESSAGE:"message"};var Rb=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};r(Rb,G);Q.Event=Rb;Q.prototype.a=E("cast.receiver.CastMessageBus");
Q.prototype.J=function(){return"CastMessageBus["+this.K+"]"};Q.prototype.T=function(){return this.K};Q.prototype.getNamespace=Q.prototype.T;Q.prototype.Jb=function(){return this.Ba};Q.prototype.getMessageType=Q.prototype.Jb;Q.prototype.tb=function(a){M(this.a,D,"Dispatching CastMessageBus message");var b="STRING"==this.Ba?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Rb(a.senderId,a.senderId,b));a=new Rb("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};
Q.prototype.send=function(a,b){this.mb||"urn:x-cast:com.google.cast.system"==this.K||Cb(this.a,"Application should not send requests before the system is ready (they will be ignored)");if("STRING"==this.Ba){if(!ca(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.V.send(this.K,a,b)}else this.V.send(this.K,a,this.serializeMessage(b))};Q.prototype.send=Q.prototype.send;Q.prototype.Db=function(a){this.send("*:*",a)};Q.prototype.broadcast=Q.prototype.Db;
Q.prototype.Kc=function(a){if(a in this.s)return this.s[a]||(this.s[a]=new P(this,a)),this.s[a];throw Error("Requested a socket for a disconnected sender: "+a);};Q.prototype.getCastChannel=Q.prototype.Kc;Q.prototype.Hc=function(a){if("JSON"!=this.Ba)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)};Q.prototype.oc=function(a){if("JSON"!=this.Ba)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};
Q.prototype.l=function(){Q.D.l.call(this);for(var a in this.s)this.s[a]&&this.s[a].close();this.s={};M(this.a,D,"Disposed "+this.J())};var Sb=function(){this.Wb=ha()},Tb=new Sb;Sb.prototype.set=function(a){this.Wb=a};Sb.prototype.reset=function(){this.set(ha())};Sb.prototype.get=function(){return this.Wb};var Ub=function(a){this.ed=a||"";this.rd=Tb};g=Ub.prototype;g.Cb=!0;g.dc=!0;g.pd=!0;g.od=!0;g.ec=!1;g.qd=!1;var Vb=function(a){return 10>a?"0"+a:String(a)},Wb=function(a,b){var c=(a.gc-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},Xb=function(a){Ub.call(this,a)};r(Xb,Ub);var Yb=function(){this.fd=n(this.ic,this);this.Ia=new Xb;this.Ia.dc=!1;this.Ia.ec=!1;this.Mb=this.Ia.Cb=!1;this.Nb="";this.Ic={}};
Yb.prototype.ic=function(a){if(!this.Ic[a.Ob]){var b;b=this.Ia;var c=[];c.push(b.ed," ");if(b.dc){var d=new Date(a.gc);c.push("[",Vb(d.getFullYear()-2E3)+Vb(d.getMonth()+1)+Vb(d.getDate())+" "+Vb(d.getHours())+":"+Vb(d.getMinutes())+":"+Vb(d.getSeconds())+"."+Vb(Math.floor(d.getMilliseconds()/10)),"] ")}b.pd&&c.push("[",Wb(a,b.rd.get()),"s] ");b.od&&c.push("[",a.Ob,"] ");b.qd&&c.push("[",a.gb().name,"] ");c.push(a.Qb);b.ec&&(d=a.fb)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Cb&&c.push("\n");
b=c.join("");if(c=Zb)switch(a.gb()){case Qa:$b(c,"info",b);break;case Ra:$b(c,"error",b);break;case Sa:$b(c,"warn",b);break;default:$b(c,"debug",b)}else this.Nb+=b}};var Zb=h.console,$b=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var R=function(){L.call(this);if(this.Eb=new Yb){var a=this.Eb;if(1!=a.Mb){bb();var b=ab,c=a.fd;b.ua||(b.ua=[]);b.ua.push(c);a.Mb=!0}}this.m=za(ac);this.Ca=!1;this.V=new Ob;this.H={};this.ca=new Q("urn:x-cast:com.google.cast.system",this.V,ya(this.H),"JSON");cb(this,ga(db,this.ca));this.Fb=this.Ga=null;this.Lb=!1;this.ya=this.za=null;this.Sa=!0;this.Xc="1.11";this.da="notstarted";this.u={};this.onStandbyChanged=this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=
this.onShutdown=this.onReady=null;K(this.ca,"SystemSender",this.cd,!1,this);K(window,"unload",this.wb,!1,this);K(document,"visibilitychange",this.Sb,!1,this);M(this.a,Qa,"Version: 2.0.0.0038")};r(R,L);p("cast.receiver.CastReceiverManager",R);R.Hb=function(){return R.jb?R.jb:R.jb=new R};R.getInstance=R.Hb;var bc=["A59513CE","67FE9D30","B03290DF","E8C28D3C"];
R.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged"};var S=function(a,b){G.call(this,a);this.data=b};r(S,G);R.Event=S;p("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});
var cc=function(a,b,c){S.call(this,"senderdisconnected",a);this.senderId=a;this.userAgent=b;this.reason=c};r(cc,S);R.SenderDisconnectedEvent=cc;var dc=function(a,b){S.call(this,"senderconnected",a);this.senderId=a;this.userAgent=b};r(dc,S);R.SenderConnectedEvent=dc;var ec=function(a){S.call(this,"visibilitychanged",a);this.isVisible=a};r(ec,S);R.VisibilityChangedEvent=ec;var fc=function(a){S.call(this,"standbychanged",null);this.isStandby=a};r(fc,S);R.StandbyChangedEvent=fc;
var gc=function(a){S.call(this,"systemvolumechanged",a);this.data=a};r(gc,S);R.SystemVolumeChangedEvent=gc;var hc=function(a){S.call(this,"ready",a);this.data=a};r(hc,S);R.ReadyEvent=hc;var ic=function(){S.call(this,"shutdown",null)};r(ic,S);R.ShutdownEvent=ic;R.Config=function(){this.disableChromecastAppFiltering=this.dialData=this.maxInactivity=this.statusText=void 0};var ac={maxInactivity:10};R.prototype.a=E("cast.receiver.CastReceiverManager");R.prototype.J=function(){return"CastReceiverManager"};
R.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");Ba(this.m,a||{})}this.Lb=!0;this.V.open()};R.prototype.start=R.prototype.start;R.prototype.stop=function(){this.S();window.close()};R.prototype.stop=R.prototype.stop;R.prototype.lb=function(){return"ready"==this.da};R.prototype.isSystemReady=R.prototype.lb;R.prototype.Sc=function(){return ya(this.H)};
R.prototype.getSenders=R.prototype.Sc;R.prototype.Qc=function(a){return this.H[a]?za(this.H[a]):null};R.prototype.getSender=R.prototype.Qc;R.prototype.Uc=function(){return null==this.za?this.ya?"notvisible":"unknown":this.za?"visible":"notvisible"};R.prototype.getVisibilityState=R.prototype.Uc;R.prototype.Tc=function(){return null==this.ya?this.za?"notstandby":"unknown":this.ya?"standby":"notstandby"};R.prototype.getStandbyState=R.prototype.Tc;
R.prototype.Kb=function(){"notstarted"==this.da&&(this.da=/[&?]google_cast_bg=true(&|$)/.test(window.location.search)?"startinginbackground":"starting");return this.da};R.prototype.getSystemState=R.prototype.Kb;R.prototype.Jc=function(){return this.Ga};R.prototype.getApplicationData=R.prototype.Jc;R.prototype.Mc=function(){return this.Fb};R.prototype.getDeviceCapabilities=R.prototype.Mc;R.prototype.hd=function(a){this.lb()?jc(this,a):this.m.statusText!=a&&(this.m.statusText=a,this.Ca=!0)};
R.prototype.setApplicationState=R.prototype.hd;R.prototype.kd=function(a,b){this.lb()?jc(this,a,b):(void 0!=a&&a!=this.m.statusText&&(this.m.statusText=a,this.Ca=!0),void 0!=b&&b!=this.m.dialData&&(this.m.dialData=b,this.Ca=!0))};R.prototype.setLegacyApplicationState=R.prototype.kd;R.prototype.md=function(a){if(0>a||1<a)throw Error("Invalid level value");this.ca.send("SystemSender",{type:"setvolume",level:a})};R.prototype.setSystemVolumeLevel=R.prototype.md;
R.prototype.nd=function(a){this.ca.send("SystemSender",{type:"setvolume",muted:a})};R.prototype.setSystemVolumeMuted=R.prototype.nd;var jc=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b);void 0!=c&&(d.dialData=c);a.ca.send("SystemSender",d)};R.prototype.ac=function(a){this.ca.send("SystemSender",{type:"startheartbeat",maxInactivity:a})};R.prototype.setInactivityTimeout=R.prototype.ac;
R.prototype.Gb=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.u[a]){if(this.Lb)throw Error("New namespaces can not be requested after start has been called");this.u[a]=new Q(a,this.V,ya(this.H),b);cb(this,ga(db,this.u[a]))}if(b&&this.u[a].Jb()!=b)throw Error("Invalid messageType for the namespace");return this.u[a]};R.prototype.getCastMessageBus=R.prototype.Gb;
R.prototype.cd=function(a){a=a.data;switch(a.type){case "opened":O(this.a,"Underlying message bus is open");var b=ya(this.u),c=this.m.statusText;a=this.m.dialData;var d={type:"ready"};c&&(d.statusText=c);a&&(d.dialData=a);d.activeNamespaces=b;d.version="2.0.0";d.messagesVersion="1.0";this.ca.send("SystemSender",d);this.m.maxInactivity&&this.ac(this.m.maxInactivity);break;case "closed":this.wb();break;case "error":this.dispatchEvent("error");break;case "ready":b=a.launchingSenderId;c=ya(this.u);this.Va=
a.version;this.Sa=!kc(this,this.Xc);var e=a.deviceCapabilities;this.Fb=e?za(e):{};this.Ga={id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:c,launchingSenderId:b};0<=x(bc,this.Ga.id)&&(this.m.disableChromecastAppFiltering=!0);this.da="ready";for(d in this.u)this.u[d].mb=!0;this.Ca&&(this.Ca=!1,jc(this,this.m.statusText,this.m.dialData));O(this.a,"Dispatching CastReceiverManager system ready event");b=new hc(this.Ga);if(this.onReady)this.onReady(b);this.dispatchEvent(b);break;
case "senderconnected":b={id:a.senderId,userAgent:a.userAgent};if(this.m.disableChromecastAppFiltering||!t(b.id.toLowerCase(),"com.google.android.apps.chromecast.app")){O(this.a,"Dispatching CastReceiverManager sender connected event ["+b.id+"]");b.id in this.H&&N(this.a,"Unexpected connected message for already connected sender: "+b.id);this.H[b.id]=b;a=new dc(b.id,b.userAgent);for(c in this.u)d=this.u[c],e=b.id,e in d.s?N(d.a,"Unexpected sender already registered ["+d.K+", "+e+"]"):(O(d.a,"Registering sender ["+
d.K+", "+e+"]"),d.s[e]=null);if(this.onSenderConnected)this.onSenderConnected(a);this.dispatchEvent(a)}break;case "senderdisconnected":c=a.senderId;if(this.m.disableChromecastAppFiltering||!t(c.toLowerCase(),"com.google.android.apps.chromecast.app")){switch(a.reason){case "closed_by_peer":a="requested_by_sender";break;case "transport_invalid_message":a="error";break;default:a="unknown"}O(this.a,"Dispatching sender disconnected event ["+c+"] Reason: "+a);if(c in this.H){d=this.H[c].userAgent;delete this.H[c];
a=new cc(c,d,a);for(b in this.u)d=this.u[b],e=c,e in d.s&&(O(d.a,"Unregistering sender ["+d.K+", "+e+"]"),d.s[e]&&d.s[e].close(),delete d.s[e]);if(this.onSenderDisconnected)this.onSenderDisconnected(a);this.dispatchEvent(a)}else N(this.a,"Unknown sender disconnected: "+c)}break;case "volumechanged":b={level:a.level,muted:a.muted};O(this.a,"Dispatching system volume changed event ["+b.level+", "+b.muted+"]");b=new gc(b);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(b);this.dispatchEvent(b);
break;case "visibilitychanged":this.Sa||(b=a.visible,lc(this,k(b)?b:null));break;case "standbychanged":if(!this.Sa&&(b=a.standby,b=k(b)?b:null,b!=this.ya)){O(this.a,"Dispatching standby changed event "+b);this.ya=b;b=new fc(!0===b);if(this.onStandbyChanged)this.onStandbyChanged(b);this.dispatchEvent(b)}break;default:throw Error("Unexpected message type: "+a.type);}};
var lc=function(a,b){if(b==a.za)O(a.a,"Ignoring visibility changed event, state is already "+b);else{O(a.a,"Dispatching visibility changed event "+b);a.za=b;var c=new ec(!1!==b);if(a.onVisibilityChanged)a.onVisibilityChanged(c);a.dispatchEvent(c)}};R.prototype.Sb=function(){this.Sa&&lc(this,"visible"==document.visibilityState)};
R.prototype.wb=function(){O(this.a,"Dispatching shutdown event");this.Kb();this.da="startinginbackground"==this.da?"stoppinginbackground":"stopping";for(var a in this.u)this.u[a].mb=!1;a=new ic;if(this.onShutdown)this.onShutdown(a);this.dispatchEvent(a)};
var kc=function(a,b){if(!b)return N(a.a,"Version not provided"),!1;if(!a.Va)return N(a.a,"No System Version"),!1;var c=b.split(".");if(!c.length)return N(a.a,"Version provided is not valid: "+b),!1;var d=a.Va.split(".");if(!d.length)return N(a.a,"System Version format is not valid "+a.Va),!1;for(var e=0;e<c.length;e++){var f=parseInt(c[e],10);if(isNaN(f))return N(a.a,"Version is not numeric: "+b),!1;var l=d.length>e?parseInt(d[e],10):0;if(isNaN(l))return N(a.a,"System Version is not numeric: "+a.Va),
!1;if(f>l)return!1}return!0};R.prototype.l=function(){R.D.l.call(this);window&&vb(window,"unload",this.wb,!1,this);document&&vb(document,"visibilitychange",this.Sb,!1,this);delete R.jb;Db(this.a,"Disposed "+this.J())};var mc=Boolean(cast.__platform__&&cast.__platform__.crypto);p("cast.receiver.cryptokeys.getKeyByName",Boolean(cast.__platform__&&cast.__platform__.cryptokeys)?cast.__platform__.cryptokeys.getKeyByName:window.cryptokeys&&window.cryptokeys.getKeyByName);p("cast.receiver.crypto.decrypt",mc?cast.__platform__.crypto.decrypt:window.crypto.subtle.decrypt);p("cast.receiver.crypto.encrypt",mc?cast.__platform__.crypto.encrypt:window.crypto.subtle.encrypt);
p("cast.receiver.crypto.sign",mc?cast.__platform__.crypto.sign:window.crypto.subtle.sign);p("cast.receiver.crypto.unwrapKey",mc?cast.__platform__.crypto.unwrapKey:window.crypto.subtle.unwrapKey);p("cast.receiver.crypto.verify",mc?cast.__platform__.crypto.verify:window.crypto.subtle.verify);p("cast.receiver.crypto.wrapKey",mc?cast.__platform__.crypto.wrapKey:window.crypto.subtle.wrapKey);var nc=function(a,b){this.a=a;this.c=b;this.eb=function(){};this.cb=function(){};this.nb=function(){};this.ia=0;this.L=this.fa=null;this.Vb=0;this.B=this.F=null;this.xa=!1;this.Ka=!0;K(this.c,"error",this.qb,!1,this);K(this.c,"ended",this.Pa,!1,this);K(this.c,"loadedmetadata",this.vb,!1,this);O(this.a,"Using default Player")};g=nc.prototype;g.Ub=function(a,b,c,d){oc(this);this.Ka=a;this.ia=b;this.Vb=d||0;this.L=c||null};g.qb=function(a){oc(this);this.eb(a)};g.Pa=function(){oc(this);this.cb()};
g.vb=function(){this.F&&this.B&&pc(this.F,this.B);this.nb()};g.registerErrorCallback=function(a){this.eb=a};g.registerEndedCallback=function(a){this.cb=a};g.registerLoadCallback=function(a){this.nb=a};g.unregisterErrorCallback=function(){this.eb=function(){}};g.unregisterEndedCallback=function(){this.cb=function(){}};g.unregisterLoadCallback=function(){this.nb=function(){}};
var qc=function(a){var b=a.c.duration;if(isNaN(b)||null==a.L)return b;if(null!=a.fa)return a.fa;if(0<=a.L){var c=a.Vb+a.L;a.fa=Math.min(c,b)}else c=b+a.L,a.fa=Math.max(c,a.ia);return a.fa},oc=function(a){null!=a.L&&(vb(a.c,"timeupdate",a.Tb,!1,a),a.fa=null,a.L=null)};nc.prototype.Tb=function(){rc(this)};var rc=function(a){if(null==a.L)return!1;var b=qc(a);return isNaN(b)?!1:a.c.currentTime>=b?(a.Pa(),!0):!1};g=nc.prototype;
g.load=function(a,b,c,d,e){this.xa=!1;d&&d.tracks&&this.c&&(this.F&&this.F.S(),this.F=new sc(this.c,d.tracks,d.activeTrackIds||[],d.textTrackStyle||null));null!=this.L&&K(this.c,"timeupdate",this.Tb,!1,this);e||(this.ia=c&&0<c?c:0,O(this.a,"Load - contentId: "+a+" autoplay: "+b+" time: "+this.ia),this.c.autoplay=!1,a&&(this.c.src=a),this.c.autoplay=b,this.c.load())};
g.reset=function(){this.xa=!1;this.F&&(this.F.S(),this.F=null);this.activeTrackIds=null;this.c.removeAttribute("src");this.ia=0;this.c.load();oc(this)};g.play=function(){this.xa=!1;this.c.play()};g.seek=function(a,b){this.c.currentTime!=a&&(this.c.currentTime=a);rc(this)||("PLAYBACK_START"==b&&this.c.paused?this.c.play():"PLAYBACK_PAUSE"!=b||this.c.paused||this.c.pause())};g.pause=function(){this.xa=!0;this.c.pause()};
g.getState=function(){null==this.Ka&&(this.Ka=this.c.autoplay);return this.c.paused||isNaN(this.c.duration)?this.c.duration&&(this.c.currentTime||0==this.c.currentTime)&&this.c.currentTime<qc(this)?this.c.currentTime==this.ia&&this.Ka&&!this.xa?"BUFFERING":"PAUSED":"IDLE":"PLAYING"};g.getCurrentTimeSec=function(){var a=qc(this);return isNaN(a)?this.c.currentTime:this.c.currentTime<a?this.c.currentTime:a};g.getDurationSec=function(){return qc(this)};
g.getVolume=function(){return{level:this.c.volume,muted:this.c.muted}};g.setVolume=function(a){void 0!=a.level&&(this.c.volume=a.level);void 0!=a.muted&&(this.c.muted=a.muted)};g.editTracksInfo=function(a){if(this.F){if(a.textTrackStyle){var b=this.F,c=a.textTrackStyle;tc(b);uc(b,c)}a.activeTrackIds&&pc(this.F,a.activeTrackIds);this.B=a.activeTrackIds||[]}};var vc=function(a){F.call(this);this.ta=a;this.Aa={}};r(vc,F);var wc=[];g=vc.prototype;g.la=function(a,b,c,d){"array"!=ba(b)&&(b&&(wc[0]=b.toString()),b=wc);for(var e=0;e<b.length;e++){var f=K(a,b[e],c||this.handleEvent,d||!1,this.ta||this);if(!f)break;this.Aa[f.key]=f}return this};
g.Bb=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)this.Bb(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.ta||this,c=qb(c),d=!!d,b=a&&a[hb]?a.sa(b,c,d,e):a?(a=rb(a))?a.sa(b,c,d,e):null:null,b&&(wb(b),delete this.Aa[b.key]);return this};g.yb=function(){wa(this.Aa,function(a,b){this.Aa.hasOwnProperty(b)&&wb(a)},this);this.Aa={}};g.l=function(){vc.D.l.call(this);this.yb()};g.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var xc={td:"persistent-release-message"},yc=new Uint8Array([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]),T=function(a,b){L.call(this);this.Wc=b;this.C=a.createSession("persistent-license");this.sessionId=this.C.sessionId;this.expiration=this.C.expiration;this.closed=this.C.closed;this.keyStatuses=this.C.keyStatuses;this.ta=new vc(this);cb(this,ga(db,this.ta))};r(T,L);
p("cast.receiver.eme.KeySession.createSession",function(a,b){a:{for(var c in xc)if(xc[c]===b)break a;throw Error("Unknown key session type: "+b);}c=new T(a,b);c.ta.la(c.C,"message",c.Xb).la(c.C,"keystatuseschange",c.Xb);return c});
T.prototype.generateRequest=function(a,b){if("persistent-release-message"==this.Wc){if("cenc"!=a)throw Error("Only cenc initDataType is supported for persistent-release-message session type.");var c=new Uint8Array([0,0,0,0,112,115,115,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2]);c.set(yc,12);(new DataView(c.buffer)).setUint32(0,c.length);var d=new Uint8Array(b.byteLength+c.byteLength);d.set(new Uint8Array(b),0);d.set(c,b.byteLength);b=d}return this.C.generateRequest(a,b)};
T.prototype.generateRequest=T.prototype.generateRequest;T.prototype.load=function(a){return this.C.load(a)};T.prototype.load=T.prototype.load;T.prototype.update=function(a){return this.C.update(a)};T.prototype.update=T.prototype.update;T.prototype.close=function(){return this.C.close()};T.prototype.close=T.prototype.close;T.prototype.remove=function(){return this.C.remove()};T.prototype.remove=T.prototype.remove;T.prototype.Xb=function(a){var b=new G(a.type);Ba(b,a.ga);b.target=this;this.dispatchEvent(b)};var U=E("cast");p("cast.receiver.logger",U);p("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1E3,NONE:1500});U.bc=function(a){U&&U.Ab(Ya(a))};U.setLevelValue=U.bc;if(U){var zc=parseInt(Nb("log-level-cast-receiver"),10);U.bc(zc||1E3)};var Ac=function(){this.I=[];this.R=[]};Ac.prototype.enqueue=function(a){this.R.push(a)};var Bc=function(a){0==a.I.length&&(a.I=a.R,a.I.reverse(),a.R=[]);return a.I.pop()},Cc=function(a){return 0==a.I.length&&0==a.R.length};Ac.prototype.clear=function(){this.I=[];this.R=[]};Ac.prototype.contains=function(a){return 0<=x(this.I,a)||0<=x(this.R,a)};Ac.prototype.remove=function(a){var b=ra(this.I,a);if(0>b)return ta(this.R,a);sa(this.I,b);return!0};p("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");p("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});p("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"});p("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
p("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});p("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});p("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var Dc=function(){this.contentId="";this.streamType="NONE";this.contentType="";this.customData=this.textTrackStyle=this.tracks=this.duration=this.metadata=void 0};
p("cast.receiver.media.MediaInformation",Dc);var Ec=function(){this.muted=this.level=void 0};p("cast.receiver.media.Volume",Ec);p("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0;this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume={level:0,muted:!1};this.activeTrackIds=null;this.customData=this.preloadedItemId=this.loadingItemId=this.currentItemId=void 0});
p("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8,ALL_BASIC_MEDIA:15,QUEUE_NEXT:64,QUEUE_PREV:128});p("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});p("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});p("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});
p("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});p("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});p("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});
p("cast.receiver.media.Track",function(a,b){this.trackId=a;this.trackContentType=this.trackContentId=void 0;this.type=b;this.customData=this.subtype=this.language=this.name=void 0});p("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});
p("cast.receiver.media.TracksInfo",function(){this.textTrackStyle=this.activeTrackIds=this.tracks=void 0});p("cast.receiver.media.repeatMode",{REPEAT_OFF:"REPEAT_OFF",REPEAT_ALL:"REPEAT_ALL",REPEAT_SINGLE:"REPEAT_SINGLE",REPEAT_ALL_AND_SHUFFLE:"REPEAT_ALL_AND_SHUFFLE"});var Fc=function(a){return"REPEAT_OFF"==a||"REPEAT_ALL"==a||"REPEAT_SINGLE"==a||"REPEAT_ALL_AND_SHUFFLE"==a};p("cast.receiver.media.GetStatusOptions",{NO_METADATA:1,NO_QUEUE_ITEMS:2});var Gc=function(a){this.itemId=a;this.customData=this.activeTrackIds=this.preloadTime=this.playbackDuration=this.startTime=this.autoplay=this.media=void 0};p("cast.receiver.media.QueueItem",Gc);Gc.prototype.clone=function(a){var b=new Gc(this.itemId);b.autoplay=this.autoplay;b.startTime=this.startTime;b.playbackDuration=this.playbackDuration;b.preloadTime=this.preloadTime;b.activeTrackIds=this.activeTrackIds;b.customData=this.customData;if(!k(a)||a)b.media=this.media;return b};
var V=function(a,b,c){this.b=a;this.aa=b;this.i=c};p("cast.receiver.MediaQueue",V);V.prototype.a=E("cast.receiver.MediaQueue");V.prototype.Ib=function(a){if(!k(a)||a)return this.b;for(var b=[],c=0;c<this.b.length;c++)b.push(this.b[c].clone(a));return b};V.prototype.getItems=V.prototype.Ib;V.prototype.Nc=function(){return this.b.length};V.prototype.getLength=V.prototype.Nc;V.prototype.ib=function(){return this.aa};V.prototype.getRepeatMode=V.prototype.ib;
V.prototype.Lc=function(){return 0>this.i?null:this.b[this.i].itemId};V.prototype.getCurrentItemId=V.prototype.Lc;V.prototype.ha=function(){return 0>this.i?null:this.b[this.i]};V.prototype.getCurrentItem=V.prototype.ha;
var Hc=function(a,b){for(var c=[],d=0;d<b.length;d++)for(var e=0;e<a.b.length;e++)if(b[d]==a.b[e].itemId){c.push(b[d]);break}return c},Ic=function(a){return"REPEAT_ALL_AND_SHUFFLE"==a.aa},Jc=function(a,b){for(var c=0;c<a.b.length;c++)if(b==a.b[c].itemId)return c;return-1},Kc=function(a){return"REPEAT_ALL_AND_SHUFFLE"==a.aa||"REPEAT_ALL"==a.aa};V.prototype.reset=function(){this.i=-1};
var Lc=function(a,b){var c=Jc(a,b);if(-1==c||a.i==c)return!1;a.i=c;return!0},Nc=function(a,b,c){if(0>a.i)return"QUEUE_ENDED";b=a.i+b;var d=!1;b>=a.b.length?(b=Kc(a)?b%a.b.length:-1,d=!0):0>b&&(b=Kc(a)?a.b.length+(b+1)%a.b.length-1:0,d=!0);c&&(a.i=b);return-1==b?"QUEUE_ENDED":d?Ic(a)?(Mc(a),"QUEUE_SHUFFLED"):"QUEUE_LOOP":"QUEUE_ACTIVE"},Mc=function(a){var b=a.b.length,c,d;if(!(3>a.b.length))for(;0<b;)d=Math.floor(Math.random()*b),--b,c=a.b[d],a.b[d]=a.b[b],a.b[b]=c};var Oc=/#(.)(.)(.)(.)/,Qc=function(a){if(!Pc.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(Oc,"#$1$1$2$2$3$3$4$4"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},Pc=/^#(?:[0-9a-f]{4}){1,2}$/i,Rc=function(a){var b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"};!Ga&&!z||z&&9<=Na||Ga&&A("1.9.1");z&&A("9");var sc=function(a,b,c,d){F.call(this);this.c=a;this.bb=this.Ua=null;this.P=[];this.ab=!1;this.Ya="cast-captions-"+Math.floor(1E6*Math.random()).toString();this.lc="["+this.Ya+'="true"]::cue ';this.mc=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);for(a=0;a<b.length;a++){var e=b[a].trackContentId;if("TEXT"===b[a].type&&e){var f=b[a].trackContentType;if(0==la("vtt",e.substr(e.length-3,3))||void 0!=f&&0==la(f,"text/vtt"))e=document.createElement("track"),e.src=b[a].trackContentId,e.id=b[a].trackId,e.label=b[a].name,
e.srclang=b[a].language,e.kind=(b[a].subtype||"").toLowerCase(),this.P.push(e),this.c.appendChild(e)}}tc(this);d&&uc(this,d);pc(this,c)};r(sc,F);sc.prototype.a=E("cast.receiver.TextTracksManager");sc.prototype.J=function(){return"TextTracksManager"};
var pc=function(a,b){for(var c=0;c<a.P.length;c++){var d=a.P[c].track;0<=x(b,parseInt(a.P[c].id,10))?d.mode="showing":(d.mode="showing",d.mode="disabled")}},Sc=function(a){a.bb&&(a.c.removeAttribute(a.Ya),document.head.removeChild(a.bb),a.Ua=null)},Tc=function(a){a.ab&&(a.c.removeAttribute("crossorigin"),a.ab=!1)},W=function(a,b,c){!0===c||a.mc.test(b)?a.Ua.insertRule(a.lc+"{ "+b+" }",a.Ua.cssRules.length):Cb(a.a,"Invalid css cue: "+b)},tc=function(a){Sc(a);Tc(a);var b=document,c=b.createElement("STYLE");
c.type="text/css";b.getElementsByTagName("HEAD")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText="":c.appendChild(b.createTextNode(""));a.bb=c;a.Ua=document.styleSheets[document.styleSheets.length-1];W(a,"font-size: 4.1vh;");W(a,"font-family: monospace;");W(a,"font-style: normal;");W(a,"font-weight: normal;");W(a,"background-color: black;");W(a,"color: white;");a.c.setAttribute(a.Ya,!0);0<a.P.length&&!a.c.getAttribute("crossorigin")&&(a.c.setAttribute("crossorigin","anonymous"),a.ab=!0)},Uc=function(a,
b,c){var d;try{d=Rc(Qc(b))}catch(e){Cb(a.a,"Invalid color: "+b)}if(d)switch(a="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case "OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case "DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case "RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case "DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+d+", 0 -1px "+
d+";"}return""},Vc=function(a){switch(a){case "BOLD":return"font-weight: bold;";case "BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case "ITALIC":return"font-style: italic;"}return"font-style: normal;"},uc=function(a,b){if(k(b.foregroundColor))try{var c=Rc(Qc(b.foregroundColor));W(a,"color: "+c+";",!0)}catch(d){Cb(a.a,"Invalid color: "+b.foregroundColor)}if(k(b.backgroundColor))try{var e=Rc(Qc(b.backgroundColor));W(a,"background-color: "+e+";",!0)}catch(f){Cb(a.a,"Invalid color: "+b.backgroundColor)}k(b.fontScale)&&
W(a,"font-size: "+100*b.fontScale+"%;");if(k(b.fontFamily)||k(b.fontGenericFamily)){var c=b.fontFamily,e=b.fontGenericFamily,l="font-family: ",q="";k(c)&&(l+='"'+c+'"',q=", ");if(k(e)){var u;switch(e){case "SANS_SERIF":u='"Droid Sans", sans-serif';break;case "MONOSPACED_SANS_SERIF":u='"Droid Sans Mono", monospace';break;case "SERIF":u='"Droid Serif", serif';break;case "MONOSPACED_SERIF":u='"Cutive Mono"';break;case "CASUAL":u='"Short Stack"';break;case "CURSIVE":u="Quintessential";break;case "SMALL_CAPITALS":u=
'"Alegreya Sans SC"'}l+=q+u}W(a,l+";")}k(b.fontStyle)&&W(a,Vc(b.fontStyle));k(b.edgeType)&&(u=k(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",u=k(b.edgeColor)?Uc(a,b.edgeColor,b.edgeType):Uc(a,u,b.edgeType),W(a,u,!0))};sc.prototype.l=function(){sc.D.l.call(this);for(var a=0;a<this.P.length;a++)this.c.removeChild(this.P[a]);this.P=[];Sc(this);Tc(this);M(this.a,D,"Disposed "+this.J())};var X=function(a,b,c){L.call(this);var d=R.Hb();this.ob=c||"local";this.Na=d.Gb("urn:x-cast:com.google.cast.media","JSON");this.O=0;this.dd=1;this.sd=b||15;this.fc=this.Pb=this.ka=this.ja=this.h=this.g=null;this.N=!1;this.B=this.U=this.v=null;this.La=!0;this.pa=null;this.Xa=this.kc.bind(this);this.f=null;this.Wa=!1;this.Y=null;this.pb=1;this.Ta=-1;this.Ma=new Ac;this.va=!1;this.customizedStatusCallback=this.nc;this.onLoad=this.uc;this.onPlay=this.xc;this.onSeek=this.Ec;this.onPause=this.wc;this.onStop=
this.Gc;this.onSetVolume=this.Fc;this.onEditTracksInfo=this.pc;this.onQueueLoad=this.Ac;this.onQueueInsert=this.zc;this.onQueueUpdate=this.Dc;this.onQueueRemove=this.Bc;this.onQueueReorder=this.Cc;this.onMetadataLoaded=this.vc;this.onLoadMetadataError=this.tc;this.onEnded=this.qc;this.onQueueEnded=this.yc;this.onAbort=aa;this.onError=this.rc;this.onMediaStatus=this.onLocalRequestError=aa;this.onCancelPreload=this.onPreload=null;this.onGetStatus=this.sc;this.cc(a);this.Na.onMessage=this.sb.bind(this);
this.pa=Fb(this.Xa,1E3)};r(X,L);p("cast.receiver.MediaManager",X);X.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"edittracksinfo",QUEUE_LOAD:"queueload",QUEUE_INSERT:"queueinsert",QUEUE_UPDATE:"queueupdate",QUEUE_REMOVE:"queueremove",QUEUE_REORDER:"queuereorder",PRELOAD:"preload",CANCEL_PRELOAD:"cancelpreload"};var Y=function(a,b,c){G.call(this,a);this.data=b;this.senderId=c};r(Y,G);X.Event=Y;
var Z=function(){this.requestId=0;this.mediaSessionId=void 0;this.customData=null};X.RequestData=Z;var Wc=function(){Z.call(this);this.media=new Dc;this.autoplay=!1;this.currentTime=0;this.activeTrackIds=void 0};r(Wc,Z);X.LoadRequestData=Wc;var Xc=function(a){Wc.call(this);this.itemId=a};r(Xc,Wc);X.PreloadRequestData=Xc;var Yc=function(){Z.call(this);this.volume=new Ec};r(Yc,Z);X.VolumeRequestData=Yc;var Zc=function(){Z.call(this);this.textTrackStyle=this.activeTrackIds=void 0};r(Zc,Z);
X.EditTracksInfoData=Zc;var $c=function(){Z.call(this);this.resumeState=void 0;this.currentTime=0};r($c,Z);X.SeekRequestData=$c;var ad=function(){Z.call(this);this.options=void 0};r(ad,Z);X.GetStatusRequestData=ad;var bd=function(a){Z.call(this);this.repeatMode=void 0;this.items=a;this.currentTime=this.startIndex=void 0};r(bd,Z);X.QueueLoadRequestData=bd;var cd=function(a){Z.call(this);this.currentTime=this.currentItemId=this.currentItemIndex=this.insertBefore=void 0;this.items=a};r(cd,Z);
X.QueueInsertRequestData=cd;var dd=function(){Z.call(this);this.repeatMode=this.items=this.jump=this.currentTime=this.currentItemId=void 0};r(dd,Z);X.QueueUpdateRequestData=dd;var ed=function(a){Z.call(this);this.currentTime=this.currentItemId=void 0;this.itemIds=a};r(ed,Z);X.QueueRemoveRequestData=ed;var fd=function(a){Z.call(this);this.insertBefore=this.currentTime=this.currentItemId=void 0;this.itemIds=a};r(fd,Z);X.QueueReorderRequestData=fd;
X.LoadInfo=function(a,b){this.message=a;this.senderId=b};X.prototype.a=E("cast.receiver.MediaManager");X.prototype.J=function(){return"MediaManager"};X.prototype.Oc=function(){return this.h?this.h.media||null:null};X.prototype.getMediaInformation=X.prototype.Oc;X.prototype.Pc=function(){return this.f};X.prototype.getMediaQueue=X.prototype.Pc;
X.prototype.Vc=function(a,b,c,d,e){a=new cd(a);a.insertBefore=b;a.currentItemIndex=c;a.currentItemId=d;a.currentTime=e;a.type="QUEUE_INSERT";gd(this,this.ob,a)};X.prototype.insertQueueItems=X.prototype.Vc;X.prototype.gd=function(a,b,c){a=new ed(a);a.currentItemId=b;a.currentTime=c;a.type="QUEUE_REMOVE";gd(this,this.ob,a)};X.prototype.removeQueueItems=X.prototype.gd;
X.prototype.ld=function(a,b,c){b=void 0==b||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.h&&(this.h.media=a);b&&this.j(!0,null,c)};X.prototype.setMediaInformation=X.prototype.ld;
var hd=function(a){for(var b=0;b<a.length;b++)if(!k(a[b].trackId)||!k(a[b].type))return!1;return!0},id=function(a,b,c){if(!c||0===c.length)return!0;if(!b||c.length>b.length)return N(a.a,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var l=!1,q=0;q<b.length;q++)if(c[f]===b[q].trackId){l=!0;break}if(!l)return N(a.a,"Track ID does not exist: "+c[f]),!1;"AUDIO"===b[q].type?e++:"VIDEO"===b[q].type&&d++;if(1<e||1<d)return N(a.a,"Maximum one active video and one active audio track supported"),
!1}return!0},gd=function(a,b,c){c.mediaSessionId=a.O;a.sb(new Rb("message",b,c))};
X.prototype.sb=function(a){var b=a.data,c=b.type;if(!this.va||Cc(this.Ma)&&"LOAD"==c){a=a.senderId;var d;d=b.type;var e=b.requestId;if(m(e)&&e==Math.floor(e)){var f=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.O?(N(this.a,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.O),f=!0):"LOAD"!=d&&"GET_STATUS"!=d&&"QUEUE_LOAD"!=d&&(void 0==b.mediaSessionId?(N(this.a,"Invalid media session ID, it is undefined"),f=!0):"IDLE"==jd(this)&&(N(this.a,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),
f=!0));f?(this.Ea(a,e,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID"),d=!1):(M(this.a,D,"MediaManager message received"),d=!0)}else N(this.a,"Ignoring request, requestId is not an integer: "+e),d=!1;if(d){d=b.requestId;delete b.type;e=null;switch(c){case "LOAD":this.Wa=!1;e=kd(this,a,b,!0);break;case "GET_STATUS":O(this.a,"Dispatching MediaManager getStatus event");b=new Y("getstatus",b,a);if(this.onGetStatus)this.onGetStatus(b);this.dispatchEvent(b);e=null;break;case "PLAY":O(this.a,"Dispatching MediaManager play event");
b=new Y("play",b,a);if(this.onPlay)this.onPlay(b);this.dispatchEvent(b);e=null;break;case "SEEK":if(void 0==b.currentTime)N(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{O(this.a,"Dispatching MediaManager seek event");b=new Y("seek",b,a);if(this.onSeek)this.onSeek(b);this.dispatchEvent(b);e=null}break;case "STOP":O(this.a,"Dispatching MediaManager stop event");b=new Y("stop",b,a);if(this.onStop)this.onStop(b);this.dispatchEvent(b);e=null;break;case "PAUSE":O(this.a,
"Dispatching MediaManager pause event");b=new Y("pause",b,a);if(this.onPause)this.onPause(b);this.dispatchEvent(b);e=null;break;case "SET_VOLUME":if(!b.volume||void 0==b.volume.level&&void 0==b.volume.muted)N(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)N(this.a,"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{O(this.a,"Dispatching MediaManager setvolume event");b=
new Y("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.dispatchEvent(b);e=null}break;case "EDIT_TRACKS_INFO":O(this.a,"Dispatching MediaManager ediTracksInfo event");if(id(this,this.h.media.tracks,b.activeTrackIds)){c=new Y("edittracksinfo",b,a);b.textTrackStyle&&(this.h.media.textTrackStyle=b.textTrackStyle);b.activeTrackIds&&(this.B=b.activeTrackIds);if(this.onEditTracksInfo)this.onEditTracksInfo(c);this.dispatchEvent(c);e=null}else N(this.a,"Invalid track IDs"),e={type:"INVALID_REQUEST",
reason:"INVALID_PARAMS"};break;case "QUEUE_LOAD":this.Wa=!0;O(this.a,"Dispatching MediaManager queueLoad event");c=!1;if(k(b.startIndex)&&(!m(b.startIndex)||0>b.startIndex))N(this.a,"Invalid startIndex"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{e=(b.startIndex||0)+1;if(!b.items||b.items.length<e)N(this.a,"Invalid number of items"),c=!0;else if(b.repeatMode&&!Fc(b.repeatMode))N(this.a,"Invalid repeatMode"),c=!0;else for(e=0;e<b.items.length;e++)b.items[e].media?k(b.items[e].itemId)?
(N(this.a,"ItemId is not undefined, element at index: "+e),c=!0):b.items[e].itemId=this.pb++:(N(this.a,"Media is mandatory, missing in element at index: "+e),c=!0);if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.items=ld(b.items);b=new Y("queueload",b,a);if(this.onQueueLoad)this.onQueueLoad(b);this.dispatchEvent(b);e=null}}break;case "QUEUE_INSERT":this.Wa=!0;O(this.a,"Dispatching MediaManager queueInsert event");c=!1;if(this.f)if(b.items&&0!=b.items.length)if(k(b.currentItemId)&&k(b.currentItemIndex))N(this.a,
"Maximum one currentItem must be provided"),c=!0;else if(k(b.currentItemIndex)&&(!m(b.currentItemIndex)||0>b.currentItemIndex||b.currentItemIndex>=b.items.length))N(this.a,"Invalid currentItemIndex"),c=!0;else if(k(b.currentItemId)&&(!m(b.currentItemId)||0>b.currentItemId))N(this.a,"Invalid currentItemId"),c=!0;else for(e=this.pb++,f=0;f<b.items.length;f++)if(m(b.items[f].itemId)){N(this.a,"Item contains an itemId at index: "+f);c=!0;break}else b.items[f].itemId=e,e++;else N(this.a,"No items to insert"),
c=!0;else N(this.a,"Queue does not exist"),c=!0;if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.items=ld(b.items);b=new Y("queueinsert",b,a);if(this.onQueueInsert)this.onQueueInsert(b);this.dispatchEvent(b);e=null}break;case "QUEUE_UPDATE":O(this.a,"Dispatching MediaManager queueUpdate event");c=!1;this.f?b.items&&!md(this,b.items)?c=!0:b.repeatMode&&!Fc(b.repeatMode)&&(N(this.a,"Invalid repeatMode"),c=!0):(N(this.a,"Queue does not exist"),c=!0);if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};
else{if(b.items&&0<b.items.length){for(var c=this.f,e=b.items,f=[],l=0;l<e.length;l++)for(var q=0;q<c.b.length;q++)if(e[l].itemId==c.b[q].itemId){f.push(e[l]);break}b.items=ld(f)}b=new Y("queueupdate",b,a);if(this.onQueueUpdate)this.onQueueUpdate(b);this.dispatchEvent(b);e=null}break;case "QUEUE_REMOVE":O(this.a,"Dispatching MediaManager queueRemove event");c=!1;this.f?b.itemIds&&0!=b.itemIds.length?nd(this,b.itemIds)||(c=!0):(N(this.a,"No itemIds to remove"),c=!0):(N(this.a,"Queue does not exist"),
c=!0);if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.itemIds&&(b.itemIds=Hc(this.f,b.itemIds));b=new Y("queueremove",b,a);if(this.onQueueRemove)this.onQueueRemove(b);this.dispatchEvent(b);e=null}break;case "QUEUE_REORDER":O(this.a,"Dispatching MediaManager queueReorder event");c=!1;this.f?b.itemIds&&0!=b.itemIds.length?nd(this,b.itemIds)?k(b.insertBefore)&&0<=x(b.itemIds,b.insertBefore)&&(N(this.a,"insertBefore can not be one of the reordered items"),c=!0):c=!0:(N(this.a,"No itemIds to reorder"),
c=!0):(N(this.a,"Queue does not exist"),c=!0);if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.itemIds&&(b.itemIds=Hc(this.f,b.itemIds));b=new Y("queuereorder",b,a);if(this.onQueueReorder)this.onQueueReorder(b);this.dispatchEvent(b);e=null}break;default:N(this.a,"Unexpected message type: "+c),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}e&&(N(this.a,"Sending error: "+e.type+" "+e.reason),this.onLocalRequestError&&a==this.ob?(e.requestId=d,this.onLocalRequestError(e)):this.Ea(a,
d,e.type,e.reason))}}else this.Ma.enqueue(a)};
var jd=function(a){if(!a.h)return"IDLE";var b=a.g.getState();return"PLAYING"==b&&a.N?"BUFFERING":b},od=function(a,b,c,d){var e={type:"MEDIA_STATUS"};if(!a.h&&!a.ja)return e.status=[],e;var f={mediaSessionId:a.O,playbackRate:a.dd,playerState:jd(a),currentTime:a.g.getCurrentTimeSec(),supportedMediaCommands:a.sd,volume:a.g.getVolume()};a.B&&(f.activeTrackIds=a.B);a.Y&&(f.preloadedItemId=a.Y);if(a.h)b&&(f.media=a.h.media||void 0),f.currentItemId=a.h.itemId;else if(b&&(f.media=a.ja.media||void 0),f.currentItemId=
a.ja.itemId,a.ja=null,a.f){var l=a.f.ha();l&&(f.loadingItemId=l.itemId)}"IDLE"==f.playerState?a.U&&(f.idleReason=a.U):a.U=null;void 0!=c&&(f.customData=c);a.f&&(d&&(f.items=a.f.Ib(b)),f.repeatMode=a.f.ib());a.customizedStatusCallback?(a=a.customizedStatusCallback(f),null==a?e=null:e.status=[a]):e.status=[f];return e},pd=function(a){var b=a.g.getCurrentTimeSec();a.ka=b;a.Pb=b;a.fc=Date.now();null!=a.pa&&h.clearTimeout(a.pa);a.pa=Fb(a.Xa,1E3)};
X.prototype.kc=function(){this.pa=Fb(this.Xa,1E3);var a=jd(this);if("IDLE"!=a&&"PAUSED"!=a){a=this.ka;this.ka=this.g.getCurrentTimeSec();var b=this.N;this.N=100>1E3*(this.ka-a);if(b!=this.N)M(this.a,D,"Buffering state changed, isPlayerBuffering: "+this.N+" old time: "+a+" current time: "+this.ka),this.j(!1);else if(!this.N)if(a=1E3*(this.ka-this.Pb)-(Date.now()-this.fc),1E3<a||-1E3>a)M(this.a,D,"Time drifted: "+a),this.j(!1);else if(this.h&&this.f&&(a=this.f,(a=0>a.i?null:"REPEAT_SINGLE"==a.aa?a.b[a.i]:
a.i+1>=a.b.length&&(Ic(a)||"REPEAT_OFF"==a.aa)?null:a.b[(a.i+1)%a.b.length])&&m(a.preloadTime)&&this.h.media&&!this.v&&qd(this,a.preloadTime)&&this.Y!=a.itemId))if(this.onPreload){var c;c=new Xc(a.itemId);c.requestId=0;c.mediaSessionId=this.O;c.autoplay=a.autoplay;c.currentTime=a.startTime;c.customData=a.customData||null;c.activeTrackIds=a.activeTrackIds;c.media=a.media;c=new Y("preload",c,"");this.Y=a.itemId;O(this.a,"Sending preload event: "+JSON.stringify(c));this.onPreload(c)&&this.j(!1)}else O(this.a,
"Not sending preload event: "+JSON.stringify(c))}};X.prototype.j=function(a,b,c,d){if(this.g){if(M(this.a,D,"Sending broadcast status message"),a=od(this,a,c,d),null!=a){if(this.onMediaStatus&&a.status)this.onMediaStatus(a.status[0]||null);a.requestId=b||0;this.Na.Db(a);pd(this)}}else N(this.a,"Not sending broadcast status message, state is invalid")};X.prototype.broadcastStatus=X.prototype.j;X.prototype.jd=function(a){M(this.a,D,"Setting IDLE reason: "+a);this.U=a};X.prototype.setIdleReason=X.prototype.jd;
X.prototype.Ea=function(a,b,c,d,e){O(this.a,"Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.Na.send(a,f)};X.prototype.sendError=X.prototype.Ea;
X.prototype.$b=function(a,b,c,d,e){if(this.g){if(M(this.a,D,"Sending status message to "+a),c=od(this,c,d,e),null!=c){if(this.onMediaStatus&&c.status)this.onMediaStatus(c.status[0]||null);c.requestId=b;this.Na.send(a,c);pd(this)}}else N(this.a,"State is invalid"),this.Ea(a,b,"INVALID_PLAYER_STATE",null,d)};X.prototype.sendStatus=X.prototype.$b;X.prototype.nc=function(a){return a};
var rd=function(a){a.v=null;if(a.va)for(a.va=!1;!Cc(a.Ma)&&!a.va;)a.sb(Bc(a.Ma))},kd=function(a,b,c,d,e){O(a.a,"Dispatching MediaManager load event");O(a.a,"Load message received:"+JSON.stringify(c));var f=!1;c.media?c.media.tracks&&!hd(c.media.tracks)?(N(a.a,"Invalid tracks information"),f=!0):c.activeTrackIds&&!id(a,c.media.tracks,c.activeTrackIds)&&(f=!0):(N(a.a,"Media is mandatory"),f=!0);if(f)return{type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};a.v?a.zb("LOAD_CANCELLED"):a.h&&a.oa("INTERRUPTED");
a.v={senderId:b,message:c};a.B=c.activeTrackIds||null;a.va=!0;d&&(a.O++,e?a.f=e:(d=new Gc(a.pb++),d.media=c.media,d.autoplay=c.autoplay,d.activeTrackIds=c.activeTrackIds,d.customData=c.customData,a.f=new V([d],"REPEAT_OFF",0)));a.h=a.f&&a.f.ha();a.La&&a.g.Ub&&a.g.Ub(k(c.autoplay)?c.autoplay:!0,0<c.currentTime?c.currentTime:0,a.h.playbackDuration,a.h.startTime);b=new Y("load",c,b);if(a.onLoad)a.onLoad(b);a.dispatchEvent(b);return a.Y=null};
X.prototype.uc=function(a){a=a.data;if(a.media&&a.media.contentId){var b=void 0===a.autoplay?!0:a.autoplay;a.media.tracks?this.g.load(a.media.contentId,b,a.currentTime,{tracks:a.media.tracks,activeTrackIds:a.activeTrackIds,textTrackStyle:a.media.textTrackStyle}):this.g.load(a.media.contentId,b,a.currentTime)}};
X.prototype.Yc=function(a){if(!this.v)return!1;a.tracks=a.tracks||void 0;if(a.tracks&&!hd(a.tracks))return N(this.a,"Invalid tracks information"),!1;if(a.activeTrackIds&&!id(this,a.tracks,a.activeTrackIds))return N(this.a,"Invalid active tracks"),!1;this.B=a.activeTrackIds||null;if(this.f){var b=this.f.ha();b&&b.media&&(b.media.tracks=a.tracks,b.media.textTrackStyle=a.textTrackStyle||void 0)}this.g.load("",!1,void 0,a,!0);return!0};X.prototype.loadTracksInfo=X.prototype.Yc;
X.prototype.cc=function(a){a!==this.g&&(this.g&&(this.g.unregisterErrorCallback(),this.g.unregisterEndedCallback(),this.g.unregisterLoadCallback()),this.g=(this.La=a.getState?!1:!0)?new nc(this.a,a):a,this.g.registerErrorCallback(this.qb.bind(this)),this.g.registerEndedCallback(this.Pa.bind(this)),this.g.registerLoadCallback(this.vb.bind(this)))};X.prototype.setMediaElement=X.prototype.cc;
X.prototype.vb=function(){if(this.v)if(O(this.a,"Metadata loaded"),this.h&&this.h.media&&(this.h.media.duration=this.g.getDurationSec()),this.N=!0,this.onMetadataLoaded)this.onMetadataLoaded(this.v);else rd(this)};X.prototype.vc=function(a){this.La&&a.message&&void 0!=a.message.currentTime&&a.message.currentTime!=this.g.getCurrentTimeSec()&&this.g.seek(a.message.currentTime);this.Zb()};
X.prototype.qb=function(a){if(this.v)if(N(this.a,"Load metadata error: "+a),this.onLoadMetadataError)this.onLoadMetadataError(this.v);else rd(this);else if(this.onError)this.onError(a)};X.prototype.zb=function(a,b){this.v?(this.Ea(this.v.senderId,this.v.message.requestId,a||"LOAD_FAILED",null,b),rd(this)):N(this.a,"Not sending LOAD error as there is no on going LOAD request")};X.prototype.sendLoadError=X.prototype.zb;
X.prototype.Zb=function(a){if(this.v){var b=this.v.message.requestId;this.j(!0,b,a,0!=b);rd(this)}else N(this.a,"Not sending status as there is no on going LOAD request")};X.prototype.sendLoadComplete=X.prototype.Zb;g=X.prototype;g.rc=function(){this.oa("ERROR")};g.tc=function(){this.oa("ERROR",!1);this.zb("LOAD_FAILED")};g.Pa=function(){if(this.onEnded)this.onEnded()};
g.qc=function(){if(this.f){var a=-1!=this.Ta?this.Ta:void 0;this.Ta=-1;sd(this,"REPEAT_SINGLE"==this.f.ib()?0:1,!1,a,void 0,void 0,void 0,"FINISHED")}};g.yc=function(a,b){this.oa(a,!0,b)};
var sd=function(a,b,c,d,e,f,l,q){q=q||"INTERRUPTED";if(a.f&&"QUEUE_ENDED"!=Nc(a.f,b,!1)){var u=Nc(a.f,b,!0);O(a.a,"After "+b+" jump, transition is: "+u);if(b=td(a,a.f.ha(),void 0,l)){if(a.h&&(a.B=null,a.U=q,a.ja=a.h,a.h=null,"QUEUE_SHUFFLED"==u&&(f=!0),a.j(c,d,e,f),"INTERRUPTED"==a.U))a.onAbort();kd(a,"",b,!1)}else if(a.onQueueEnded)a.onQueueEnded(q,d)}else if(a.onQueueEnded)a.onQueueEnded(q,d)};g=X.prototype;
g.sc=function(a){M(this.a,D,"onGetStatus");var b=a.data;M(this.a,D,"onGetStatus: "+JSON.stringify(b));var c=!0,d=!0;b.options&&(b.options&1&&(c=!1),b.options&1&&(d=!1));this.$b(a.senderId,a.data.requestId,c,null,d)};g.xc=function(a){M(this.a,D,"onPlay");this.g.play();this.j(!1,a.data.requestId)};
g.Ec=function(a){a=a.data;M(this.a,D,"onSeek: "+JSON.stringify(a));this.g.seek(a.currentTime,a.resumeState);"PAUSED"!=this.g.getState()&&(this.N=!0);this.g.getCurrentTimeSec()<this.g.getDurationSec()?this.j(!1,a.requestId):this.Ta=a.requestId};g.Gc=function(a){this.oa("CANCELLED",!0,a.data.requestId)};
g.oa=function(a,b,c,d){b=void 0==b||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.h?(this.f=null,this.g.reset(),this.B=null,a&&(this.U=a),this.ja=this.h,this.h=null,b&&this.j(!1,c,d,void 0)):O(this.a,"Nothing to reset, Media is already null");if(a&&"INTERRUPTED"==a)this.onAbort()};X.prototype.resetMediaElement=X.prototype.oa;X.prototype.wc=function(a){this.g.pause();this.j(!1,a.data.requestId)};
X.prototype.Fc=function(a){a=a.data;this.g.setVolume(a.volume);this.j(!1,a.requestId)};X.prototype.pc=function(a){a=a.data;var b={activeTrackIds:a.activeTrackIds,textTrackStyle:a.textTrackStyle};this.g.editTracksInfo&&this.g.editTracksInfo(b);this.j(a.textTrackStyle?!0:!1,a.requestId)};
var nd=function(a,b){if(2>b.length)return!0;for(var c=0;c<b.length;c++)for(var d=c+1;d<b.length;d++)if(b[c]==b[d])return N(a.a,"Duplicate itemId: "+b[c]+"at positions:"+c+" "+d),!1;return!0},md=function(a,b){for(var c=0;c<b.length;c++){if(!m(b[c].itemId))return N(a.a,"Invalid itemId at position: "+c),!1;for(var d=c+1;d<b.length;d++){if(!m(b[d].itemId))return N(a.a,"Invalid itemId at position: "+d),!1;if(b[c].itemId==b[d].itemId)return N(a.a,"Duplicate itemId: "+b[c].itemId+"at positions:"+c+" "+d),
!1}}return!0},ld=function(a){for(var b=[],c=0;c<a.length;c++){var d=new Gc(a[c].itemId);d.media=a[c].media;d.autoplay=a[c].autoplay;d.startTime=a[c].startTime;d.playbackDuration=a[c].playbackDuration;d.preloadTime=a[c].preloadTime;d.activeTrackIds=a[c].activeTrackIds;d.customData=a[c].customData;b.push(d)}return b},td=function(a,b,c,d){if(!b)return null;var e=new Wc;e.requestId=c||0;e.mediaSessionId=a.O;e.type="LOAD";e.autoplay=b.autoplay;e.currentTime=k(d)?d:b.startTime;e.activeTrackIds=b.activeTrackIds;
e.customData=b.customData||null;e.media=b.media;return e},qd=function(a,b){if(a.h.media.duration-a.g.getCurrentTimeSec()<=b)return!0;if(null==a.Y)return!1;a.Y=null;if(!a.onCancelPreload)return!1;var c;c=new Z;c.requestId=0;c.mediaSessionId=a.O;c=new Y("cancelpreload",c,"");O(a.a,"Sending cancel preload event: "+JSON.stringify(c));a.onCancelPreload(c)&&a.j(!1);return!1};g=X.prototype;
g.Ac=function(a){var b=a.data,c=new V(b.items,b.repeatMode||"REPEAT_OFF",b.startIndex||0);(b=td(this,c.ha(),b.requestId,b.currentTime))?kd(this,a.senderId,b,!0,c):N(this.a,"Queue Load request is invalid")};
g.zc=function(a){a=a.data;O(this.a,"Queue insert data: "+JSON.stringify(a));var b=!1;k(a.currentItemId)&&(b=Lc(this.f,a.currentItemId));k(a.currentItemIndex)&&(b=!0);var c=this.f,d=a.items,e=a.insertBefore,f=a.currentItemIndex,e=m(e)?Jc(c,e):c.b.length,e=-1==e?c.b.length:e;ga(va,c.b,e,0).apply(null,d);k(f)?c.i=e+f:c.i>=e&&(c.i+=d.length);b?sd(this,0,!0,a.requestId,a.customData,!0,a.currentTime):this.j(!0,a.requestId,a.customData,!0)};
g.Dc=function(a){a=a.data;if(this.Wa){O(this.a,"Queue update data: "+JSON.stringify(a));var b=!1,c=!1;m(a.currentItemId)&&(c=Lc(this.f,a.currentItemId));m(a.jump)&&(c=!0);a.repeatMode&&(this.f.aa=a.repeatMode);if(a.items&&0<a.items.length){for(var b=this.f,d=a.items,e=0;e<d.length;e++)for(var f=0;f<b.b.length;f++)d[e].itemId==b.b[f].itemId&&(b.b[f]=d[e]);b=!0}c?sd(this,a.jump||0,b,a.requestId,a.customData,b,a.currentTime):this.j(b,a.requestId,a.customData,b)}else O(this.a,"QUEUE_UPDATE request ignored"),
this.j(!1,a.requestId)};
g.Bc=function(a){a=a.data;O(this.a,"Queue remove data: "+JSON.stringify(a));var b=!1;m(a.currentItemId)&&(b=Lc(this.f,a.currentItemId));if(a.itemIds&&0!=a.itemIds.length){if(!b){for(var b=this.f,c=a.itemIds,d=!1,e=0;e<c.length;e++)for(var f=0;f<b.b.length;f++)if(c[e]==b.b[f].itemId){b.b.splice(f,1);b.i==f?d=!0:b.i>f&&b.i--;break}b.i>=b.b.length&&(b.i=Kc(b)?0:-1,Ic(b)&&0==b.i&&Mc(b));b=d}b?sd(this,0,!1,a.requestId,a.customData,!0,a.currentTime):this.j(!1,a.requestId,a.customData,!0)}else N(this.a,
"No itemIds to remove")};
g.Cc=function(a){a=a.data;O(this.a,"Queue reorder data: "+JSON.stringify(a));var b=!1,c=!1;m(a.currentItemId)&&(c=Lc(this.f,a.currentItemId));if(a.itemIds&&0<a.itemIds.length){var b=this.f,d=a.itemIds,e=a.insertBefore;if(d&&0!=d.length){for(var f=b.b[b.i].itemId,l=k(e)?e:-1,e=b.b.length-d.length,q=[],u=-1==l?!0:!1,H=0;H<b.b.length;H++)0<=x(d,b.b[H].itemId)?u||b.b[H].itemId!=d[0]||(e=q.length):(q.push(b.b[H]),l==b.b[H].itemId&&(e=q.length-1,u=!0));l=[];for(u=0;u<d.length;u++){a:{for(H=0;H<b.b.length;H++)if(d[u]==
b.b[H].itemId){H=b.b[H];break a}H=null}l.push(H)}ga(va,q,e,0).apply(null,l);b.b=q;k(f)&&Lc(b,f)}b=!0}c?sd(this,0,!1,a.requestId,a.customData,b,a.currentTime):this.j(!1,a.requestId,a.customData,b)};g.l=function(){X.D.l.call(this);M(this.a,D,"Disposed "+this.J())};}).call(window);
