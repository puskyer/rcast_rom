// Copyright Google Inc. All Rights Reserved.
(function() { 'use strict';var k,aa=aa||{},m=this,ba=function(){},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},ea=function(a){return"string"==typeof a},fa=function(a){return"function"==ca(a)},ga=function(a,b,c){return a.call.apply(a.bind,arguments)},ha=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ia=function(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return ia.apply(null,arguments)},q=Date.now||function(){return+new Date},r=function(a,b){var c=a.split("."),d=m;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},u=function(a,b){function c(){}c.prototype=
b.prototype;a.B=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Zf=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];b.prototype[c].apply(a,g)}};var cast=m.cast||{};var ja=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(ja,Error);ja.prototype.name="CustomError";var ka=function(a,b){var c=String(b).toLowerCase(),d=String(a.substr(0,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)},la=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ma=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},v=function(a,b){return-1!=a.indexOf(b)},na=function(a,b){return a<b?-1:a>b?1:0};var oa=function(a,b){b.unshift(a);ja.call(this,la.apply(null,b));b.shift()};u(oa,ja);oa.prototype.name="AssertionError";var pa=function(a,b){throw new oa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var qa=Array.prototype,ra=qa.indexOf?function(a,b,c){return qa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ea(a))return ea(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},sa=qa.lastIndexOf?function(a,b,c){return qa.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(ea(a))return ea(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===
b)return c;return-1},ta=qa.forEach?function(a,b,c){qa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ea(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},va=function(a){var b;a:{b=ua;for(var c=a.length,d=ea(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:ea(a)?a.charAt(b):a[b]},wa=function(a,b){var c=ra(a,b),d;(d=0<=c)&&qa.splice.call(a,c,1);return d},ya=function(a){return qa.concat.apply(qa,arguments)},za=function(a){var b=a.length;
if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Aa=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Ba=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ca=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Da.length;f++)c=Da[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Fa="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},Ga=function(){};Ga.prototype.next=function(){throw Fa;};Ga.prototype.th=function(){return this};var Ia=function(a,b){this.Ga={};this.X=[];this.ya=this.M=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=Ia.prototype;k.ac=function(){return this.M};k.Ba=function(){Ja(this);for(var a=[],b=0;b<this.X.length;b++)a.push(this.Ga[this.X[b]]);return a};k.yb=function(){Ja(this);return this.X.concat()};k.$c=function(a){return Ka(this.Ga,a)};
k.bb=function(a,b){if(this===a)return!0;if(this.M!=a.ac())return!1;var c=b||La;Ja(this);for(var d,e=0;d=this.X[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};var La=function(a,b){return a===b};Ia.prototype.Ea=function(){return 0==this.M};Ia.prototype.clear=function(){this.Ga={};this.ya=this.M=this.X.length=0};Ia.prototype.remove=function(a){return Ka(this.Ga,a)?(delete this.Ga[a],this.M--,this.ya++,this.X.length>2*this.M&&Ja(this),!0):!1};
var Ja=function(a){if(a.M!=a.X.length){for(var b=0,c=0;b<a.X.length;){var d=a.X[b];Ka(a.Ga,d)&&(a.X[c++]=d);b++}a.X.length=c}if(a.M!=a.X.length){for(var e={},c=b=0;b<a.X.length;)d=a.X[b],Ka(e,d)||(a.X[c++]=d,e[d]=1),b++;a.X.length=c}};k=Ia.prototype;k.get=function(a,b){return Ka(this.Ga,a)?this.Ga[a]:b};k.set=function(a,b){Ka(this.Ga,a)||(this.M++,this.X.push(a),this.ya++);this.Ga[a]=b};
k.addAll=function(a){var b;a instanceof Ia?(b=a.yb(),a=a.Ba()):(b=Ca(a),a=Ba(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};k.forEach=function(a,b){for(var c=this.yb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Ia(this)};k.th=function(a){Ja(this);var b=0,c=this.ya,d=this,e=new Ga;e.next=function(){if(c!=d.ya)throw Error("The map has changed since the iterator was created");if(b>=d.X.length)throw Fa;var e=d.X[b++];return a?e:d.Ga[e]};return e};
var Ka=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ma=function(a){if("function"==typeof a.Ba)return a.Ba();if(ea(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ba(a)},Na=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(da(a)||ea(a))ta(a,b,c);else{var d;if("function"==typeof a.yb)d=a.yb();else if("function"!=typeof a.Ba)if(da(a)||ea(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ca(a);else d=void 0;for(var e=Ma(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var w;a:{var Oa=m.navigator;if(Oa){var Pa=Oa.userAgent;if(Pa){w=Pa;break a}}w=""};var Qa=v(w,"Opera")||v(w,"OPR"),Ra=v(w,"Trident")||v(w,"MSIE"),Sa=v(w,"Edge"),Ta=v(w,"Gecko")&&!(v(w.toLowerCase(),"webkit")&&!v(w,"Edge"))&&!(v(w,"Trident")||v(w,"MSIE"))&&!v(w,"Edge"),Ua=v(w.toLowerCase(),"webkit")&&!v(w,"Edge"),Va=function(){var a=w;if(Ta)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Sa)return/Edge\/([\d\.]+)/.exec(a);if(Ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ua)return/WebKit\/(\S+)/.exec(a)},Wa=function(){var a=m.document;return a?a.documentMode:void 0},Xa=function(){if(Qa&&
m.opera){var a=m.opera.version;return fa(a)?a():a}var a="",b=Va();b&&(a=b?b[1]:"");return Ra&&(b=Wa(),b>parseFloat(a))?String(b):a}(),Ya={},Za=function(a){var b;if(!(b=Ya[a])){b=0;for(var c=ma(String(Xa)).split("."),d=ma(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,n=/(\d*)(\D*)/g;do{var p=l.exec(g)||["","",""],t=n.exec(h)||["","",""];if(0==p[0].length&&0==t[0].length)break;b=na(0==p[1].length?0:parseInt(p[1],10),0==t[1].length?0:
parseInt(t[1],10))||na(0==p[2].length,0==t[2].length)||na(p[2],t[2])}while(0==b)}b=Ya[a]=0<=b}return b},$a=m.document,ab=$a&&Ra?Wa()||("CSS1Compat"==$a.compatMode?parseInt(Xa,10):5):void 0;var bb=function(a,b,c,d,e){this.reset(a,b,c,d,e)};bb.prototype.Nb=0;bb.prototype.Ue=null;var cb=0;bb.prototype.reset=function(a,b,c,d,e){this.Nb="number"==typeof e?e:cb++;this.Tc=d||q();this.fc=a;this.Hg=b;this.Gg=c;delete this.Ue};bb.prototype.af=function(){return this.fc};bb.prototype.Nf=function(a){this.fc=a};var db=function(a){this.lc=a;this.ed=this.Ne=this.fc=this.ne=null},eb=function(a,b){this.name=a;this.value=b};eb.prototype.toString=function(){return this.name};
var fb=new eb("SHOUT",1200),gb=new eb("SEVERE",1E3),hb=new eb("WARNING",900),ib=new eb("INFO",800),jb=new eb("CONFIG",700),kb=new eb("FINE",500),lb=[new eb("OFF",Infinity),fb,gb,hb,ib,jb,kb,new eb("FINER",400),new eb("FINEST",300),new eb("ALL",0)],mb=null,nb=function(a){if(!mb){mb={};for(var b=0,c;c=lb[b];b++)mb[c.value]=c,mb[c.name]=c}if(a in mb)return mb[a];for(b=0;b<lb.length;++b)if(c=lb[b],c.value<=a)return c;return null};db.prototype.getName=function(){return this.lc};
db.prototype.getParent=function(){return this.ne};db.prototype.Nf=function(a){this.fc=a};db.prototype.af=function(){return this.fc};var ob=function(a){if(a.fc)return a.fc;if(a.ne)return ob(a.ne);pa("Root logger has no level set.");return null};
db.prototype.log=function(a,b,c){if(a.value>=ob(this).value)for(fa(b)&&(b=b()),a=new bb(a,String(b),this.lc),c&&(a.Ue=c),c="log:"+a.Hg,m.console&&(m.console.timeStamp?m.console.timeStamp(c):m.console.markTimeline&&m.console.markTimeline(c)),m.msWriteProfilerMark&&m.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.ed)for(var e=0,f=void 0;f=b.ed[e];e++)f(d);c=c.getParent()}};db.prototype.info=function(a,b){this.log(ib,a,b)};
var pb={},qb=null,rb=function(){qb||(qb=new db(""),pb[""]=qb,qb.Nf(jb))},sb=function(){rb();return qb},x=function(a){rb();var b;if(!(b=pb[a])){b=new db(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=x(a.substr(0,c));c.Ne||(c.Ne={});c.Ne[d]=b;b.ne=c;pb[a]=b}return b};var tb=function(){this.fh=q()},ub=new tb;tb.prototype.set=function(a){this.fh=a};tb.prototype.reset=function(){this.set(q())};tb.prototype.get=function(){return this.fh};var vb=function(a){this.ji=a||"";this.xi=ub};k=vb.prototype;k.Wf=!0;k.lh=!0;k.ui=!0;k.ti=!0;k.mh=!1;k.vi=!1;var wb=function(a){return 10>a?"0"+a:String(a)},xb=function(a,b){var c=(a.Tc-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},yb=function(a){vb.call(this,a)};u(yb,vb);var zb=function(){this.li=ia(this.vh,this);this.Vd=new yb;this.Vd.lh=!1;this.Vd.mh=!1;this.wg=this.Vd.Wf=!1;this.Fg="";this.Qh={}};
zb.prototype.vh=function(a){if(!this.Qh[a.Gg]){var b;b=this.Vd;var c=[];c.push(b.ji," ");if(b.lh){var d=new Date(a.Tc);c.push("[",wb(d.getFullYear()-2E3)+wb(d.getMonth()+1)+wb(d.getDate())+" "+wb(d.getHours())+":"+wb(d.getMinutes())+":"+wb(d.getSeconds())+"."+wb(Math.floor(d.getMilliseconds()/10)),"] ")}b.ui&&c.push("[",xb(a,b.xi.get()),"s] ");b.ti&&c.push("[",a.Gg,"] ");b.vi&&c.push("[",a.af().name,"] ");c.push(a.Hg);b.mh&&(d=a.Ue)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Wf&&c.push("\n");
b=c.join("");if(c=Ab)switch(a.af()){case fb:Bb(c,"info",b);break;case gb:Bb(c,"error",b);break;case hb:Bb(c,"warn",b);break;default:Bb(c,"debug",b)}else this.Fg+=b}};var Cb=null,Ab=m.console,Bb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var Db=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,Eb=function(a,b,c,d,e,f){ea(a)?(this.zc="y"==a?b:0,this.kc="m"==a?b:0,this.xb="d"==a?b:0,this.zb="h"==a?b:0,this.Hb="n"==a?b:0,this.Kb="s"==a?b:0):(this.zc=a||0,this.kc=b||0,this.xb=c||0,this.zb=d||0,this.Hb=e||0,this.Kb=f||0)};Eb.prototype.bb=function(a){return a.zc==this.zc&&a.kc==this.kc&&a.xb==this.xb&&a.zb==this.zb&&a.Hb==this.Hb&&a.Kb==this.Kb};
Eb.prototype.clone=function(){return new Eb(this.zc,this.kc,this.xb,this.zb,this.Hb,this.Kb)};Eb.prototype.add=function(a){this.zc+=a.zc;this.kc+=a.kc;this.xb+=a.xb;this.zb+=a.zb;this.Hb+=a.Hb;this.Kb+=a.Kb};var y=function(){this.cd=this.cd;this.je=this.je};y.prototype.cd=!1;y.prototype.I=function(){this.cd||(this.cd=!0,this.F())};y.prototype.F=function(){if(this.je)for(;this.je.length;)this.je.shift()()};var z=function(a,b){a&&a.log(gb,b,void 0)},A=function(a,b){a&&a.log(hb,b,void 0)},B=function(a,b){a&&a.info(b,void 0)},Fb=function(a,b){a&&a.log(kb,b,void 0)};var Gb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.oc=!1;this.gh=!0};Gb.prototype.stopPropagation=function(){this.oc=!0};Gb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.gh=!1};var Hb=function(a){Hb[" "](a);return a};Hb[" "]=ba;var Ib;(Ib=!Ra)||(Ib=9<=ab);var Jb=Ib,Kb=Ra&&!Za("9");!Ua||Za("528");Ta&&Za("1.9b")||Ra&&Za("8")||Qa&&Za("9.5")||Ua&&Za("528");Ta&&!Za("8")||Ra&&Za("9");var Lb=function(a,b){Gb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.cb=this.state=null;a&&this.Z(a,b)};u(Lb,Gb);
Lb.prototype.Z=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(Ta){var f;a:{try{Hb(e.nodeName);f=!0;break a}catch(g){}f=!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=Ua||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Ua||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:
a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.cb=a;a.defaultPrevented&&
this.preventDefault()};Lb.prototype.stopPropagation=function(){Lb.B.stopPropagation.call(this);this.cb.stopPropagation?this.cb.stopPropagation():this.cb.cancelBubble=!0};Lb.prototype.preventDefault=function(){Lb.B.preventDefault.call(this);var a=this.cb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Mb="closure_listenable_"+(1E6*Math.random()|0),Nb=0;var Pb=function(a,b,c,d,e){this.listener=a;this.qe=null;this.src=b;this.type=c;this.Yc=!!d;this.Yd=e;this.key=++Nb;this.Nc=this.Ud=!1},Qb=function(a){a.Nc=!0;a.listener=null;a.qe=null;a.src=null;a.Yd=null};var Rb=function(a){this.src=a;this.ea={};this.Od=0};Rb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.ea[f];a||(a=this.ea[f]=[],this.Od++);var g=Sb(a,b,d,e);-1<g?(b=a[g],c||(b.Ud=!1)):(b=new Pb(b,this.src,f,!!d,e),b.Ud=c,a.push(b));return b};Rb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ea))return!1;var e=this.ea[a];b=Sb(e,b,c,d);return-1<b?(Qb(e[b]),qa.splice.call(e,b,1),0==e.length&&(delete this.ea[a],this.Od--),!0):!1};
var Tb=function(a,b){var c=b.type;c in a.ea&&wa(a.ea[c],b)&&(Qb(b),0==a.ea[c].length&&(delete a.ea[c],a.Od--))};Rb.prototype.bf=function(a,b,c,d){a=this.ea[a.toString()];var e=-1;a&&(e=Sb(a,b,c,d));return-1<e?a[e]:null};Rb.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Aa(this.ea,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Yc!=b))return!0;return!1})};
var Sb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Nc&&f.listener==b&&f.Yc==!!c&&f.Yd==d)return e}return-1};var Ub="closure_lm_"+(1E6*Math.random()|0),Vb={},Wb=0,C=function(a,b,c,d,e){if("array"==ca(b))for(var f=0;f<b.length;f++)C(a,b[f],c,d,e);else c=Xb(c),a&&a[Mb]?a.Qa.add(String(b),c,!1,d,e):Yb(a,b,c,!1,d,e)},Yb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Zb(a);h||(a[Ub]=h=new Rb(a));c=h.add(b,c,d,e,f);if(!c.qe){d=$b();c.qe=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(ac(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Wb++}},$b=function(){var a=bc,b=Jb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},cc=function(a,b,c,d,e){if("array"==ca(b))for(var f=0;f<b.length;f++)cc(a,b[f],c,d,e);else c=Xb(c),a&&a[Mb]?a.Qa.add(String(b),c,!0,d,e):Yb(a,b,c,!0,d,e)},dc=function(a,b,c,d,e){if("array"==ca(b))for(var f=0;f<b.length;f++)dc(a,b[f],c,d,e);else c=Xb(c),a&&a[Mb]?a.Qa.remove(String(b),c,d,e):a&&(a=Zb(a))&&(b=a.bf(b,c,!!d,e))&&ec(b)},ec=function(a){if("number"!=
typeof a&&a&&!a.Nc){var b=a.src;if(b&&b[Mb])Tb(b.Qa,a);else{var c=a.type,d=a.qe;b.removeEventListener?b.removeEventListener(c,d,a.Yc):b.detachEvent&&b.detachEvent(ac(c),d);Wb--;(c=Zb(b))?(Tb(c,a),0==c.Od&&(c.src=null,b[Ub]=null)):Qb(a)}}},ac=function(a){return a in Vb?Vb[a]:Vb[a]="on"+a},gc=function(a,b,c,d){var e=!0;if(a=Zb(a))if(b=a.ea[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Yc==c&&!f.Nc&&(f=fc(f,d),e=e&&!1!==f)}return e},fc=function(a,b){var c=a.listener,d=a.Yd||a.src;
a.Ud&&ec(a);return c.call(d,b)},bc=function(a,b){if(a.Nc)return!0;if(!Jb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Lb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.oc&&0<=h;h--){c.currentTarget=e[h];var l=gc(e[h],
f,!0,c),d=d&&l}for(h=0;!c.oc&&h<e.length;h++)c.currentTarget=e[h],l=gc(e[h],f,!1,c),d=d&&l}return d}return fc(a,new Lb(b,this))},Zb=function(a){a=a[Ub];return a instanceof Rb?a:null},hc="__closure_events_fn_"+(1E9*Math.random()>>>0),Xb=function(a){if(fa(a))return a;a[hc]||(a[hc]=function(b){return a.handleEvent(b)});return a[hc]};var ic=function(){y.call(this);this.Qa=new Rb(this);this.uh=this;this.Df=null};u(ic,y);ic.prototype[Mb]=!0;ic.prototype.addEventListener=function(a,b,c,d){C(this,a,b,c,d)};ic.prototype.removeEventListener=function(a,b,c,d){dc(this,a,b,c,d)};
ic.prototype.dispatchEvent=function(a){var b,c=this.Df;if(c)for(b=[];c;c=c.Df)b.push(c);var c=this.uh,d=a.type||a;if(ea(a))a=new Gb(a,c);else if(a instanceof Gb)a.target=a.target||c;else{var e=a;a=new Gb(d,c);Ea(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.oc&&0<=g;g--)f=a.currentTarget=b[g],e=jc(f,d,!0,a)&&e;a.oc||(f=a.currentTarget=c,e=jc(f,d,!0,a)&&e,a.oc||(e=jc(f,d,!1,a)&&e));if(b)for(g=0;!a.oc&&g<b.length;g++)f=a.currentTarget=b[g],e=jc(f,d,!1,a)&&e;return e};
ic.prototype.F=function(){ic.B.F.call(this);if(this.Qa){var a=this.Qa,b=0,c;for(c in a.ea){for(var d=a.ea[c],e=0;e<d.length;e++)++b,Qb(d[e]);delete a.ea[c];a.Od--}}this.Df=null};var jc=function(a,b,c,d){b=a.Qa.ea[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Nc&&g.Yc==c){var h=g.listener,l=g.Yd||g.src;g.Ud&&Tb(a.Qa,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.gh};ic.prototype.bf=function(a,b,c,d){return this.Qa.bf(String(a),b,c,d)};
ic.prototype.hasListener=function(a,b){return this.Qa.hasListener(void 0!==a?String(a):void 0,b)};var kc=function(a,b,c){if(fa(a))c&&(a=ia(a,c));else if(a&&"function"==typeof a.handleEvent)a=ia(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};var lc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,nc=function(a){if(mc){mc=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=(c=nc(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw mc=!0,Error();}}return a.match(lc)},mc=Ua,oc=function(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};var pc=function(){};pc.prototype.bg=null;var rc=function(a){var b;(b=a.bg)||(b={},qc(a)&&(b[0]=!0,b[1]=!0),b=a.bg=b);return b};var sc,tc=function(){};u(tc,pc);var uc=function(a){return(a=qc(a))?new ActiveXObject(a):new XMLHttpRequest},qc=function(a){if(!a.tg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.tg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.tg};sc=new tc;var D=function(a){ic.call(this);this.headers=new Ia;this.Ge=a||null;this.ub=!1;this.Fe=this.u=null;this.Eg=this.rd="";this.gb=0;this.qd="";this.bc=this.ef=this.Zd=this.Te=!1;this.sb=0;this.$=null;this.Hd="";this.De=this.Qd=!1};u(D,ic);D.prototype.a=x("goog.net.XhrIo");var vc=/^https?$/i,wc=["POST","PUT"],xc=function(a){a.Hd="arraybuffer"};
D.prototype.send=function(a,b,c,d){if(this.u)throw Error("[goog.net.XhrIo] Object is active with another request="+this.rd+"; newUri="+a);b=b?b.toUpperCase():"GET";this.rd=a;this.qd="";this.gb=0;this.Eg=b;this.Te=!1;this.ub=!0;this.u=this.Pe();this.Fe=this.Ge?rc(this.Ge):rc(sc);this.u.onreadystatechange=ia(this.Tg,this);try{Fb(this.a,yc(this,"Opening Xhr")),this.ef=!0,this.u.open(b,String(a),!0),this.ef=!1}catch(e){Fb(this.a,yc(this,"Error opening Xhr: "+e.message));zc(this,e);return}a=c||"";var f=
this.headers.clone();d&&Na(d,function(a,b){f.set(b,a)});d=va(f.yb());c=m.FormData&&a instanceof m.FormData;!(0<=ra(wc,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.u.setRequestHeader(b,a)},this);this.Hd&&(this.u.responseType=this.Hd);"withCredentials"in this.u&&(this.u.withCredentials=this.Qd);try{Ac(this),0<this.sb&&(this.De=Cc(this.u),Fb(this.a,yc(this,"Will abort after "+this.sb+"ms if incomplete, xhr2 "+this.De)),this.De?(this.u.timeout=
this.sb,this.u.ontimeout=ia(this.qh,this)):this.$=kc(this.qh,this.sb,this)),Fb(this.a,yc(this,"Sending request")),this.Zd=!0,this.u.send(a),this.Zd=!1}catch(g){Fb(this.a,yc(this,"Send error: "+g.message)),zc(this,g)}};var Cc=function(a){return Ra&&Za(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout},ua=function(a){return"content-type"==a.toLowerCase()};D.prototype.Pe=function(){return this.Ge?uc(this.Ge):uc(sc)};
D.prototype.qh=function(){"undefined"!=typeof aa&&this.u&&(this.qd="Timed out after "+this.sb+"ms, aborting",this.gb=8,Fb(this.a,yc(this,this.qd)),this.dispatchEvent("timeout"),this.abort(8))};var zc=function(a,b){a.ub=!1;a.u&&(a.bc=!0,a.u.abort(),a.bc=!1);a.qd=b;a.gb=5;Dc(a);Ec(a)},Dc=function(a){a.Te||(a.Te=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
D.prototype.abort=function(a){this.u&&this.ub&&(Fb(this.a,yc(this,"Aborting")),this.ub=!1,this.bc=!0,this.u.abort(),this.bc=!1,this.gb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ec(this))};D.prototype.F=function(){this.u&&(this.ub&&(this.ub=!1,this.bc=!0,this.u.abort(),this.bc=!1),Ec(this,!0));D.B.F.call(this)};D.prototype.Tg=function(){this.cd||(this.ef||this.Zd||this.bc?Fc(this):this.ei())};D.prototype.ei=function(){Fc(this)};
var Fc=function(a){if(a.ub&&"undefined"!=typeof aa)if(a.Fe[1]&&4==Gc(a)&&2==Hc(a))Fb(a.a,yc(a,"Local request error detected and ignored"));else if(a.Zd&&4==Gc(a))kc(a.Tg,0,a);else if(a.dispatchEvent("readystatechange"),4==Gc(a)){Fb(a.a,yc(a,"Request complete"));a.ub=!1;try{var b=Hc(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=nc(String(a.rd))[1]||null;if(!f&&m.self&&m.self.location)var g=m.self.location.protocol,
f=g.substr(0,g.length-1);e=!vc.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.gb=6;var h;try{h=2<Gc(a)?a.u.statusText:""}catch(l){Fb(a.a,"Can not get status: "+l.message),h=""}a.qd=h+" ["+Hc(a)+"]";Dc(a)}}finally{Ec(a)}}},Ec=function(a,b){if(a.u){Ac(a);var c=a.u,d=a.Fe[0]?ba:null;a.u=null;a.Fe=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){z(a.a,"Problem encountered resetting onreadystatechange: "+e.message)}}},Ac=function(a){a.u&&
a.De&&(a.u.ontimeout=null);"number"==typeof a.$&&(m.clearTimeout(a.$),a.$=null)};D.prototype.jd=function(){return!!this.u};
var Gc=function(a){return a.u?a.u.readyState:0},Hc=function(a){try{return 2<Gc(a)?a.u.status:-1}catch(b){return-1}},Ic=function(a){try{if(!a.u)return null;if("response"in a.u)return a.u.response;switch(a.Hd){case "":case "text":return a.u.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.u)return a.u.mozResponseArrayBuffer}z(a.a,"Response type "+a.Hd+" is not supported on this browser");return null}catch(b){return Fb(a.a,"Can not get response: "+b.message),null}};
D.prototype.getResponseHeader=function(a){return this.u&&4==Gc(this)?this.u.getResponseHeader(a):void 0};D.prototype.getAllResponseHeaders=function(){return this.u&&4==Gc(this)?this.u.getAllResponseHeaders():""};var yc=function(a,b){return b+" ["+a.Eg+" "+a.rd+" "+Hc(a)+"]"};var Jc=function(){this.oa=[];this.La=[]},Kc=function(a){0==a.oa.length&&(a.oa=a.La,a.oa.reverse(),a.La=[])};Jc.prototype.enqueue=function(a){this.La.push(a)};var Lc=function(a){Kc(a);return a.oa.pop()},Mc=function(a){Kc(a);a=a.oa;return a[a.length-1]};k=Jc.prototype;k.ac=function(){return this.oa.length+this.La.length};k.Ea=function(){return 0==this.oa.length&&0==this.La.length};k.clear=function(){this.oa=[];this.La=[]};k.contains=function(a){return 0<=ra(this.oa,a)||0<=ra(this.La,a)};
k.remove=function(a){var b=sa(this.oa,a);if(0>b)return wa(this.La,a);qa.splice.call(this.oa,b,1);return!0};k.Ba=function(){for(var a=[],b=this.oa.length-1;0<=b;--b)a.push(this.oa[b]);for(var c=this.La.length,b=0;b<c;++b)a.push(this.La[b]);return a};var E=function(a,b){this.ab=this.xc=this.mb="";this.Kc=null;this.$b=this.Ya="";this.ua=this.Zh=!1;var c;if(a instanceof E)this.ua=void 0!==b?b:a.ua,Nc(this,a.mb),c=a.xc,F(this),this.xc=c,c=a.ab,F(this),this.ab=c,Oc(this,a.Kc),c=a.Ya,F(this),this.Ya=c,Pc(this,a.lb.clone()),c=a.$b,F(this),this.$b=c;else if(a&&(c=nc(String(a)))){this.ua=!!b;Nc(this,c[1]||"",!0);var d=c[2]||"";F(this);this.xc=Qc(d);d=c[3]||"";F(this);this.ab=Qc(d,!0);Oc(this,c[4]);d=c[5]||"";F(this);this.Ya=Qc(d,!0);Pc(this,c[6]||"",
!0);c=c[7]||"";F(this);this.$b=Qc(c)}else this.ua=!!b,this.lb=new Rc(null,0,this.ua)};
E.prototype.toString=function(){var a=[],b=this.mb;b&&a.push(Sc(b,Tc,!0),":");if(b=this.ab){a.push("//");var c=this.xc;c&&a.push(Sc(c,Tc,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Kc;null!=b&&a.push(":",String(b))}if(b=this.Ya)this.ab&&"/"!=b.charAt(0)&&a.push("/"),a.push(Sc(b,"/"==b.charAt(0)?Uc:Vc,!0));(b=this.lb.toString())&&a.push("?",b);(b=this.$b)&&a.push("#",Sc(b,Wc));return a.join("")};
E.prototype.resolve=function(a){var b=this.clone(),c=!!a.mb;c?Nc(b,a.mb):c=!!a.xc;if(c){var d=a.xc;F(b);b.xc=d}else c=!!a.ab;c?(d=a.ab,F(b),b.ab=d):c=null!=a.Kc;d=a.Ya;if(c)Oc(b,a.Kc);else if(c=!!a.Ya){if("/"!=d.charAt(0))if(this.ab&&!this.Ya)d="/"+d;else{var e=b.Ya.lastIndexOf("/");-1!=e&&(d=b.Ya.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(v(e,"./")||v(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<
f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(F(b),b.Ya=d):c=""!==a.lb.toString();c?Pc(b,Qc(a.lb.toString())):c=!!a.$b;c&&(a=a.$b,F(b),b.$b=a);return b};E.prototype.clone=function(){return new E(this)};
var Nc=function(a,b,c){F(a);a.mb=c?Qc(b,!0):b;a.mb&&(a.mb=a.mb.replace(/:$/,""))},Oc=function(a,b){F(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Kc=b}else a.Kc=null},Pc=function(a,b,c){F(a);b instanceof Rc?(a.lb=b,a.lb.Mf(a.ua)):(c||(b=Sc(b,Xc)),a.lb=new Rc(b,0,a.ua))},F=function(a){if(a.Zh)throw Error("Tried to modify a read-only Uri");};E.prototype.Mf=function(a){this.ua=a;this.lb&&this.lb.Mf(a);return this};
var Qc=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Sc=function(a,b,c){return ea(a)?(a=encodeURI(a).replace(b,Yc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Yc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Tc=/[#\/\?@]/g,Vc=/[\#\?:]/g,Uc=/[\#\?]/g,Xc=/[\#\?@]/g,Wc=/#/g,Rc=function(a,b,c){this.M=this.O=null;this.na=a||null;this.ua=!!c},Zc=function(a){a.O||(a.O=new Ia,a.M=0,a.na&&oc(a.na,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,
" ")),c)}))};k=Rc.prototype;k.ac=function(){Zc(this);return this.M};k.add=function(a,b){Zc(this);this.na=null;a=$c(this,a);var c=this.O.get(a);c||this.O.set(a,c=[]);c.push(b);this.M++;return this};k.remove=function(a){Zc(this);a=$c(this,a);return this.O.$c(a)?(this.na=null,this.M-=this.O.get(a).length,this.O.remove(a)):!1};k.clear=function(){this.O=this.na=null;this.M=0};k.Ea=function(){Zc(this);return 0==this.M};k.$c=function(a){Zc(this);a=$c(this,a);return this.O.$c(a)};
k.yb=function(){Zc(this);for(var a=this.O.Ba(),b=this.O.yb(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.Ba=function(a){Zc(this);var b=[];if(ea(a))this.$c(a)&&(b=ya(b,this.O.get($c(this,a))));else{a=this.O.Ba();for(var c=0;c<a.length;c++)b=ya(b,a[c])}return b};k.set=function(a,b){Zc(this);this.na=null;a=$c(this,a);this.$c(a)&&(this.M-=this.O.get(a).length);this.O.set(a,[b]);this.M++;return this};
k.get=function(a,b){var c=a?this.Ba(a):[];return 0<c.length?String(c[0]):b};k.toString=function(){if(this.na)return this.na;if(!this.O)return"";for(var a=[],b=this.O.yb(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ba(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.na=a.join("&")};k.clone=function(){var a=new Rc;a.na=this.na;this.O&&(a.O=this.O.clone(),a.M=this.M);return a};
var $c=function(a,b){var c=String(b);a.ua&&(c=c.toLowerCase());return c};Rc.prototype.Mf=function(a){a&&!this.ua&&(Zc(this),this.na=null,this.O.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.na=null,this.O.set($c(this,d),za(a)),this.M+=a.length))},this));this.ua=a};Rc.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Na(arguments[b],function(a,b){this.add(b,a)},this)};r("cast.player.api.VERSION","1.0.0");r("cast.player.api.ErrorCode",{MANIFEST:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3});var ad=["cast.player.api.ErrorCode.MANIFEST","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK"];r("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1});r("cast.player.api.CaptionsType",{WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",UNKNOWN:"unknown"});
r("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine"});r("cast.player.api.LoggerLevel",{DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity});var G=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null};r("cast.player.api.RequestInfo",G);G.prototype.timeoutInterval=G.prototype.timeoutInterval;G.prototype.url=G.prototype.url;
G.prototype.headers=G.prototype.headers;G.prototype.withCredentials=G.prototype.withCredentials;G.prototype.content=G.prototype.content;G.prototype.protectionSystem=G.prototype.protectionSystem;G.prototype.skipRequest=G.prototype.skipRequest;G.prototype.setResponse=G.prototype.setResponse;var H=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};r("cast.player.api.RequestStatus",H);H.prototype.url=H.prototype.url;H.prototype.errorCode=H.prototype.errorCode;
H.prototype.status=H.prototype.status;H.prototype.responseHeaders=H.prototype.responseHeaders;H.prototype.response=H.prototype.response;var I=function(a,b,c,d,e,f){this.codecs=a;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f};r("cast.player.api.StreamInfo",I);I.prototype.codecs=I.prototype.codecs;I.prototype.mimeType=I.prototype.mimeType;I.prototype.bitrates=I.prototype.bitrates;I.prototype.language=I.prototype.language;I.prototype.name=I.prototype.name;I.prototype.role=I.prototype.role;
window.VTTCue=window.VTTCue||window.TextTrackCue;var bd=function(a){sb().Nf(nb(a))};r("cast.player.api.setLoggerLevel",bd);var cd=Cb=new zb;if(1!=cd.wg){var dd=sb(),ed=cd.li;dd.ed||(dd.ed=[]);dd.ed.push(ed);cd.wg=!0}var fd=cast.__platform__&&cast.__platform__.queryPlatformValue&&parseInt(cast.__platform__.queryPlatformValue("log-level-mpl"),10);bd(fd||0);var hd=function(a){gd.Zf(this,"constructor");this.Me=a;this.ob=0;this.Ka=new Uint8Array(5120)};hd.prototype.clear=function(){this.ob=0};hd.prototype.append=function(a){this.Ka.set(a,this.ob);this.ob+=a.length};
var ld=function(a,b){for(var c,d=c=0,e=0;d<a.ob;)2===c&&3===a.Ka[d]?c=0:(0===a.Ka[d]?c++:c=0,a.Ka[e]=a.Ka[d],e++),d++;c=d-e;for(d=0;d+c<a.ob;){for(var f=0;255===a.Ka[d];)f+=255,d++;f+=a.Ka[d++];if(45<f)break;for(e=0;255===a.Ka[d];)e+=255,d++;e+=a.Ka[d++];if(4===f){var f=a.Me.N,g=b,h=new id(a.Ka.subarray(d,d+e));if(181===jd(h)&&49===kd(h)&&1195456820===J(h)&&3===jd(h)){var l=jd(h);if(0!==(l&64)){l&=31;K(h,1);for(var n=0;n<l;n++){var p=jd(h),t=(p&4)>>2,Ha=jd(h),xa=jd(h);t&&f.Wb.push({time:g,type:p&
3,cg:Ha,dg:xa,Zg:f.Wb.length})}}}}d+=e}a.ob=0};var md=void 0===navigator.requestMediaKeySystemAccess,nd=md?{clearkey:"org.w3.clearkey",playready:"com.microsoft.playready",widevine:"com.widevine.alpha"}:{clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},od=x("cast.player.common"),pd=function(a){return ka(a,"audio/")},qd=function(a){return ka(a,"video/")},rd=function(a,b){return"caption"==a||ka(b,"text/")},td=function(a,b){var c;b?(c=new Uint8Array(new ArrayBuffer(16)),c.set(a),sd(c.subarray(0,4)),sd(c.subarray(4,
6)),sd(c.subarray(6,8))):c=a;this.Pd=c},ud=new td([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),vd=new td([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]);td.prototype.bb=function(a){if(null===a)return!1;var b=this.Pd;a=a.Pd;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0};
var sd=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},wd=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b},xd=function(a){switch(a){case "mp4a.a6":case "ec-3":return!0;default:return!1}},yd=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a};var zd={"Cast.MPL.Bandwidth":{min:0,max:1E4,uf:100},"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,uf:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,uf:20}},Bd=function(a){Ad()&&cast.__platform__.metrics.logEventToUma(a)},Cd=function(a,b){Ad()&&cast.__platform__.metrics.logHistogramValueToUma&&(zd[a]?cast.__platform__.metrics.logHistogramValueToUma(a,b,zd[a].min,zd[a].max,zd[a].uf):A(od,"Invalid histogram name"))},Dd=function(a,b){Ad()&&cast.__platform__.metrics.logIntToUma(a,b)},Ad=function(){return cast.__platform__&&
cast.__platform__.metrics};var L=function(a){this.initialBandwidth=2097152;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1!==a.useSingleKeySession;this.mediaElement=a.mediaElement;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.licenseCustomData=a.licenseCustomData||null;this.wh=!0===a.aggressiveStallHandling;this.Oh=!0===a.disableSourceBufferTimeAdjust;this.rg=!0===a.hlsContentKeyProtection;this.onAutoPause=this.onMediaDownloadEnded=
this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=this.processMetadata=this.prepareLicenseRequest=this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};r("cast.player.api.Host",L);L.prototype.initialBandwidth=L.prototype.initialBandwidth;L.prototype.autoResumeDuration=L.prototype.autoResumeDuration;L.prototype.autoPauseDuration=L.prototype.autoPauseDuration;
L.prototype.segmentRequestRetryLimit=L.prototype.segmentRequestRetryLimit;L.prototype.useSingleKeySession=L.prototype.useSingleKeySession;L.prototype.mediaElement=L.prototype.mediaElement;L.prototype.url=L.prototype.url;L.prototype.licenseUrl=L.prototype.licenseUrl;L.prototype.licenseCustomData=L.prototype.licenseCustomData;L.prototype.onError=L.prototype.onError;L.prototype.updateManifestRequestInfo=L.prototype.updateManifestRequestInfo;L.prototype.updateLicenseRequestInfo=L.prototype.updateLicenseRequestInfo;
L.prototype.updateSegmentRequestInfo=L.prototype.updateSegmentRequestInfo;L.prototype.updateCaptionsRequestInfo=L.prototype.updateCaptionsRequestInfo;L.prototype.trackBandwidth=L.prototype.trackBandwidth;L.prototype.getQualityLevel=L.prototype.getQualityLevel;L.prototype.prepareLicenseRequest=L.prototype.prepareLicenseRequest;L.prototype.processMetadata=L.prototype.processMetadata;L.prototype.processManifest=L.prototype.processManifest;L.prototype.processSegment=L.prototype.processSegment;
L.prototype.processLicense=L.prototype.processLicense;L.prototype.onManifestReady=L.prototype.onManifestReady;L.prototype.onMediaDownloadEnded=L.prototype.onMediaDownloadEnded;L.prototype.onAutoPause=L.prototype.onAutoPause;L.prototype.a=x("cast.player.api.Host");var M=function(a,b,c,d){z(a.a,"error: "+ad[b]+(d?" ("+d+")":""));Dd("Cast.MPL.Error",b);if(a.onError)a.onError(b,c)};var Fd=function(a){this.U=Ed(a)};Fd.prototype.reset=function(a){this.U=Ed(a)};var Ed=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};Fd.prototype.toString=function(){return this.U};
Fd.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.U.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.U.length?this.U.charAt(this.U.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(e=a.length-1;0<=e;e--)b+=a[e];this.U=b};
var Gd=function(a,b){if(b.U.length<a.U.length)return!0;if(b.U.length>a.U.length)return!1;for(var c=0;c<b.U.length;c++){var d=parseInt(a.U.charAt(c),10),e=parseInt(b.U.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var id=function(a){this.buffer=a;this.gg=new DataView(a.buffer,a.byteOffset);this.offset=0},jd=function(a){return a.buffer[a.offset++]},kd=function(a){var b=a.gg.getUint16(a.offset);a.offset+=2;return b},J=function(a){var b=a.gg.getUint32(a.offset);a.offset+=4;return b},Hd=function(a){var b=J(a);a=J(a);return 4294967296*b+a},Id=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},K=function(a,b){a.offset+=b};var Kd=function(a){this.hg=a;this.Le=this.Y=this.Tc=this.mode=this.ie=0;this.Ve=new Jd(this);this.We=new Jd(this);this.Wb=[];this.reset()},Ld=function(a){return a.Tc+a.Y},Md=function(){this.Tb=0};Md.prototype.set=function(a){this.Tb=a};Md.prototype.get=function(){return this.Tb};var Nd=function(){this.Ke=this.Yf=this.s=0};Nd.prototype.clear=function(){this.s=0};Nd.prototype.update=function(){this.s=2===this.s?1:0};Nd.prototype.matches=function(a,b){return 0!==this.s&&a===this.Yf&&b===this.Ke};
var Od=function(){this.timestamp=this.tb=0;this.kd=!1};Od.prototype.reset=function(){this.timestamp=this.tb=0;this.kd=!1};
var Pd=function(a){this.Ma=[];for(var b=0;15>=b;b++){this.Ma[b]=[];for(var c=0;32>=c;c++)this.Ma[b][c]=new Od}this.J=this.aa=this.ba=0;this.style=new Md;this.N=a;this.ud=0},Rd=function(a){for(var b="",c=Ld(a.N),d=c,e=1;15>=e;++e){for(var f="",g=!1,h=1;32>=h;++h){var l=a.Ma[e][h];if(0!==l.tb){var n=String.fromCharCode(l.tb);" "!==n&&(g=!0);var f=f+n,p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3===a.style.Tb?(!l.kd&&" "===n&&g&&32>h&&Qd(a.N.hg,c,c,b?b+"\n"+f:f),l.kd=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Qd(a.N.hg,
c,d,b)};Pd.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.Ma[b][c].reset();this.ud=a;this.J=0;this.aa=this.ba=1};
var Sd=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Td=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Ud=function(a){return a.Ma[a.ba][a.aa]},Vd=function(a,b,c){2<=b&&1<a.aa&&(--a.aa,Ud(a).tb=0);var d=Ud(a);
d.timestamp=Ld(a.N);a:{switch(b){case 0:b=Sd[(c&127)-32];break a;case 1:b=Td[c&15];break a}b=0}d.tb=b;32>a.aa&&a.aa++},Wd=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.Ma[b+e][f],h=a.Ma[c+e][f];g.tb=h.tb;g.timestamp=h.timestamp;g.kd=h.kd}},Xd=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.Ma[b+d][e].reset()},Yd=function(a){a.ba=0<a.J?a.J:1;a.aa=1;Xd(a,0,15)},Zd=function(a){this.N=a;this.Oe=0;this.style=new Md;this.qf=new Pd(a);this.rf=new Pd(a);this.V=new Pd(a);
this.Pa=this.qf;this.Hc=this.rf;this.H=this.Pa};Zd.prototype.reset=function(a,b){this.Oe=b;this.style.set(2);this.Pa=this.qf;this.Hc=this.rf;this.H=this.Pa;var c=(a<<2)+(b<<1)+0;this.qf.reset(c);this.rf.reset(c);this.V.reset((a<<2)+(b<<1)+1)};
var $d=function(a,b){var c=a.Pa;switch(a.style.get()){case 4:if(0<c.J)break;case 1:case 2:Rd(c),Yd(a.Pa),Yd(a.Hc),c.ba=15,c.J=b}a.style.set(3);a.H=c;a.H.style=a.style;a.N.mode=1<<c.ud;c.aa=1;c.J!==b&&(c.J>b?(Rd(c),Xd(c,c.ba-c.J,b)):c.ba<b&&(b=c.J),c.J=b)},ae=function(a){a.style.set(1);a.H=a.Hc;a.H.J=0;a.H.style=a.style;a.N.mode=1<<a.H.ud},be=function(a){a.style.set(4);a.H=a.V;a.H.style=a.style;a.N.mode=1<<a.H.ud},Jd=function(a){this.N=a;this.ec=new Nd;this.Ye=0;this.Td=new Zd(a);this.ag=new Zd(a);
this.Qe=this.Td};Jd.prototype.reset=function(a){this.Ye=a;this.ec.clear();this.Qe=this.Td;this.Td.reset(a,0);this.ag.reset(a,1)};
var de=function(a,b,c){a.ec.update();b=ce(b,c,a.ec);switch(b.result){case 0:return;case 1:case 2:return}var d=b.Rd;c=b.Sd;if(32<=d||!d)a.N.mode&a.N.ie&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.Qe.H,b&96&&Vd(a,0,b),c&96&&Vd(a,0,c));else if(d&16)a:if(!a.ec.matches(d,c)&&(b=a.ec,b.Yf=d,b.Ke=c,b.s=2,b=d&8?a.ag:a.Td,a.Qe=b,a.N.mode=1<<(a.Ye<<2)+(b.Oe<<1)+(4===b.style.Tb?1:0),(a.N.mode|1<<(a.Ye<<2)+(b.Oe<<1)+(4!==b.style.Tb?1:0))&a.N.ie))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>5&1];
c=c&16?4*((c&14)>>1):0;d=b.H;switch(b.style.get()){case 4:a=d.ba;break;case 3:if(a!==d.ba){if(a<d.J&&(a=d.J,a===d.ba))break;var e=1+d.ba-d.J,f=1+a-d.J;Wd(d,f,e,d.J);b=e;var g=d.J;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Xd(d,b,g)}}d.ba=a;d.aa=c+1}else switch(d&7){case 1:switch(c&112){case 32:Vd(b.H,0,32);break a;case 48:57===c?(b=b.H,Ud(b).tb=0,32>b.aa&&b.aa++):Vd(b.H,1,c&15);break a}break;case 2:if(c&32){Vd(b.H,2,c&31);break}break;case 3:if(c&32){Vd(b.H,3,c&31);break}break;case 4:case 5:if(32<=
c&&47>=c){switch(c){case 32:ae(b);break;case 33:b=b.H;1<b.aa&&(--b.aa,Ud(b).tb=0);break;case 36:b=b.H;a=Ud(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.Ma[c][d]===a){for(;32>=d;d++)b.Ma[c][d].reset();break}break;case 37:$d(b,2);break;case 38:$d(b,3);break;case 39:$d(b,4);break;case 40:Vd(b.H,0,32);break;case 41:b.style.set(2);b.H=b.Pa;b.H.J=0;b.H.style=b.style;b.N.mode=1<<b.H.ud;break;case 42:a=b.V;a.J=15;a.style.set(4);Yd(a);be(b);break;case 43:be(b);break;case 44:a=b.Pa;switch(b.style.get()){case 1:case 2:case 3:Rd(a)}Xd(a,
0,15);break;case 45:b:{a=b.H;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.ba){++a.ba;a.aa=1;break b}case 3:}2>a.J&&(a.J=2,a.ba<a.J&&(a.ba=a.J));b=a.ba-a.J+1;Rd(a);Wd(a,b,b+1,a.J-1);Xd(a,a.ba,1)}break;case 46:Xd(b.Hc,0,15);break;case 47:Rd(b.Pa),a=b.Hc,b.Hc=b.Pa,b.Pa=a,ae(b)}break}break;case 7:switch(c){case 33:case 34:case 35:b=b.H,32<(b.aa+=c&3)&&(b.aa=32)}}};Kd.prototype.clear=function(){this.Le=this.Tc=this.mode=0;this.Wb=[];this.reset()};
Kd.prototype.reset=function(){this.mode=0;this.Ve.reset(0);this.We.reset(1)};
var ee=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],ce=function(a,b,c){if(255===a&&255===b||!a&&!b)return{Rd:a,Sd:b,result:0};a=ee[a];
b=ee[b];if(a&128){if(!(b&128)&&0!==c.s&&c.Ke===b)return{Rd:a,Sd:b,result:1}}else if(b&128&&1<=a&&31>=a)return{Rd:a,Sd:b,result:2};return{Rd:a,Sd:b,result:3}},fe=function(a,b,c){255===b&&255===c||!b&&!c?(45===++a.Le&&a.reset(),a.Ve.ec.clear(),a.We.ec.clear()):(a.Le=0,de(a.Ve,b,c))};
Kd.prototype.decode=function(){this.Wb.sort(function(a,b){var e=a.time-b.time;return 0===e?a.Zg-b.Zg:e});for(var a=0;a<this.Wb.length;a++){var b=this.Wb[a];this.Tc=b.time;0===b.type?fe(this,b.cg,b.dg):1===b.type&&this.ie&496&&de(this.We,b.cg,b.dg)}this.Wb.length=0};var ge=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},he=function(a){return a.buffer.subarray(0,a.offset)},O=function(a,b){N(a,[b>>24,b>>16,b>>8,b])},N=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var ie=function(a){this.name=a};ie.prototype.parse=function(){};var P=function(a){this.name=a;this.value=null};u(P,ie);P.prototype.parse=function(a){this.value=parseInt(a,10)};var Q=function(a,b){this.name=a;this.value=b||null};u(Q,ie);Q.prototype.parse=function(a){this.value=a};var je=function(a){this.name=a;this.value=null};u(je,ie);je.prototype.parse=function(a){this.value="true"===a.toLowerCase()};var ke=function(a){P.call(this,a)};u(ke,P);
ke.prototype.parse=function(a){if(a=a.match(Db)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{var b=parseInt(a[2],10)||0,c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new Eb(-b,-c,-d,-e,-f,-g):new Eb(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.xb+a.zb)+a.Hb)+a.Kb};var le=function(a){this.name=a;this.value=null};u(le,ie);
var me={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",Ci:"URN:MPEG:DASH:MP4PROTECTION:2011"};le.prototype.parse=function(a){a=a.toUpperCase();for(var b in me)if(me.hasOwnProperty(b)&&0<=a.indexOf(me[b])){this.value=me[b];break}};var ne=function(a){this.name=a;this.value=null};u(ne,ie);
ne.prototype.parse=function(a){a=a.toUpperCase();0<=a.indexOf("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=ud:0<=a.indexOf("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")&&(this.value=vd)};var oe=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof ie){var d=b[c],e=a.getNamedItem(d.name);e&&d.parse(e.value)}};var pe=function(a){y.call(this);this.yi=a;this.df=this.Vc=null;this.qa=0;this.f=new D;C(this.f,"success",this.vd,!1,this);C(this.f,"error",this.mc,!1,this);C(this.f,"timeout",this.Yg,!1,this);C(this.f,"ready",this.Bf,!1,this)};u(pe,y);pe.prototype.F=function(){this.f.I();pe.B.F.call(this)};pe.prototype.load=function(a){this.Vc=a.url;this.df=a.headers;this.f.Qd=a.withCredentials;this.f.sb=Math.max(0,a.timeoutInterval);this.qa=0;this.f.send(this.Vc,void 0,void 0,this.df)};pe.prototype.abort=function(){this.f.abort()};
var qe=function(a){return new H(a.Vc,a.f.gb,Hc(a.f),a.f.getAllResponseHeaders(),Ic(a.f))};k=pe.prototype;k.vd=function(a){this.Oc(Ic(a.target))};k.mc=function(){408===Hc(this.f)?this.Yg():this.Oc(null)};k.Yg=function(){this.qa++;3<this.qa&&this.Oc(null)};k.Bf=function(){0<this.qa&&this.f.send(this.Vc,void 0,void 0,this.df)};k.Oc=function(a){this.qa=0;this.yi.Ib(a)};var re=function(a){pe.call(this,a);this.b=null};u(re,pe);
re.prototype.Gc=function(a,b){this.b=a;var c=new G;c.url=this.Vc=b;c.setResponse=this.Oc.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(c);c.skipRequest||this.load(c)};re.prototype.Oc=function(a){a&&this.b&&this.b.processManifest&&(a=this.b.processManifest(a));re.B.Oc.call(this,a)};var se=function(a){if(a[7]<<8|1!==a[6])return A(od,"PlayReady header object is not valid"),null;for(var b=a[9]<<8|a[8],b=b+10,c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;for(c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild.firstElementChild;null!=c;c=c.nextElementSibling)"LA_URL"===c.nodeName?d=c.textContent:"KID"===c.nodeName&&(b=wd(window.atob(c.textContent)));return b?{systemId:ud,fd:a,pd:new td(b,!0),url:d,ge:8}:(A(od,"PlayReady rights management header does not have KID"),
null)},te=function(a){a=wd(window.atob(a.trim()));return se(a)},R=function(a){this.host=a;this.Mc=this.hc=this.uri=null;this.da=!1;this.duration=-1;this.j=[]};R.prototype.getStreamCount=function(){return this.j.length};R.prototype.getStreamCount=R.prototype.getStreamCount;R.prototype.enableStream=function(a,b){var c=this.j[a];c.index=-1;c.K=-1;c.T=!0;c.enabled=b;c.Xa=!1};R.prototype.enableStream=R.prototype.enableStream;R.prototype.isStreamEnabled=function(a){return this.j[a].enabled};
R.prototype.isStreamEnabled=R.prototype.isStreamEnabled;R.prototype.getQualityLevel=function(a){return this.j[a].K};R.prototype.getQualityLevel=R.prototype.getQualityLevel;R.prototype.getStreamInfo=function(a){a=this.j[a];for(var b=[],c=0;c<a.w.length;c++)b.push(a.w[c].ca);return new I(a.codecs,a.mimeType,b,a.language,a.name,a.role)};R.prototype.getStreamInfo=R.prototype.getStreamInfo;k=R.prototype;
k.Ib=function(){for(var a=null,b=0;b<this.j.length;b++){var c=this.j[b];if(1===c.type)if(MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.a6"'))if(xd(c.codecs)){a=c;break}else a||(a=c);else if(!xd(c.codecs)){a=c;break}}a&&(a.enabled=!0);for(b=0;b<this.j.length;b++)if(c=this.j[b],2===c.type){c.enabled=!0;break}if(this.host.onManifestReady)this.host.onManifestReady();this.Mc.onManifestReady()};k.load=function(a){this.Mc=a;this.Gc()};
k.Gc=function(){var a=this.host.url;this.uri=new E(a);this.hc=new re(this);this.hc.Gc(this.host,a)};k.Ub=function(){this.hc&&(this.hc.I(),this.hc=null)};k.ve=function(a,b,c){a=this.j[a];a.K=b;ue(a.w[a.K])&&(a.Xa=!0);ve(c)};k.updateLicenseRequestInfo=function(){};k.lg=function(){return this.da?-1:this.duration};
k.za=function(a){a=this.j[a];var b=a.K;if(0>b)return null;a=a.w[b];var c=a.g;if(0===c.length)return null;var b=c[0].time,d=c.length-1,c=c[d].time+c[d].duration;this.da&&(c-=20,c<b&&(c=b));return{start:b-a.L,end:c-a.L}};k.seek=function(a,b){var c=this.j[a],d=c.w[c.K],e=d.g,f=this.za(a);if(!f)return!1;b<f.start&&(b=f.start);b>f.end&&(b=f.end);b+=d.L;for(d=e.length-1;0<=d;d--)if(b>=e[d].time)return c.index=d,!0;return!1};
k.Cb=function(a){a=this.j[a];var b=a.index+1;return b<a.w[a.K].g.length?(a.index=b,!0):!1};k.Bb=function(a){var b=this.j[a];a=b.index;b=b.w[b.K].g;return!this.da&&a===b.length-1};k.Aa=function(a){var b=this.j[a],c=b.K;return 0<=c&&(a=b.index,0<=a&&(b=b.w[c],c=b.g,a<c.length))?{time:c[a].time-b.L,duration:c[a].duration}:{time:0,duration:0}};k.reset=function(a){this.j[a].index=-1};k.Ig=function(a){return this.j[a].Xa};k.$e=function(){return null};k.updateSegmentRequestInfo=function(){};
k.processSegment=function(){};var ue=function(a){return null!==a.Ua||null!==a.D&&null!==a.D.Z};var we=function(){this.h=null;this.Cc=this.qc=this.sg=this.He=this.Xd=this.Ad=this.C=0};we.prototype.Ea=function(){return null===this.h};we.prototype.$d=function(){return this.C>=this.h.length};we.prototype.Z=function(a){this.h=a;this.Cc=this.qc=this.He=this.Xd=this.Ad=this.C=0};
we.prototype.parse=function(){for(var a=this.C;this.C<this.h.length&&!(524288<this.C-a);){for(;this.C<this.h.length&&71!==this.h[this.C];)this.C++;if(this.C+188>this.h.length)break;var b=this.C+188,c=b-1;this.C++;var d=this.h[this.C]&64,e=this.h[this.C]&31;this.C++;e=e<<8|this.h[this.C];this.C++;var f=(this.h[this.C]&48)>>4;this.C++;f&2&&(this.C+=this.h[this.C]+1);if(0===e||e===this.Ad)if(d&&this.C++,c=this.h[this.C],this.C++,0==c)for(c=this.C,d=this.h[c]&15,c++,d=d<<8|this.h[c],c++,e=c,c+=5;c<e+
d;)if(f=this.h[c],c++,f=(f<<8)+this.h[c],c++,0===f)c+=2;else{this.Ad=this.h[c]&31;c++;this.Ad=(this.Ad<<8)+this.h[c];break}else{if(2==c)for(d=c=this.C,e=this.h[c]&15,c++,e=e<<8|this.h[c],c++,c+=5,c+=2,f=this.h[c]&15,c++,f=f<<8|this.h[c],c+=f+1;c<d+e;){f=this.h[c];c++;var g=this.h[c]&31;c++;g=g<<8|this.h[c];c++;switch(f){case 27:this.Xd=g;break;case 15:this.He=g;break;case 21:this.sg=g}f=this.h[c]&15;c++;f=f<<8|this.h[c];c+=f+1}}else if(e===this.sg)d&&this.ah(this.C);else if(e===this.Xd||e===this.He)d&&
this.Ef(this.C),e===this.Xd&&this.$g(this.C,c);this.C=b}};var xe=function(a,b){var c=((a.h[b]&14)<<13)/1.373291015625,c=c+(a.h[b+1]<<6)/1.373291015625,c=c+(a.h[b+2]&254)/5.4931640625,c=c+a.h[b+3]/703.125;return c+=(a.h[b+4]&254)/18E4};we.prototype.Ef=function(a){if(0===this.h[a]&&0===this.h[a+1]&&1===this.h[a+2]){a+=7;var b=this.h[a]>>6&3;a++;var c=this.h[a];a++;this.C=a+c;2===b?this.Cc=this.qc=xe(this,a):3===b&&(this.qc=xe(this,a),this.Cc=xe(this,a+5))}};we.prototype.ah=function(){};
we.prototype.$g=function(){};var gd=function(a){we.call(this);this.pb=new hd(a)};u(gd,we);gd.prototype.Z=function(a){gd.B.Z.call(this,a);this.pb.clear()};gd.prototype.jh=function(){};
gd.prototype.$g=function(a,b){for(var c=0;;){var d;a:{d=a;for(var e=b,e=e-3;d<=e;){if(0===this.h[d]&&0===this.h[d+1]){if(0===this.h[d+2]&&1===this.h[d+3]){d+=4;break a}if(1===this.h[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.pb.ob||6===c){var c=e?d-1:b,f=this.pb;f.ob+(c-a+1)<=f.Ka.length||ld(this.pb,this.qc);this.pb.append(this.h.subarray(a,c))}if(!e)break;ld(this.pb,this.qc);a=d;c=this.h[a++]&31}};var ze=function(){};r("cast.player.core.CurrentTimeCallback",ze);ze.prototype.Ec=function(){};var Ae=function(){};r("cast.player.core.PlayerCallbacks",Ae);Ae.prototype.Ic=function(){};Ae.prototype.Wg=function(){};Ae.prototype.Jg=function(){};var Ce=function(a,b,c,d){this.b=a;this.o=b;this.$a=c;this.vb=this.b.initialBandwidth;this.Xb=Be(this,this.vb);B(this.a,this.o+": initial "+this.$a[this.Xb]);this.Ed=0;this.Ae=null;this.Dg=q();this.jc=d};Ce.prototype.a=x("cast.player.core.QualityManager");Ce.prototype.I=function(){De(this,!0)};var Be=function(a,b){for(var c=-1,d=Number.MAX_VALUE,e=0,f=0;f<a.$a.length;f++){if(b>=a.$a[f]){var g=b-a.$a[f];g<d&&(c=f,d=g)}a.$a[e]>a.$a[f]&&(e=f)}return 0>c?e:c};
Ce.prototype.Tf=function(a){var b=q();if(!a&&null!==this.Ae&&1E4>b-this.Ae)return this.Xb;this.Ae=b;a=Be(this,.7*this.vb);this.b.getQualityLevel&&(a=this.b.getQualityLevel(this.o,a));a!==this.Xb&&(B(this.a,this.o+": from "+this.$a[this.Xb]+" to "+this.$a[a]),De(this,!0),this.Xb=a);return this.Xb};
var De=function(a,b){var c=q()-a.Dg;if(b||!(3E5>c)){a:{var d=a.jc,e;if(pd(d))d="Audio",e=2E5;else if(qd(d))d="Video",e=1E6;else break a;e=Math.floor(a.$a[a.Xb]/e);9<e&&(e=9);Dd("Cast.MPL."+d+"Bitrate"+e,c)}a.Dg=q()}};var Ee=function(){};r("cast.player.core.ProcessSourceDataCallback",Ee);Ee.prototype.pe=function(){};var Fe=function(a,b,c,d,e){y.call(this);this.b=a;this.ki=e;this.vc=c;this.fa=d;this.o=b;this.Ce=!1;this.ma=this.va=this.Jb=null;this.Yb=new Jc;this.bd=0;this.createBuffer()};u(Fe,y);k=Fe.prototype;k.F=function(){this.Yb.clear();dc(this.ma,"updateend",this.Xg,!1,this);"closed"!==this.fa.readyState&&this.fa.removeSourceBuffer(this.ma);Fe.B.F.call(this)};k.a=x("cast.player.core.SourceBufferManager");
k.createBuffer=function(){null===this.ma&&"open"===this.fa.readyState&&(this.ma=this.fa.addSourceBuffer(this.vc.mimeType+'; codecs="'+this.vc.codecs+'"'),C(this.ma,"updateend",this.Xg,!1,this),Ge(this))};k.Ra=function(a){var b=this.bd+(this.Jb?this.Jb.duration:0);return this.va?this.va.time+this.va.duration-a+b:b};
k.reset=function(){this.Jb=this.va=null;this.ld()?He(this):(B(this.a,this.o+": queue abort"),this.Yb.enqueue({Cf:0,Ie:null}));this.ld()?Ie(this):(B(this.a,this.o+": queue remove"),this.Yb.enqueue({Cf:1,Ie:null}))};k.ld=function(){return null!==this.ma&&!this.Ce&&this.Yb.Ea()};
var Ge=function(a){for(;!a.Yb.Ea();){var b=Lc(a.Yb),c=b.Ie;switch(b.Cf){case 2:B(a.a,a.o+": dequeue append");a.bd-=c.interval.duration;Je(a,c.data,c.interval,c.L,c.T);return;case 1:B(a.a,a.o+": dequeue remove");Ie(a);return;case 0:B(a.a,a.o+": dequeue abort"),He(a)}}};
Fe.prototype.Xg=function(){for(var a=this.ma.buffered,b=0;b<a.length;b++)B(this.a,this.o+": "+a.start(b)+" - "+a.end(b));B(this.a,this.o+": updateend");null!==this.Jb&&0!==this.Jb.duration&&(this.va=this.Jb);this.Jb=null;this.Ce=!1;Ge(this)};
var Je=function(a,b,c,d,e){e?(He(a),c.time=Ke(a,c.time,!0),a.ma.timestampOffset=c.time-d,B(a.a,a.o+": timestampOffset = "+a.ma.timestampOffset)):c.time=Ke(a,c.time,!1);B(a.a,a.o+": append");a.Ce=!0;a.ma.appendBuffer(b);a.Jb={time:c.time,duration:c.duration};a.ki.pe(a.vc.mimeType,b,a.ma.timestampOffset,c.time,c.duration)},He=function(a){"open"===a.fa.readyState?(B(a.a,a.o+": abort"),a.ma.abort()):A(a.a,a.o+": unable to abort")},Ie=function(a){B(a.a,a.o+": remove");a.Ce=!0;a.ma.remove(0,a.fa.duration)};
Fe.prototype.append=function(a,b,c,d){this.ld()?Je(this,a,b,c,d):(B(this.a,this.o+": queue append"),this.bd+=b.duration,this.Yb.enqueue({Cf:2,Ie:{data:a,interval:{time:b.time,duration:b.duration},L:c,T:d}}))};var Ke=function(a,b,c){if(!a.va||a.b.Oh)return b;for(var d=a.ma.buffered,e=d.length-1;0<=e;e--){var f=d.end(e);if(b>=d.start(e)&&b<=f){c&&(b=f);break}if(f<b){B(a.a,"adjustTime: "+b+" : "+f);b=f;break}}return b};var Le=function(){};Le.prototype.a=x("cast.player.core.WebvttParser");var Me=/\n\s*\n/,Ne=/MPEGTS:([\d]*)/,Oe=/align:(start|middle|end)/,Pe=/position:(\d*)%/,Qe=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,Re=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;
Le.prototype.parse=function(a,b){for(var c=a.trim().split(Me),d=b,e=0,f=0,g=c[0].split("\n"),h=0;h<g.length;h++)if(0===g[h].indexOf("X-TIMESTAMP-MAP")){var l=g[h].match(Qe);l&&(e=Se(this,l[1]));(l=g[h].match(Ne))&&(f=parseInt(l[1],10)/9E4);break}b=d+(f-e);if(isNaN(b))return A(this.a,"invalid time offset"),[];d=[];for(e=1;e<c.length;e++)if(c[e]){for(var n=c[e],h=b,p=null,g=f=null,l=n.split("\n"),t=void 0,t=0;t<l.length;t++)if(p=l[t].match(Re)){f=l[t].match(Oe);g=l[t].match(Pe);break}p?(n=Se(this,p[1]),
p=Se(this,p[2]),l=l.slice(t+1).join("\n"),isNaN(n)||isNaN(p)||!l?(A(this.a,"skipped cue, begin="+n+", end="+p+", text="+l),f=null):(h=new VTTCue(n+h,p+h,l),f&&(h.align=f[1]),g&&(h.position=g[1]),f=h)):(A(this.a,"no timestamps in cue="+n),f=null);f&&d.push(f)}return d};var Se=function(a,b){var c=b.split(":");if(3<c.length)return A(a.a,"unexpected time format="+b),0;for(var d=0,e=0;e<c.length;e++)d=60*d+parseFloat(c[e]);return d};var Te=function(){this.Wd=30};Te.prototype.a=x("cast.player.core.TtmlParser");
var Ue=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/,Ve=function(a,b){for(var c=0;c<a.length;c++)if(a[c].localName===b)return a[c];return null},We=function(a,b){var c=b.split(":");if(1===c.length){var d=0;if(c=c[0].match(Ue)){var e=parseFloat(c[1]);switch(c[2]){case "h":d=3600*e;break;case "m":d=60*e;break;case "s":d=e;break;case "ms":d=e/1E3;break;case "f":d=e/a.Wd}}else A(a.a,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4===c.length&&(d+=parseInt(c[3],
10)/a.Wd);return d},Xe=function(a){var b="";a=a.childNodes;for(var c=0;c<a.length;c++){var d=a[c];d.nodeType===Node.TEXT_NODE?(d=d.textContent.trim())&&(b+=d):"span"===d.localName?(b+=Xe(d),(d=d.attributes.getNamedItem("tts:fontStyle"))&&"italic"===d.value&&(b="<i>"+b+"</i>")):"br"===d.localName&&(b+="\n")}return b};
Te.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=Ve(d.childNodes,"tt");if(!e)return A(this.a,"missing tt"),c;d=Ve(e.childNodes,"body");if(!d)return A(this.a,"missing body"),c;(e=e.attributes.getNamedItem("ttp:frameRate"))?this.Wd=parseInt(e.value,10):(A(this.a,"defaulting frameRate to30"),this.Wd=30);d=Ve(d.childNodes,"div");if(!d)return A(this.a,"missing div"),c;for(e=0;e<d.childNodes.length;e++){var f=d.childNodes[e];if("p"===f.localName){for(var g=null,
h=null,l=Xe(f),n=0;n<f.attributes.length;n++){var p=f.attributes[n];"begin"===p.localName?g=We(this,p.value)+b:"end"===p.localName&&(h=We(this,p.value)+b)}l&&null!==g&&null!==h?c.push(new VTTCue(g,h,l)):A(this.a,"skipped cue, begin="+g+", end="+h+", text="+a)}}return c};var Ye=function(a,b,c){y.call(this);this.i=b;this.Nd=document.createElement("track");this.Nd.src="";this.Nd.kind="captions";this.i.appendChild(this.Nd);this.wc=this.Nd.track;this.wc.mode="showing";this.Gh=a;this.Tb=c;switch(this.Tb){case "webvtt":a=1;break;case "ttml":a=2;break;case "cea608":a=3;break;default:a=0}Dd("Cast.MPL.Captions",a);this.xd=null;"ttml"===c?this.xd=new Te:"webvtt"===c&&(this.xd=new Le);this.va=null;this.rh=0};u(Ye,y);
Ye.prototype.F=function(){Ze(this);this.wc.mode="disabled";this.i.removeChild(this.Nd);Ye.B.F.call(this)};var Ze=function(a){var b=a.wc.cues;if(b)for(;0<b.length;)a.wc.removeCue(b[0])};k=Ye.prototype;k.createBuffer=function(){};k.reset=function(){Ze(this);this.va=null};k.ld=function(){return!0};
k.append=function(a,b,c,d){d&&(this.rh=b.time-c);if(this.xd){var e=0;switch(this.Tb){case "ttml":e=b.time;break;case "webvtt":e=this.rh}c=$e(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.xd.parse(decodeURIComponent(escape(String.fromCharCode.apply(null,a))),e);0<a.length;){var e=a.pop(),f=!1;if(e.startTime<d||.1>=Math.abs(e.startTime-d))for(var g=c.length-1;0<=g;g--)if(c[g].text===e.text&&.1>=Math.abs(c[g].startTime-e.startTime)&&.1>=Math.abs(c[g].endTime-e.endTime)){f=!0;break}f||
this.addCue(e)}}this.va=b};k.Ra=function(a){return this.va?this.va.time+this.va.duration-a:0};k.addCue=function(a){this.wc.addCue(a)};var $e=function(a){for(var b=[],c=a.wc.cues,d=a.Gh.Ec(),e=0;e<c.length;){var f=c[e];f.endTime<d?a.wc.removeCue(f):(b.push(f),e++)}return b};Ye.prototype.parse=function(a,b){for(var c=this.xd.parse(a,b);0<c.length;)this.addCue(c.pop())};var af=function(a,b,c,d){Ye.call(this,a,b.mediaElement,c);a=new G;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.ph=new pe(this);this.ph.load(a)};u(af,Ye);af.prototype.F=function(){this.ph.I();af.B.F.call(this)};af.prototype.reset=function(){};af.prototype.Ib=function(a){a&&this.parse(a,0)};var bf=function(a){D.call(this);this.yc=null;this.Af=a};u(bf,D);bf.prototype.Pe=function(){this.yc&&(this.yc.onprogress=null);this.yc=bf.B.Pe.call(this);this.yc.onprogress=this.Af;return this.yc};bf.prototype.F=function(){this.yc&&(this.yc.onprogress=null);bf.B.F.call(this)};var cf=function(a,b,c,d,e){y.call(this);this.Ha=a;this.b=b;this.v=c;this.o=d;c=c.getStreamInfo(d);this.Vb=rd(c.role,c.mimeType)?new Ye(a,b.mediaElement,c.codecs):new Fe(b,d,c,e,a);switch(c.codecs){case "mp4a.a6":a=1;break;case "ec-3":a=2;break;case "mp4a.40.2":a=3;break;case "mp4a.40.5":a=4;break;case "mp4a.67":a=5;break;case "avc1.4d40":a=6;break;case "avc1.4d401e":a=7;break;default:a=0}Dd("Cast.MPL.Codec",a);switch(c.mimeType){case "application/ttml+xml":a=1;break;case "text/vtt":a=2;break;case "text/mp4":a=
3;break;case "audio/mp4":a=4;break;case "video/mp4":a=5;break;case "video/mp2t":a=6;break;default:a=0}Dd("Cast.MPL.MimeType",a);Dd("Cast.MPL.StreamType",pd(c.mimeType)?1:qd(c.mimeType)?2:rd(c.role,c.mimeType)?3:0);this.be=!1;this.s=1;this.se=0;this.ze=!1;this.Ee=this.qa=0;this.Ac=400;this.dc=this.Fc=this.ce=this.de=!1;this.Cg=this.Je=0;this.dd=new Jc;this.R=new G;this.R.setResponse=this.mi.bind(this);this.f=new bf(this.Af.bind(this));xc(this.f);C(this.f,"success",this.vd,!1,this);C(this.f,"error",
this.mc,!1,this);C(this.f,"timeout",this.mc,!1,this);C(this.f,"ready",this.Bf,!1,this);this.Gd=new Ce(b,d,this.v.getStreamInfo(this.o).bitrates,c.mimeType)};u(cf,y);k=cf.prototype;k.a=x("cast.player.core.SegmentManager");k.F=function(){this.Vb.I();this.Gd.I();this.f.I();cf.B.F.call(this)};k.mi=function(a){a?df(this,{md:this.dc,data:new Uint8Array(a)}):this.mc();this.de=!1};k.le=function(a){this.s=-1;M(this.b,3,a)};k.Tf=function(){ef(this,!0)};
var ef=function(a,b){var c=a.v.getQualityLevel(a.o),d=a.Gd.Tf(b);if(d===c)return!1;a.be=!0;a.v.ve(a.o,d,a);return!0},ff=function(a,b,c,d,e){a.Fc?(B(a.a,a.o+": segment processed"),a.Fc=!1,a.b.processSegment&&a.b.processSegment(a.o,b),a.Vb.append(b,c,d,e)):B(a.a,a.o+": not processing");a.dd.Ea()||(B(a.a,a.o+": dequeue segment"),a.Dd(Lc(a.dd)))},gf=function(a,b){a.Fc?(B(a.a,a.o+": queue segment"),a.dd.enqueue(b)):a.Dd(b)};
cf.prototype.Dd=function(a){B(this.a,this.o+": process segment");this.Fc=!0;this.v.processSegment(this.o,a,this)};cf.prototype.reset=function(){B(this.a,this.o+": reset");this.s=1;this.se=0;this.ze=!1;this.Ee=this.qa=0;this.Ac=400;this.Fc=this.ce=!1;this.dd.clear();this.dc||this.f.abort();this.v.reset(this.o);this.Vb.reset();this.Ha.Ic()};cf.prototype.vd=function(a){df(this,{md:this.dc,headers:this.f.getAllResponseHeaders(),data:new Uint8Array(Ic(a.target))})};
var df=function(a,b){var c=a.Gd,d=q()-a.se,e=b.data.length;0>=d||(c.b.trackBandwidth&&c.b.trackBandwidth(c.o,d,e),Cd("Cast.MPL.Bandwidth",e/d),Cd("Cast.MPL.SegmentStats.Size",e),Cd("Cast.MPL.SegmentStats.Time",d),d=8E3*e/d,c.vb=.8*d+(1-.8)*c.vb,B(c.a,c.o+": current="+d.toFixed(2)+", average="+c.vb.toFixed(2)),De(c),c.Ed=0);a.qa=0;a.Ee=0;a.Ac=400;gf(a,b);if(a.dc)a.dc=!1;else if(a.ze=!1,c=a.Vb.Ra(a.Ha.Ec()),ef(a,10>c),a.Je=.8*c+(1-.8)*a.Je,3E5<q()-a.Cg&&(Dd("Cast.MPL.AverageBufferDuration",parseInt(a.Je,
10)),a.Cg=q()),a.be)return;a.Ha.Ic()};k=cf.prototype;k.Bf=function(){this.ce&&(hf(this),this.ce=!1)};
k.mc=function(){var a=this.Gd,b=q()-this.se;a.b.trackBandwidth&&a.b.trackBandwidth(a.o,b,a.Ed);0>=b?(A(a.a,"bad time on error"),a.vb=0):a.vb=8E3*a.Ed/b;a.Ed=0;a.Ae=null;B(a.a,a.o+": current="+a.vb.toFixed(2));De(a);0===this.qa&&ef(this,!0)?(this.ze=!0,this.Ha.Ic()):(this.qa++,this.qa>this.b.segmentRequestRetryLimit?(a=this.de?void 0:new H(this.R.url,this.f.gb,Hc(this.f),this.f.getAllResponseHeaders(),Ic(this.f)),this.le(a)):(this.Ee=q(),this.Ha.Ic(this.Ac)))};k.Af=function(a){this.Gd.Ed=a.loaded};
k.Ra=function(a){return this.Vb.Ra(a)};k.createBuffer=function(){this.Vb.createBuffer()};
var ve=function(a){a.be=!1;a.Ha.Jg();if(a.v.Ig(a.o)){var b=a.v.$e(a.o);if(!b){a.dc=!0;hf(a);return}gf(a,{md:!0,data:b})}a.Ha.Ic()},hf=function(a){if(jf(a))a.ce=!0;else{a.se=q();a.v.updateSegmentRequestInfo(a.o,a.R);a.R.timeoutInterval=Math.max(2E3*(a.dc?0:a.v.Aa(a.o).duration),1E4);a.R.skipRequest=!1;if(a.b.updateSegmentRequestInfo&&(a.b.updateSegmentRequestInfo(a.R),a.R.skipRequest)){a.de=!0;return}a.f.Qd=a.R.withCredentials;a.f.sb=Math.max(0,a.R.timeoutInterval);a.f.send(a.R.url,void 0,void 0,a.R.headers)}};
cf.prototype.jd=function(){return 0<this.s||this.Fc||jf(this)||!this.Vb.ld()};cf.prototype.jf=function(){return!this.be&&2>this.dd.ac()&&!jf(this)};var jf=function(a){return a.f.jd()||a.de};
cf.prototype.Gf=function(){if(0<this.qa||this.ze){if(0<this.qa){if(q()-this.Ee<this.Ac)return;this.Ac*=2}hf(this)}else if(1===this.s){var a=this.Ha.Ec();this.v.seek(this.o,a)?(B(this.a,this.o+": seek success "+a),this.s=2,this.Ha.Wg(this.o),hf(this)):B(this.a,this.o+": seek failure "+a)}else this.v.Cb(this.o)&&hf(this),this.v.Bb(this.o)&&(this.s=0)};var kf=function(a,b){this.b=a;this.ff=!1;this.Me=b;this.yf=this.fi.bind(this);this.vf=this.ke.bind(this)};kf.prototype.cancel=function(){this.ff=!0};kf.prototype.ke=function(a){if(!this.ff){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);M(this.b,2,void 0,b)}};kf.prototype.fi=function(a){this.ff||this.Me(a)};var lf=function(a,b,c,d,e){kf.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.yf,this.vf)};u(lf,kf);var mf=function(a,b,c){kf.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.yf,this.vf)};u(mf,kf);var nf=function(a,b){this.Ah=new E(a);this.fb=!1!==b;this.s=0;this.he=this.Fb=this.vc=this.tc=null;this.Nb=0;this.qg=this.pg=this.Re=!1;this.P={yg:!1,da:!0,Pf:0,g:[],Sc:[],pf:[]}};nf.prototype.a=x("cast.player.hls.Parser");
nf.prototype.parse=function(a){var b=a.split("\n");for(a=0;a<b.length;a++)if(!of(this,b[a]))return A(this.a,"failed to parse HLS playlist"),this.P=null;if(this.pg&&this.qg)for(a=0;a<this.P.Sc.length;)b=this.P.Sc[a].codecs,0===b.indexOf("mp4a.")&&0>b.indexOf(",")?(A(this.a,"filtered out "+b+" stream"),this.P.Sc.splice(a,1)):a++;return this.P};
var pf=function(a,b){var c=new E(b);c.mb||(b=a.Ah.resolve(c).toString());return b},of=function(a,b){b=b.trim();if(!b)return!0;if("#"!==b[0]){var c;c=b;if(3!=a.s&&4!=a.s)qf(a,"URI"),c=!1;else{c=pf(a,c);if(3==a.s){if(a.Fb){a.tc.Bg=a.Fb;var d=a.tc,e;if(a.he)e=a.he;else{e=a.tc.Rc;for(var f=new Uint8Array(16),g=15;0<=g;g--)f[g]=e&255,e>>=8;e=f}d.lf=e}a.tc.url=c;a.P.g.push(a.tc)}else 4==a.s&&(a.vc.url=c,a.P.Sc.push(a.vc));a.s=2;c=!0}return c}c="#EXTINF:";if(0===b.indexOf(c)&&(d=b.indexOf(","),0<=d))return c=
b.substr(c.length,d-c.length),2!=a.s&&1!=a.s?(qf(a,"EXTINF"),c=!1):(a.tc={Rc:a.Nb,url:"",$f:null,ia:0,duration:parseFloat(c),kg:a.Re,Bg:null,lf:null,T:!1},a.Re=!1,a.Nb+=1,a.s=3,c=!0),c;c="#EXT-X-KEY:";if(0===b.indexOf(c))return rf(a,b.substr(c.length));if(0===b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=a.s&&1!=a.s?(qf(a,"EXT-X-DISCONTINUITY"),c=!1):(a.Re=!0,a.s=2,c=!0),c;c="#EXT-X-BYTERANGE:";if(0===b.indexOf(c))return c=b.substr(c.length),3!=a.s?(qf(a,"EXT-X-BYTERANGE"),c=!1):(c=c.split("@"),d=parseInt(c[1],
10),a.tc.$f={start:d,end:d+parseInt(c[0],10)-1},c=!0),c;if(0===b.indexOf("#EXTM3U"))return 0!=a.s?(qf(a,"EXTM3U"),c=!1):(a.s=1,c=!0),c;if(0===b.indexOf("#EXT-X-ENDLIST"))return 2!=a.s&&1!=a.s?(qf(a,"EXT-X-ENDLIST"),c=!1):(a.P.da=!1,c=!0),c;c="#EXT-X-STREAM-INF:";if(0===b.indexOf(c))return e=b.substr(c.length),1!=a.s&&2!=a.s?(qf(a,"EXT-X-STREAM-INF"),c=!1):(f=e.match("BANDWIDTH=([0-9]+)"))?(c=parseInt(f[1],10),d=a.fb?"video/mp2t":"audio/mp4",(f=e.match('CODECS="([^"]*)"'))?(e=f[1],0===e.indexOf("mp4a.")&&
0>e.indexOf(",")?a.pg=!0:a.qg=!0):e="avc1.4d401e,mp4a.40.2",a.vc={name:null,url:"",ca:c,mimeType:d,codecs:e,gf:!0,language:null},a.P.yg=!0,a.s=4,c=!0):(A(a.a,"no BANDWIDTH attribute"),c=!1),c;c="#EXT-X-TARGETDURATION:";if(0===b.indexOf(c))return c=b.substr(c.length),1!=a.s?(qf(a,"EXT-X-TARGETDURATION"),c=!1):(a.P.Pf=parseInt(c,10),c=!0),c;c="#EXT-X-MEDIA-SEQUENCE:";if(0===b.indexOf(c))return c=b.substr(c.length),1!=a.s?(qf(a,"EXT-X-MEDIA-SEQUENCE"),c=!1):(a.Nb=parseInt(c,10),a.s=1,c=!0),c;c="#EXT-X-MEDIA:";
if(0===b.indexOf(c))a:if(c=b.substr(c.length),2!=a.s&&1!=a.s)qf(a,"EXT-X-MEDIA"),c=!1;else{var h=g=f=e=d=null,l=!1,n=c.match("TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)");if(null!==n)switch(n[1]){case "SUBTITLES":d="webvtt";e="text/vtt";break;case "AUDIO":d="mp4a.40.2";e="audio/mp4";break;default:c=!0;break a}n=c.match('URI="([^"]*)"');null!==n&&(f=pf(a,n[1]));n=c.match('LANGUAGE="([^"]*)"');null!==n&&(g=n[1]);n=c.match('NAME="([^"]*)"');null!==n&&(h=n[1]);n=c.match("DEFAULT=(YES|NO)");null!==n&&
(l="YES"===n[1]);f&&a.P.pf.push({name:h,url:f,ca:0,mimeType:e,codecs:d,gf:l,language:g});c=!0}else c=!0;return c},qf=function(a,b){A(a.a,"unexpected "+b+": state "+a.s)},rf=function(a,b){if(2!=a.s&&3!=a.s&&1!=a.s)return qf(a,"EXT-X-KEY"),!1;a.Fb=null;a.he=null;if(0<=b.indexOf("METHOD=NONE"))return!0;if(0>b.indexOf("METHOD=AES-128"))return A(a.a,"unsupported KEY"),!1;var c=b.match('URI="([^"]*)"');c&&(a.Fb=pf(a,c[1]));if(c=b.match("IV=0[x|X]([0-9a-fA-F]+)")){for(var c=c[1],d=new Uint8Array(16),e=15,
f=c.length;0<f;f-=2,e--)d[e]=parseInt(1<f?c.substr(f-2,2):c.substr(0,1),16);a.he=d}return!0};var sf=function(){this.Ta=-1;this.P=null};k=sf.prototype;k.a=x("cast.player.hls.Iterator");k.update=function(a){if(!(0>this.Ta)){for(var b=this.P.g[this.Ta],c=a.g,d=-1,e=b.Rc,f=0;f<c.length;f++)if(c[f].Rc===e){d=f;break}var g=0,f=0;0>d?(A(this.a,"update: "+e+" not found"),0<c.length&&(c[0].kg=!0,g=b.ia+b.duration),c.splice(0,0,b),d=0,f=1):g=b.ia-c[d].ia;for(;f<c.length;f++)c[f].ia+=g;this.Ta=d}this.P=a};k.next=function(){var a=this.Ta+1;return a<this.P.g.length?(this.Ta=a,!0):!1};
k.Bb=function(){return!this.P.da&&this.Ta===this.P.g.length-1};k.za=function(){var a=this.P.g,b=a[0].ia,c=a.length-1,a=a[c].ia+a[c].duration;this.P.da&&(a-=3*this.P.Pf,a<b&&(a=b));return{start:b,end:a}};k.seek=function(a){var b=this.za();if(!b)return!1;for(var c=this.P.g,d=0;d<c.length;d++)c[d].T=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(d=c.length-1;0<=d;d--)if(a>=c[d].ia)return this.Ta=d,c[this.Ta].T=!0;return!1};var tf=function(a){return 0>a.Ta?null:a.P.g[a.Ta]};var uf=function(a,b,c){y.call(this);this.b=a;this.zd=b;this.hb=new re(this);this.$=null;this.zi=this.Be.bind(this);this.qb=c;this.duration=-1;this.Gb=null};u(uf,y);k=uf.prototype;k.a=x("cast.player.hls.Playlist");k.F=function(){this.hb.I();null!==this.$&&(clearTimeout(this.$),this.$=null);uf.B.F.call(this)};k.load=function(){this.Be()};k.Ub=function(){this.duration=-1;this.Gb=null;this.hb.abort();null!==this.$&&(clearTimeout(this.$),this.$=null)};
k.Be=function(){B(this.a,"update: "+this.qb.url);this.hb.Gc(this.b,this.qb.url)};k.Ib=function(a){if(a)if(this.Gb=(new nf(this.qb.url)).parse(a)){a=0;for(var b=this.Gb.g,c=0;c<b.length;c++)b[c].ia=a,a+=b[c].duration;this.Gb.da?(a=1E3*this.Gb.Pf,this.$=setTimeout(this.zi,a),B(this.a,"update in: "+a)):this.duration=a;this.zd.xf(this)}else this.b.onError(0);else this.b.onError(3,qe(this.hb))};var vf=function(a,b,c,d){y.call(this);this.b=a;this.hb=new re(this);this.sd=b;this.zd=c;this.fb=d;this.Rb=[];this.Wa=[]};u(vf,y);vf.prototype.F=function(){this.hb.I();for(var a=0;a<this.Wa.length;a++)this.Wa[a].I();for(a=this.Wa.length=0;a<this.Rb.length;a++)this.Rb[a].I();this.Rb.length=0;vf.B.F.call(this)};vf.prototype.load=function(){this.hb.Gc(this.b,this.b.url)};
vf.prototype.Ib=function(a){if(a){var b=this.hb.Vc;if(b)if(a=(new nf(b,this.fb)).parse(a)){if(a.yg)for(b=0;b<a.Sc.length;b++){var c=new uf(this.b,this.zd,a.Sc[b]);this.Rb.push(c)}else{var d;this.fb?(c="avc1.4d401e,mp4a.40.2",d="video/mp2t"):(c="mp4a.40.2",d="audio/mp4");c=new uf(this.b,this.zd,{name:null,url:b,ca:0,mimeType:d,codecs:c,gf:!0,language:null});this.Rb.push(c)}for(b=0;b<a.pf.length;b++)c=new uf(this.b,this.zd,a.pf[b]),this.Wa.push(c);this.sd.onManifestReady()}else M(this.b,0)}else M(this.b,
3,qe(this.hb))};var wf=function(a,b){var c=b||0,d=c;if(73!==a[d++]||68!==a[d++]||51!==a[d++])return null;var d=d+3,e=a[d++]<<21|a[d++]<<14|a[d++]<<7|a[d++];return a.subarray(c,d+e)},xf=function(a,b,c){we.call(this);this.Ja=null;this.td=b;this.sf=Infinity;this.wi=c;for(this.Z(a);!this.$d();)this.parse()};u(xf,we);xf.prototype.mg=function(){return this.sf};xf.prototype.Ef=function(a){xf.B.Ef.call(this,a);null===this.Ja&&(this.Ja=this.Cc);a=yf(this.Ja,this.Cc);a<this.sf&&(this.sf=a)};
xf.prototype.ah=function(a){this.td&&0===this.h[a]&&0===this.h[a+1]&&1===this.h[a+2]&&189===this.h[a+3]&&(a=wf(this.h,a+9+this.h[a+8]),null!==a&&(null===this.Ja&&(this.Ja=this.Cc),this.td("ID3",a,this.wi+(yf(this.Ja,this.qc)-this.Ja))))};var yf=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b,c=95443.7176888889*(c+1)+b,f=Math.abs(d-a),g=Math.abs(e-a),h=Math.abs(c-a),l=f;g<f&&(d=e,l=g);h<l&&(d=c);return d};var zf=function(a,b,c,d){kf.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.yf,this.vf)};u(zf,kf);var Af=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Bf=function(a){z(x("cast.player.mp4.base"),a)},Cf=function(a,b,c){if(0>a||32<=a)return Bf("Invalid object type id: "+a),null;var d=Af.indexOf(b);return 0>d?(Bf("Invalid sample rate: "+b),null):0>c||16<c?(Bf("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var Df=function(a){id.call(this,a)};u(Df,id);var Ef=function(a){ge.call(this,a)};u(Ef,ge);var Ff=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var Gf=function(a){this.G=new Df(a);this.Pb=0;this.Wc=this.lc=null;this.me=a;this.Sa=0;this.Pb=J(this.G);this.Sa=4;this.lc=J(this.G);this.Sa+=4;1===this.Pb&&(this.Pb=Hd(this.G),this.Sa+=8);1970628964===this.lc&&(this.Wc=new td(Id(this.G,16)),this.Sa+=16)},Hf=function(a){switch(a.lc){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};Gf.prototype.getName=function(){return this.lc};
var If=function(a){return a.me.subarray(0,a.Pb)},S=function(a){return If(a).subarray(a.Sa)};Gf.prototype.m=function(a){N(a,this.me.subarray(0,this.Pb))};var T=function(a){Gf.call(this,a);this.Zb=this.ya=0;a=J(this.G);this.Sa+=4;this.ya=a>>>24;this.Zb=a&16777215};u(T,Gf);var Jf=function(a){T.call(this,a)};u(Jf,T);var Kf=new td([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]);
Jf.prototype.cf=function(a){for(var b=this.ya,c=jd(this.G),d=Array(c),e=0;e<c;e++){var f,g,h;if(1===b){f=J(this.G);var l=J(this.G);g=J(this.G);var n=J(this.G);h=f;var p=l,t=new Fd(Math.floor(4294967296*h/1E4).toString()+"0000");t.add(h%1E4*7296%1E4);t.add(p);h=t;f=4294967296/a*f+l/a;g=4294967296/a*g+n/a}else n=J(this.G),g=J(this.G),h=new Fd(n.toString()),f=n/a,g/=a;d[e]={time:f,duration:g,ib:h,offset:0,size:0,url:null}}return d};var Lf=function(a){T.call(this,a)};u(Lf,T);
Lf.prototype.cf=function(a){var b=this.ya;K(this.G,4);var c=J(this.G),d=0==b?J(this.G):Hd(this.G),e=0==b?J(this.G):Hd(this.G),f=a+If(this).byteOffset,g=this.Pb;K(this.G,2);a=kd(this.G);for(var b=Array(a),e=f+g+e,h=g=f=0;h<a;h++)f=J(this.G)&2147483647,g=J(this.G),K(this.G,4),b[h]={time:d/c,duration:g/c,ib:null,offset:e,size:f,url:null},d+=g,e+=f;return b};var Mf=function(a){T.call(this,a);this.te=new Uint8Array([]);this.Hf=null;this.kf=!1;this.wd()};u(Mf,T);
var Nf=new td([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);Mf.prototype.wd=function(){var a=new Df(S(this)),b=this.Zb;b&1&&K(a,20);var c=J(a);this.Hf=a.buffer.subarray(a.offset);this.kf=b&2?!0:!1;this.te=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.kf){K(a,8);var d=6*kd(a);this.te[b]=10+d;K(a,d)}else this.te[b]=8,K(a,8)};var Of=function(a){T.call(this,a);this.Qc=0;this.rc=[];this.Pc=[];this.wd()};u(Of,T);
Of.prototype.wd=function(){var a=new Df(S(this));this.Qc=J(a);var b=this.Zb;b&1&&K(a,4);b&4&&K(a,4);for(var c=!!(b&256),d=!!(b&512),e=!!(b&1024),b=!!(b&2048),f=0;f<this.Qc;f++)c&&K(a,4),d&&this.rc.push(J(a)),e&&K(a,4),b&&this.Pc.push(J(a))};Of.prototype.ue=function(a){Ff(S(this),4,a)};var Qf=function(a){Pf.Zf(this,"constructor",a);this.Md=9E4;this.wd()};u(Qf,T);Qf.prototype.wd=function(){var a=new Df(S(this));K(a,4);K(a,4);this.Md=J(a)};var Pf=function(a){T.call(this,a)};u(Pf,T);
var Rf=function(a){T.call(this,a);this.Of=new td(Id(this.G,16));a=J(this.G);this.Jh=Id(this.G,a)};u(Rf,T);Rf.prototype.getData=function(){return this.Jh};var Sf=function(a){T.call(this,a)};u(Sf,T);var Tf=function(a){Gf.call(this,a)};u(Tf,Gf);Tf.prototype.ue=function(a,b){var c=U(S(this),1953653094,void 0,void 0);if(c){var d=U(S(c),1953658222,void 0,void 0);d&&d.ue(a-this.me.byteOffset);b&&(c=U(S(c),1935763823,void 0,void 0))&&Ff(S(c),4,b-this.me.byteOffset)}};
var Uf=function(a,b){var c=U(a,1836019558),d=S(U(a,1835295092)).byteOffset;b?c.ue(d+b,d):c.ue(d)},Vf=function(a){switch(a.getName()){case 1836019558:return new Tf(If(a));case 1835296868:return new Qf(If(a));case 1953658222:return new Of(If(a));case 1935763823:return new Sf(If(a));case 1936286840:return new Lf(If(a));case 1952868452:return new Pf(If(a));case 1970628964:var b=a.Wc;return Nf.bb(b)?new Mf(If(a)):Kf.bb(b)?new Jf(If(a)):a;case 1886614376:return new Rf(If(a));case 1702061171:case 1751411826:case 1835296868:case 1835427940:case 1836476516:case 1935763823:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1952867444:case 1952868452:case 1953196132:case 1953654136:case 1953658222:return new T(If(a));
default:return a}},U=function(a,b,c,d){for(var e=0;e<a.length;){var f=new Gf(a.subarray(e)),e=e+f.Pb;if(f.getName()===b&&(1970628964!==b||c&&c.bb(f.Wc)))return Vf(f);if(d&&Hf(f)&&(f=U(S(f),b,c,d)))return f}return null},Wf=function(a,b){for(var c=0,d=[];c<a.length;){var e=new Gf(a.subarray(c)),c=c+e.Pb;d.push(Vf(e));b&&Hf(e)&&(d=d.concat(Wf(S(e),!0)))}return d};var Xf=function(a){this.pb=new hd(a);this.Na=null;this.Se=0;this.Md=9E4;this.Qc=0;this.rc=[];this.Pc=[]};k=Xf.prototype;k.Z=function(a){if(a){var b=U(a,1835296868,void 0,!0);b&&(this.Md=b.Md);if(b=U(a,1953658222,void 0,!0))if(this.rc=b.rc,0!=this.rc.length&&(this.Pc=b.Pc,this.Qc=b.Qc,a=U(a,1835295092)))this.Na=new id(S(a))}else this.Se=0,this.Na=null};k.jh=function(a){this.Se=a};k.Ea=function(){return null===this.Na};
k.$d=function(){var a;(a=null===this.Na)||(a=this.Na,a=!(a.offset<a.buffer.length));return a};k.parse=function(){if(this.Na)for(var a=this.Se/this.Qc,b=0,c=0,d=this.rc[0];!this.$d();){var e=J(this.Na);6===(jd(this.Na)&31)?(this.pb.append(Id(this.Na,e-1)),ld(this.pb,0==this.Pc.length?b:b+this.Pc[c]/this.Md)):K(this.Na,e-1);d-=e+4;0==d&&(b+=a,c++,d=this.rc[c])}};var Yf=function(a,b){Ye.call(this,a,b,"webvtt");this.a=x("cast.player.cea608.InbandCaptionsManager");this.N=new Kd(this);this.N.ie=1;this.ta=null;this.Y=0;this.Dc=null;this.Bc=[];this.Jc=this.zf.bind(this);this.sa=null;this.xa=new Jc};u(Yf,Ye);Yf.prototype.F=function(){this.reset();Yf.B.F.call(this)};
Yf.prototype.zf=function(){if(this.ta.Ea()){var a=Lc(this.xa);this.Y!==a.L&&(this.N.clear(),this.Dc=null);this.Y=a.L;this.N.Y=a.Fh;this.ta.Z(a.data);this.ta.jh(a.duration)}this.ta.parse();if(this.ta.$d()){this.N.decode();if(0<this.Bc.length){for($e(this);0<this.Bc.length;)a=this.Bc.pop(),a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue(a);this.Bc.length=0}this.ta.Z(null)}this.xa.Ea()&&this.ta.Ea()?this.sa=null:this.sa=setTimeout(this.Jc,20)};
var Qd=function(a,b,c,d){null!==a.Dc&&b<a.Dc&&(b=a.Dc);.1>c-b&&(c=b+.1);a.Dc=c;a.Bc.push({start:b,end:c,text:d})};Yf.prototype.pe=function(a,b,c,d,e){if(qd(a)){if(!this.ta)switch(a){case "video/mp2t":this.ta=new gd(this);break;case "video/mp4":this.ta=new Xf(this);break;default:return}1<this.xa.ac()?A(this.a,"Dropped segment"):(this.xa.enqueue({data:b,duration:e,L:c,Fh:"video/mp4"==a?d:c}),B(this.a,"Pending "+this.xa.ac()),null===this.sa&&(this.sa=setTimeout(this.Jc,20)))}};
Yf.prototype.reset=function(){Yf.B.reset.call(this);this.Y=0;this.Dc=null;this.Bc.length=0;this.ta&&this.ta.Z(null);this.N.clear();this.xa.clear();null!==this.sa&&(clearTimeout(this.sa),this.sa=null)};var $f=function(a){this.duration=new ke("mediaPresentationDuration");this.type=new Q("type");for(this.Ai=new ke("minimumUpdatePeriod");a;){if("MPD"===a.nodeName){oe(a.attributes,this);break}a=a.nextElementSibling}this.oe=[];if(a)for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)"Period"===a.nodeName&&this.oe.push(new Zf(a))},ag=function(a){this.name=a;this.end=this.start=null};u(ag,ie);ag.prototype.parse=function(a){a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var bg=function(a){this.media=new Q("media");oe(a.attributes,this)},cg=function(a){this.nh=new Q("sourceURL");this.ha=new ag("range");oe(a.attributes,this)},dg=function(a){this.duration=new P("duration");this.Ld=new P("timescale");this.L=new Q("presentationTimeOffset");this.ra=new P("startNumber");this.cc=new ag("indexRange");oe(a.attributes,this);this.sc=this.hd=null;for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "Initialization":this.hd=new cg(a);break;case "SegmentTimeline":this.sc=
[];for(var b=a.firstElementChild;null!==b;b=b.nextElementSibling){var c=0,d=b.attributes.getNamedItem("r");d&&(c=parseInt(d.value,10));var d=(d=b.attributes.getNamedItem("t"))?new Fd(d.value):null,e=b.attributes.getNamedItem("d");if(e)for(e=parseInt(e.value,10),this.sc.push({time:d,duration:e}),d=0;d<c;d++)this.sc.push({time:null,duration:e})}}};
dg.prototype.wa=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.Ld.value&&(a.Ld=this.Ld);null===a.L.value&&(a.L=this.L);null===a.ra.value&&(a.ra=this.ra);null===a.cc.start&&(a.cc=this.cc);null===a.hd&&(a.hd=this.hd);null===a.sc&&(a.sc=this.sc)};var eg=function(a){dg.call(this,a);this.g=[];for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "SegmentURL":this.g.push(new bg(a))}};u(eg,dg);
eg.prototype.wa=function(a){eg.B.wa.call(this,a);0===a.g.length&&(a.g=this.g)};var fg=function(a){this.media=new Q("media");this.Z=new Q("initialization");dg.call(this,a)};u(fg,dg);fg.prototype.wa=function(a){fg.B.wa.call(this,a);null===a.media.value&&(a.media=this.media);null===a.Z.value&&(a.Z=this.Z)};
var gg=function(a){this.pi=new le("schemeIdUri");oe(a.attributes,this);this.kb=null;this.eb=!1;var b=this.pi.value;if(b)if("9A04F079-9840-4286-AB92-E65BE0885F95"===b){for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "mspr:pro":this.kb=te(a.childNodes[0].nodeValue);return;case "cenc:pssh":a=wd(window.atob(a.childNodes[0].nodeValue));a=new Rf(a);this.kb=se(a.getData());return}this.kb={systemId:ud,fd:null,pd:null,url:null,ge:0}}else"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED"===
b?this.kb={systemId:vd,fd:null,pd:null,url:null,ge:0}:"URN:MPEG:DASH:MP4PROTECTION:2011"===b&&(this.eb=!0)},hg=function(a){this.Lc=[];this.eb=!1;this.Lb=this.D=this.Mb=this.url=null;for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "BaseURL":this.url=a.textContent;break;case "ContentProtection":var b=new gg(a);b.kb&&this.Lc.push(b.kb);this.eb=this.eb||b.eb;break;case "SegmentBase":this.Lb=new dg(a);break;case "SegmentTemplate":this.D=new fg(a);break;case "SegmentList":this.Mb=
new eg(a)}};hg.prototype.wa=function(a){a.D?this.D&&this.D.wa(a.D):a.D=this.D;a.Lb?this.Lb&&this.Lb.wa(a.Lb):a.Lb=this.Lb;a.Mb?this.Mb&&this.Mb.wa(a.Mb):a.Mb=this.Mb;a.url=a.url||this.url;0===a.Lc.length&&(a.Lc=this.Lc);a.eb=a.eb||this.eb};var ig=function(a){this.id=new Q("id");this.mimeType=new Q("mimeType");this.codecs=new Q("codecs");oe(a.attributes,this);hg.call(this,a)};u(ig,hg);
ig.prototype.wa=function(a){ig.B.wa.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};var jg=function(a,b){this.yh=new P("bandwidth");ig.call(this,a);b.wa(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"===this.codecs.value&&(this.codecs.value="avc1.4d401e")};u(jg,ig);
var kg=function(a,b){this.language=new Q("lang");ig.call(this,a);this.role=null;b.wa(this);this.w=[];for(var c=a.firstElementChild;null!==c;c=c.nextElementSibling)"Representation"===c.nodeName?this.w.push(new jg(c,this)):"Role"===c.nodeName&&(this.role=c.getAttribute("value"))};u(kg,ig);
var Zf=function(a){this.duration=new ke("duration");this.start=new ke("start");oe(a.attributes,this);hg.call(this,a);this.j=[];for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "AdaptationSet":this.j.push(new kg(a,this))}};u(Zf,hg);var V=function(a){R.call(this,a);this.pc=[];this.we=!1;this.Jc=this.Gc.bind(this);this.$=null;this.nc=[];this.eg=[]};u(V,R);V.prototype.a=x("cast.player.dash.Protocol");V.prototype.Ub=function(){V.B.Ub.call(this);null!==this.$&&(clearTimeout(this.$),this.$=null)};var lg=function(a){return ud.bb(a)?"playready":vd.bb(a)?"widevine":null},mg=function(a){for(var b=[],c=0;c<a.pc.length;c++){var d=lg(a.pc[c].systemId);d&&b.push(d)}return b};
V.prototype.updateLicenseRequestInfo=function(a){var b;switch(a.protectionSystem){case "playready":b=ud;break;case "widevine":b=vd;break;default:return}for(var c=0;c<this.pc.length;c++)if(this.pc[c].systemId.bb(b)){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.pc[c].url;break}};
var ng=function(a,b,c){if(b){null!==b.ra.value&&(c.ra=b.ra.value);var d=b.Ld.value||1,e=new Fd(b.L.value||"0");c.L=parseInt(e.toString(),10)/d;var e=new Fd(e.toString()),f=b.g,g=b.sc,h=0;g?h=g.length:f&&0<f.length&&(h=f.length);for(var l=0;l<h;l++){var n=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new Fd(g[l].time.toString()));var p={time:parseInt(e.toString(),10)/d,ib:new Fd(e.toString()),duration:n/d,url:f&&0<f.length?a.resolve(new E(f[l].media.value)).toString():null};c.g.push(p);e.add(n)}(d=
c.Ua)||(f=e=d=null,g=!0,(h=b.hd)&&h.nh.value?(g=!1,d=h.nh.value,h.ha.start&&h.ha.end&&(e=h.ha.start,f=h.ha.end)):(e=0,h&&h.ha.start&&h.ha.end&&(e=h.ha.start,f=h.ha.end,g=!1),b.cc.start&&b.cc.end&&(e=Math.min(e,b.cc.start),f=Math.max(f,b.cc.end),g=!1),null==f&&(f=2048)),d=g?null:{url:d?a.resolve(new E(d)).toString():null,ha:null!==e&&null!==f?{start:e,end:f}:null,data:null});c.Ua=d}},og=function(a,b){return{duration:(b.duration.value||0)/(b.Ld.value||1),url:a.resolve(new E(b.media.value)).toString(),
Z:b.Z.value?a.resolve(new E(b.Z.value)).toString():null}};
V.prototype.tf=function(a){if(a.oe){this.da="dynamic"===a.type.value;a.duration.value&&(this.duration=a.duration.value);var b;a:{b=a.oe;var c=b[0];if(c.j[0].D){for(var d=[],e=[],f=0;f<b.length;f++){for(var g=b[f],h=g.duration.value,l=[],n=0;n<g.j.length;n++){var p=g.j[n].D;if(!p){A(this.a,"Multiple periods not using SegmentTemplate is not supported");b=[{start:c.start.value,duration:c.duration.value,yd:null}];break a}var t=this.uri.resolve(new E(g.j[n].w[0].url)).toString(),t=new E(t);e[n]=e[n]||
0;var Ha=p,p=e[n],xa={ca:0,L:0,g:[],url:null,D:null,Ua:null};ng(t,Ha,xa);t=og(t,Ha);t={ra:xa.ra,L:xa.L,vg:p,D:t};l.push(t);e[n]+=Math.round(h/t.D.duration)}d.push({start:g.start.value,duration:g.duration.value,yd:l})}b=d}else b=[{start:c.start.value,duration:c.duration.value,yd:null}]}this.nc=b;a=a.oe[0].j;for(b=0;b<a.length;b++){e=a[b];c=e.w;d=c[0];f=d.mimeType.value;if(null===f){z(this.a,"no mime type");M(this.host,0);break}if(pd(f))f=1;else if(qd(f))f=2;else if(rd(e.role,f))f=3;else continue;e=
{name:e.id.value,type:f,enabled:!1,Xa:!1,T:!0,index:-1,K:-1,w:[],language:e.language.value,mimeType:d.mimeType.value||"",codecs:d.codecs.value||"",role:e.role};for(f=0;f<c.length;f++)d=c[f],0<d.Lc.length&&(this.pc=d.Lc),d.eb&&(this.we=!0),h=this.uri.resolve(new E(d.url)).toString(),g={ca:d.yh.value||0,id:d.id.value,L:0,g:[],url:h,ra:0,D:null,Ua:null},d.url&&"/"!==h[h.length-1]&&(h+="/"),h=new E(h),ng(h,d.Lb,g),(l=d.Mb)&&ng(h,l,g),d=d.D,l=g,d&&(ng(h,d,l),l.D=og(h,d)),e.w.push(g),ue(g)&&(e.Xa=!0);this.j.push(e)}}};
V.prototype.Ib=function(a){if(a){var b=null!==this.$,c=this.j;this.j=[];var d=(new DOMParser).parseFromString(a,"text/xml"),d=new $f(d.firstChild);this.tf(d);if(!this.we){var e=this.Mc,f=mg(this);e.nd=f;pg(e)}this.da&&(d=d.Ai.value,null!==d&&(this.$=setTimeout(this.Jc,1E3*d)));if(b)for(a=0;a<c.length;a++){b=this.j[a];d=c[a];b.enabled=d.enabled;b.K=d.K;b.Xa=d.Xa;for(e=0;e<b.w.length;e++)b.w[e].L=d.w[e].L;e=d.index;0>e||(e=e+d.w[0].ra-b.w[0].ra,0>e?(b.index=0,b.T=!0):(b.index=e,b.T=d.T))}else V.B.Ib.call(this,
a)}else M(this.host,3,qe(this.hc))};V.prototype.za=function(a){var b=this.j[a],b=b.w[b.K];return 0===b.g.length&&b.D?(a=this.duration,this.da&&(a-=20),{start:0,end:a}):V.B.za.call(this,a)};var rg=function(a,b,c){c=qg(a,b,c);a.eg[b]!==c&&(a.j[b].T=!0);a.eg[b]=c};
V.prototype.seek=function(a,b){var c=this.j[a],d=c.w[c.K];if(0===d.g.length&&d.D){var e=this.za(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.D.duration);d=Math.ceil(this.duration/d.D.duration);c.index=e<d?e:d-1;rg(this,a,c.index);return!0}return V.B.seek.call(this,a,b)};V.prototype.Cb=function(a){var b=this.j[a],c=b.w[b.K];if(0===c.g.length&&c.D){var d=b.index+1;return d<Math.ceil(this.duration/c.D.duration)?(b.index=d,rg(this,a,b.index),!0):!1}return V.B.Cb.call(this,a)};
var qg=function(a,b,c){a=a.nc;for(var d=0;d<a.length-1&&!(c<a[d+1].yd[b].vg);d++);return d};V.prototype.Bb=function(a){var b=this.j[a],c=b.w[b.K];return 0===c.g.length&&c.D?b.index===Math.ceil(this.duration/c.D.duration)-1:V.B.Bb.call(this,a)};V.prototype.Aa=function(a){var b=this.j[a],c=b.w[b.K];if(c.D){b=b.index;if(0>b)return{time:0,duration:0};0<c.g.length?(a=c.g[b].duration,c=c.g[b].time-c.L):(a=c.D.duration,c=b*a);return{time:c,duration:a}}return V.B.Aa.call(this,a)};
var sg=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(a){var d=a.indexOf("%0");if(0>d)return b;d=parseInt(a.substring(d+2,a.length-2),10);switch(a.substr(a.length-2,1)){case "x":return yd(b,16,d);case "X":return yd(b,16,d).toUpperCase();case "o":return yd(b,8,d);default:return yd(b,10,d)}})};
V.prototype.updateSegmentRequestInfo=function(a,b){var c=this.j[a],d=c.w[c.K],e=c.index,f=c.Xa;c.Xa=!1;if(d.D){var g=d.D,h=null;1<this.nc.length&&(h=this.nc[qg(this,a,e)].yd[a],g=h.D);c=f?g.Z:g.url;c=c.replace("$RepresentationID$",d.id);c=c.replace("$Bandwidth$",d.ca.toString());f||(f=e+d.ra,1<this.nc.length&&(f=e+h.ra-h.vg),c=sg(c,f),c=c.replace("$Time$",0<d.g.length?d.g[e].ib.toString():(e*g.duration).toString()));b.url=c}else{h=g=null;if(f)e=d.Ua,c=e.url?e.url:d.url,e.ha&&(g=e.ha.start,h=e.ha.end);
else if(e<d.g.length)e=d.g[e],e.url?c=e.url:(c=d.url,g=e.offset,h=e.offset+e.size-1);else{z(this.a,"invalid segment info");M(this.host,0);return}b.url=c;b.headers={};null!==g&&null!==h&&(b.headers.Range="bytes="+g+"-"+h)}};
V.prototype.processSegment=function(a,b,c){var d=this.j[a],e=d.w[d.K],f=b.data;if(this.we&&this.Mc){var g;g=U(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.Of,url:null,fd:null,pd:null,ge:0})if(this.pc.push(g),lg(g.systemId)){g=this.Mc;var h=mg(this);g.nd=h;pg(g);this.we=!1}}if(b.md)if(d=(d=U(f,1836019574))?If(d):null,null===d)z(this.a,"no init"),M(this.host,1);else{if(!e.D&&0===e.g.length){g=0;b.md&&e.Ua&&e.Ua.ha&&(g=e.Ua.ha.start);b=g;f=(f=U(f,1936286840))?f.cf(b):null;if(!f){A(this.a,"no segments");
return}e.g=f}ff(c,d,{time:this.Aa(a).time,duration:0},0,!1)}else b=this.Aa(a),e=e.L,1<this.nc.length&&(e=this.nc[qg(this,a,d.index)],e=e.yd[a].L-e.start),ff(c,f,b,b.time+e,d.T),d.T=!1};var W=function(a,b){this.Bh=a;this.Wc=b?b:null;this.c=null};W.prototype.m=function(a){var b=he(a).length;this.c=a;this.Uf();this.A();a=he(a).length-b;this.c.buffer.set([a>>24,a>>16,a>>8,a],b)};W.prototype.Uf=function(){O(this.c,0);O(this.c,this.Bh);this.Wc&&N(this.c,this.Wc.Pd)};W.prototype.A=function(){throw Error("writeBody() should be  overriden.");};var X=function(a,b,c){W.call(this,a);this.ya=b;this.Zb=c};u(X,W);X.prototype.Uf=function(){X.B.Uf.call(this);O(this.c,this.ya<<24|this.Zb&16777215)};
var tg=function(a){X.call(this,1935763823,0,0);this.C=a};u(tg,X);tg.prototype.A=function(){O(this.c,1);O(this.c,this.C)};var ug=function(a){X.call(this,1952867444,1,0);this.Xc=a};u(ug,X);ug.prototype.A=function(){var a=this.c,b=this.Xc;O(a,b/4294967296);O(a,b%4294967296)};var vg=function(a,b){X.call(this,1935763834,0,0);this.jg=a;this.hh=b};u(vg,X);vg.prototype.A=function(){N(this.c,[this.jg]);O(this.c,this.hh.length);0===this.jg&&N(this.c,this.hh)};
var wg=function(a,b){X.call(this,1702061171,0,0);this.ai=a;this.Zc=b};u(wg,X);wg.prototype.A=function(){N(this.c,[3,25,0,1,0,4,17,this.ai,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.Zc[0],this.Zc[1]])};var xg=function(a,b){W.call(this,1635148611);this.oh=a;this.dh=b};u(xg,W);xg.prototype.A=function(){N(this.c,[1,77,64,30,255,225]);var a=this.oh.length;N(this.c,[a>>8,a]);N(this.c,this.oh);N(this.c,[1]);a=this.dh.length;N(this.c,[a>>8,a]);N(this.c,this.dh)};var yg=function(){X.call(this,1937011571,0,0)};
u(yg,X);yg.prototype.A=function(){O(this.c,0)};var zg=function(a,b){X.call(this,1952804451,0,1);this.Lh=a;this.Mh=b};u(zg,X);zg.prototype.A=function(){O(this.c,256|this.Lh);N(this.c,this.Mh.Pd)};var Ag=function(a,b){X.call(this,1935894637,0,0);this.ri=a;this.si=b};u(Ag,X);Ag.prototype.A=function(){O(this.c,this.ri);O(this.c,this.si)};var Bg=function(a){W.call(this,1718775137);this.Ih=a};u(Bg,W);Bg.prototype.A=function(){O(this.c,this.Ih)};var Cg=function(a){X.call(this,1751411826,0,0);this.Wh=a};
u(Cg,X);Cg.prototype.A=function(){O(this.c,0);O(this.c,this.Wh);N(this.c,[0,0,0,0,0,0,0,0,0,0,0,0])};var Dg=function(a){X.call(this,1835296868,0,0);this.Za=a};u(Dg,X);Dg.prototype.A=function(){O(this.c,0);O(this.c,0);O(this.c,this.Za);O(this.c,0);N(this.c,[85,196,0,0])};var Eg=function(a,b){X.call(this,1953196132,0,3);this.Bi=a;this.Xh=b};u(Eg,X);
Eg.prototype.A=function(){O(this.c,0);O(this.c,0);N(this.c,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);O(this.c,this.Bi<<16);O(this.c,this.Xh<<16)};var Fg=function(a){X.call(this,1953654136,0,0);this.Yh=a};u(Fg,X);Fg.prototype.A=function(){var a=65536;this.Yh&&(a&=-65537);N(this.c,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);O(this.c,a)};var Gg=function(a,b){X.call(this,1886614376,0,0);this.Of=a;this.Ca=b};u(Gg,X);
Gg.prototype.A=function(){N(this.c,this.Of.Pd);O(this.c,this.Ca.length);N(this.c,this.Ca)};var Hg=function(a){X.call(this,1836476516,0,0);this.Za=a};u(Hg,X);Hg.prototype.A=function(){O(this.c,0);O(this.c,0);O(this.c,this.Za);N(this.c,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var Ig=function(a){X.call(this,1952868452,0,8);this.Nh=a};u(Ig,X);
Ig.prototype.A=function(){O(this.c,1);O(this.c,this.Nh)};var Jg=function(a){X.call(this,1953658222,0,513);this.Jf=a};u(Jg,X);Jg.prototype.A=function(){O(this.c,this.Jf.length);O(this.c,0);for(var a=0;a<this.Jf.length;a++)O(this.c,this.Jf[a].length)};var Kg=function(a){X.call(this,1835427940,0,0);this.Nb=a};u(Kg,X);Kg.prototype.A=function(){O(this.c,this.Nb)};var Lg=function(a){W.call(this,1835295092);this.fg=a};u(Lg,W);Lg.prototype.A=function(){for(var a=0;a<this.fg.length;a++)N(this.c,this.fg[a])};
var Ng=function(a){W.call(this,1970628964,Mg);this.Hh=a};u(Ng,W);var Mg=new td([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);Ng.prototype.A=function(){N(this.c,wd(this.Hh))};var Og=function(a){var b=new Uint8Array(2+a.length);b[1]=1;wd(a,b,2);Gg.call(this,Mg,b)};u(Og,Gg);var Pg=function(a,b,c,d){y.call(this);this.b=a;this.v=b;this.nf=d;this.Ca=c;this.i=this.mf=null;this.pa="none";this.Rf=this.Qf=this.ih=this.Eb=null;this.Lg=this.wf.bind(this);this.f=new D;xc(this.f);C(this.f,"success",this.vd,!1,this);C(this.f,"error",this.mc,!1,this)};u(Pg,y);Pg.prototype.a=x("cast.player.core.MediaKeySession");Pg.prototype.F=function(){Qg(this);this.Eb&&(this.Eb.close(),this.Eb=null);this.f.I();Pg.B.F.call(this)};
var Qg=function(a){a.i&&(md?(dc(a.i,"webkitkeymessage",a.Ng,!1,a),dc(a.i,"webkitkeyerror",a.wf,!1,a)):a.Eb&&dc(a.Eb,"message",a.Og,!1,a),a.i=null)};k=Pg.prototype;
k.createSession=function(a){B(this.a,"create session");this.Rf=q();var b=this.b.licenseCustomData;if(b){var c=new Ef(this.Ca.length+b.length+34);N(c,this.Ca);(md?new Ng(b):new Og(b)).m(c);b=he(c)}else b=this.Ca;this.i=this.b.mediaElement;this.pa=a;md?(C(this.i,"webkitkeymessage",this.Ng,!1,this),C(this.i,"webkitkeyerror",this.wf,!1,this),this.i.webkitGenerateKeyRequest(nd[this.pa],b)):(this.Eb=a=this.i.mediaKeys.createSession(),C(this.Eb,"message",this.Og,!1,this),a.generateRequest("cenc",b.buffer).catch(this.Lg))};
k.vd=function(a){B(this.a,"xhr success");var b=this.Qf;null!==b&&Dd("Cast.MPL.LicenseReq.ServerLatency",q()-b);this.Qf=null;this.og(Ic(a.target))};k.og=function(a){a?(a=new Uint8Array(a),this.b.processLicense&&(a=this.b.processLicense(a)),md?this.i.webkitAddKey(nd[this.pa],a,this.Ca,this.ih):this.Eb.update(a.buffer).catch(this.Lg),Rg(this.nf,!0),Qg(this)):this.le()};
k.mc=function(){B(this.a,"xhr error");var a=new H(String(this.f.rd),this.f.gb,Hc(this.f),this.f.getAllResponseHeaders(),Ic(this.f));this.le(a)};k.le=function(a){Rg(this.nf,!1);Qg(this);M(this.b,2,a)};var Sg=function(a){a.b.prepareLicenseRequest&&!a.b.prepareLicenseRequest()||a.Qb()};Pg.prototype.Og=function(a){B(this.a,"message");this.mf=new Uint8Array(a.cb.message);Sg(this)};Pg.prototype.Ng=function(a){B(this.a,"keymessage");a=a.cb;this.ih=a.sessionId;this.mf=a.message;Sg(this)};
Pg.prototype.wf=function(){B(this.a,"keyerror");Rg(this.nf,!1);Qg(this);M(this.b,2)};
Pg.prototype.Qb=function(){var a=new G;a.timeoutInterval=18E4;a.protectionSystem=this.pa;a.content=this.mf;a.setResponse=this.og.bind(this);this.v.updateLicenseRequestInfo(a);this.b.licenseUrl&&(a.url=this.b.licenseUrl);if(!a.url&&this.Ca&&"playready"===this.pa){var b=new Rf(this.Ca);if(b=se(b.getData()))a.url=b.url}if(this.b.updateLicenseRequestInfo&&(this.b.updateLicenseRequestInfo(a),a.skipRequest))return;this.f.Qd=a.withCredentials;this.f.sb=Math.max(0,a.timeoutInterval);this.f.send(a.url,"POST",
a.content,a.headers);a=this.Rf;null!==a&&Dd("Cast.MPL.LicenseReq.GenLatency",q()-a);this.Rf=null;this.Qf=q()};var Wg=function(a,b,c,d){y.call(this);this.b=a;this.v=b;this.ug=!1;this.la=[];this.Ob=0;this.pa=null;a=this.b.mediaElement;if(md){if(C(a,"webkitneedkey",this.Pg,!1,this),0!==d.length){for(a=0;a<d.length;a++)if(this.b.mediaElement.canPlayType(c,nd[d[a]])){Tg(this,d[a]);break}this.pa||Ug(this)}}else C(a,"encrypted",this.Kg,!1,this),d&&0<d.length&&Vg(this,{Ag:d,of:0})};u(Wg,y);Wg.prototype.a=x("cast.player.core.MediaKeysManager");
Wg.prototype.F=function(){md?dc(this.b.mediaElement,"webkitneedkey",this.Pg,!1,this):dc(this.b.mediaElement,"encrypted",this.Kg,!1,this);for(var a=0;a<this.la.length;a++)this.la[a].I();this.la.length=0;Wg.B.F.call(this)};
var Vg=function(a,b){Xg(a,b).catch(function(a){b.of++;b.of<b.Ag.length?Vg(this,b):(z(this.a,a.toString()),Ug(this))}.bind(a))},Xg=function(a,b){var c=b.Ag[b.of];return navigator.requestMediaKeySystemAccess(nd[c],[{}]).then(function(a){return a.createMediaKeys()}).then(function(a){return this.b.mediaElement.setMediaKeys(a)}.bind(a)).then(function(){Tg(this,c);0<this.la.length&&this.la[0].createSession(c);return Promise.resolve()}.bind(a))},Ug=function(a){A(a.a,"unsupported protection system");M(a.b,
2)},Rg=function(a,b){B(a.a,"key session ended: "+a.Ob);5<a.la.length?a.la.shift().I():a.Ob++;b&&a.pa&&a.Ob<a.la.length&&a.la[a.Ob].createSession(a.pa)};Wg.prototype.Kg=function(a){a=a.cb;B(this.a,"onencrypted: "+this.Ob);(a=a.initData)?Yg(this,new Uint8Array(a)):B(this.a,"invalid init data")};Wg.prototype.Pg=function(a){a=a.cb;B(this.a,"needkey: "+this.Ob);(a=a.initData)?Yg(this,a):B(this.a,"invalid init data")};
var Yg=function(a,b){var c;if(c=!a.ug){a:{for(c=0;c<a.la.length;c++){var d;b:if(d=a.la[c],b.length!==d.Ca.length)d=!1;else{for(var e=b.length,f=0;f<e;f++)if(b[f]!==d.Ca[f]){d=!1;break b}d=!0}if(d){c=!0;break a}}c=!1}c=!c}c&&(c=new Pg(a.b,a.v,b,a),a.pa&&a.Ob===a.la.length&&c.createSession(a.pa),a.la.push(c),a.b.useSingleKeySession&&(a.ug=!0))},Tg=function(a,b){a.pa=b;var c;switch(a.pa){case "none":c=1;break;case "clearkey":c=2;break;case "playready":c=3;break;case "widevine":c=4;break;default:c=0}Dd("Cast.MPL.ContentProtection",
c)};Wg.prototype.Qb=function(){this.la[this.Ob].Qb()};var Zg=function(a,b,c){y.call(this);this.b=a;this.v=b;this.Ha=c;this.S=[];this.ic=null;this.fa=new MediaSource;this.xg=this.zg=this.ae=!1;this.nd=this.jc=null;C(this.fa,"sourceopen",this.Vg,!1,this)};u(Zg,y);Zg.prototype.a=x("cast.player.core.MediaSourceManager");Zg.prototype.F=function(){this.v.Ub();$g(this);ah(this);dc(this.fa,"sourceopen",this.Vg,!1,this);Zg.B.F.call(this)};
Zg.prototype.Vg=function(){B(this.a,"sourceopen");if(this.xg){this.update();bh(this);for(var a=0;a<this.S.length;a++)this.S[a]&&this.S[a].createBuffer()}};var pg=function(a){!a.ic&&a.jc&&a.nd&&a.zg&&(a.ic=new Wg(a.b,a.v,a.jc,a.nd))};Zg.prototype.onManifestReady=function(){this.xg=!0;this.update()};Zg.prototype.endOfStream=function(){"open"===this.fa.readyState&&this.fa.endOfStream()};Zg.prototype.load=function(){$g(this);md&&ah(this);this.open()};
Zg.prototype.open=function(){this.ae||(this.v.load(this),this.ae=!0);this.b.mediaElement.src?(cc(this.b.mediaElement,"emptied",function(){ch(this)},!1,this),this.b.mediaElement.src=""):ch(this)};var ch=function(a){B(a.a,"open");md||a.ic||a.b.mediaElement.setMediaKeys(null).catch(function(a){z(this.a,a.toString())});a.b.mediaElement.src=window.URL.createObjectURL(a.fa);a.zg=!0;pg(a)};Zg.prototype.Ff=function(){this.ae?A(this.a,"protocol already loaded"):(this.v.load(this),this.ae=!0)};
var ah=function(a){a.jc=null;a.ic&&(a.ic.I(),a.ic=null)},$g=function(a){for(var b=0;b<a.S.length;b++)a.S[b]&&(a.S[b].I(),a.S[b]=null);a.S.length=0},bh=function(a){if("open"===a.fa.readyState){var b=a.v.lg();0<b&&!a.fa.duration&&(a.fa.duration=parseFloat((b-1E-4).toFixed(4)))}};k=Zg.prototype;k.reset=function(){for(var a=0;a<this.S.length;a++)this.S[a]&&this.S[a].reset()};
k.update=function(){for(var a=this.v.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.v.isStreamEnabled(d)){var e=this.v.getStreamInfo(d).mimeType;pd(e)?b?A(this.a,"more than one audio stream enabled"):b=e:qd(e)&&(c?A(this.a,"more than one video stream enabled"):c=e);this.S[d]||(this.S[d]=new cf(this.Ha,this.b,this.v,d,this.fa),this.v.enableStream(d,!0),this.S[d].Tf())}else this.S[d]&&(this.S[d].I(),this.S[d]=null);e=c?c:b;e?this.jc||(this.jc=e,pg(this)):A(this.a,"no enabled audio or video stream")};
k.jf=function(a){return this.S[a].jf()};k.Gf=function(a){this.S[a].Gf()};k.jd=function(a){return this.S[a].jd()};k.Ra=function(a,b){return this.S[a].Ra(b)};k.Qb=function(){this.ic.Qb()};k.getStreamCount=function(){return this.S.length};var Y=function(a){B(this.a,"Version: 1.0.0.20");Ad()&&cast.__platform__.metrics.setMplVersion("1.0.0.20");this.b=a;this.v=null;this.Kf=this.Va=0;this.Id=null;this.Xf=this.Da=this.hf=this.Fa=!1;this.fe=!0;this.ee=!1;this.wb=this.W=this.i=null;this.gd=!1;this.Kd=null;this.Jc=this.zf.bind(this);this.ye=null};r("cast.player.api.Player",Y);Y.prototype.a=x("cast.player.api.Player");var eh=function(a,b){dh(a);a.Kd=setTimeout(a.Jc,b||0)};k=Y.prototype;k.Ic=function(a){eh(this,a)};
k.pe=function(a,b,c,d,e){this.hf&&this.wb.pe(a,b,c,d,e);eh(this)};k.Wg=function(a){this.Fa&&(a=this.v.Aa(a).time,Infinity===this.Va||this.Va<a)&&(this.Va=a)};k.Jg=function(){bh(this.W)};k.Ec=function(){return this.Fa?this.Va:this.i.currentTime};var dh=function(a){null!==a.Kd&&(clearTimeout(a.Kd),a.Kd=null)};k=Y.prototype;k.Ug=function(){B(this.a,"seeking");this.gd?this.gd=!1:(this.ee=this.Fa=!1,this.wb&&this.wb.reset(),this.W.reset())};k.ke=function(){z(this.a,"error");M(this.b,1)};
k.Rg=function(){this.ye&&(Dd("Cast.MPL.PauseTime",q()-this.ye),this.ye=null)};k.Qg=function(){this.ye=q()};
k.Be=function(){if(this.Fa&&this.i&&!isNaN(this.i.duration)&&0!==this.i.buffered.length)if(Dd("Cast.MPL.MediaDuration",this.i.duration),0===this.Va||this.Va===this.i.currentTime)this.Fa=!1;else{this.Fa=!1;var a=this.Va;this.gd=!0;this.i.currentTime=a}this.fe=!1;for(var b=0,c=0,d=!0,a=this.Ec(),e=this.W.getStreamCount(),f=0;f<e;f++)if(this.v.isStreamEnabled(f)&&(c++,this.W.jd(f))){b++;var g=this.W.Ra(f,a);if(this.Da&&d){var h=this.v.Aa(f).duration*this.b.autoResumeNumberOfSegments;if(0===h||h>this.b.autoResumeDuration)h=
this.b.autoResumeDuration;g<h&&(d=!1)}h=f;20<=g||(g<this.b.autoPauseDuration&&(g=this.v.getStreamInfo(h),rd(g.role,g.mimeType)||(this.fe=!0,Bd("Cast.MPL.BufferUnderflow"))),this.W.jf(h)&&this.W.Gf(h))}if(this.i&&0!==c&&!this.ee){this.fe?!this.i.paused&&this.i.duration-a>this.b.autoPauseDuration&&(B(this.a,"auto pause "+a),Bd("Cast.MPL.AutoPause"),this.Da=!0,this.i.pause(),this.b.onAutoPause&&this.b.onAutoPause(this.Da)):!this.Fa&&this.Da&&d&&(this.Da=!1,this.i.paused&&(B(this.a,"auto resume "+a),
this.i.play(),this.b.onAutoPause&&this.b.onAutoPause(this.Da)));if(0===b){B(this.a,"endOfStream "+a);this.W.endOfStream();if(this.b.onMediaDownloadEnded)this.b.onMediaDownloadEnded();this.ee=!0}if(this.Kf!==a)Fb(this.a,f+": time="+a),this.Kf=a,this.Id=null;else if(!this.Fa&&!this.Da&&!this.i.paused){a:{b=this.i.currentTime;c=this.i.buffered;for(d=c.length-1;0<=d;d--){e=c.start(d);if(b>=e)break;if(0===d||b>c.end(d-1)-.15){b=e;break a}}b=0}this.b.wh&&0<b?(A(this.a,"jumping from "+a+" to "+b),this.gd=
!0,this.i.currentTime=b):(c=q(),null===this.Id?this.Id=c:2500<c-this.Id&&(A(this.a,"seeking due to stall"),Bd("Cast.MPL.PlaybackStall"),0===b&&(b=a+.5),this.gd=!0,this.i.currentTime=b))}}eh(this,400)};k.zf=function(){this.Kd=null;this.Be()};var fh=function(a,b,c){a.v=b;a.Fa=!0;a.Va=c||0;a.W=new Zg(a.b,a.v,a)};
Y.prototype.load=function(a,b){B(this.a,"load ");this.i=this.b.mediaElement;C(this.i,"error",this.ke,!1,this);C(this.i,"seeking",this.Ug,!1,this);C(this.i,"play",this.Rg,!1,this);C(this.i,"pause",this.Qg,!1,this);this.i.autoplay&&(this.i.autoplay=!1,this.Xf=!0,this.bh());this.Kf=this.Va;this.Id=null;this.W?this.W.open():a?(fh(this,a,b),this.W.load()):z(this.a,"no protocol")};Y.prototype.load=Y.prototype.load;Y.prototype.Ff=function(a,b){B(this.a,"preload ");fh(this,a,b);this.W.Ff()};
Y.prototype.preload=Y.prototype.Ff;Y.prototype.Ub=function(){B(this.a,"unload ");gh(this);this.i&&(this.Xf&&(this.i.autoplay=!0),this.W.I(),this.W=null,dh(this),this.ee=this.Da=!1,dc(this.i,"error",this.ke,!1,this),dc(this.i,"seeking",this.Ug,!1,this),dc(this.i,"play",this.Rg,!1,this),dc(this.i,"pause",this.Qg,!1,this),this.i=null)};Y.prototype.unload=Y.prototype.Ub;Y.prototype.reload=function(){this.Fa||(this.Va=this.i.currentTime);this.Fa=!0;this.i.paused||(this.Da=!0);dh(this);this.W.load()};
Y.prototype.reload=Y.prototype.reload;Y.prototype.bh=function(){this.Da=!0};Y.prototype.playWhenHaveEnoughData=Y.prototype.bh;Y.State={UNDERFLOW:1,SEEKABLE:2};
Y.prototype.Th=function(a){var b;a:{b=-Infinity;for(var c=Infinity,d=this.W.getStreamCount(),e=0;e<d;e++)if(this.v.isStreamEnabled(e)){var f=this.v.za(e);if(!f){b=null;break a}f.start>b&&(b=f.start);f.end<c&&(c=f.end)}b>c&&(b=c);b={start:b,end:c}}void 0===a&&(a=1);c={};a&1&&(c.underflow=this.fe||this.Da);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};Y.prototype.getState=Y.prototype.Th;Y.prototype.Ra=function(a){return this.W.Ra(a,this.Ec())};Y.prototype.getBufferDuration=Y.prototype.Ra;
Y.prototype.Qb=function(){this.W.Qb()};Y.prototype.startLicenseRequest=Y.prototype.Qb;var gh=function(a){a.wb&&(a.hf=!1,a.wb.I(),a.wb=null)};Y.prototype.Ph=function(a,b,c){b?a?"cea608"===b?(this.hf=!0,this.wb=new Yf(this,this.b.mediaElement)):c&&(this.wb=new af(this,this.b,b,c)):gh(this):this.W.update()};Y.prototype.enableCaptions=Y.prototype.Ph;Y.prototype.Uh=function(){return this.v};Y.prototype.getStreamingProtocol=Y.prototype.Uh;Y.prototype.Sh=function(){return this.b};Y.prototype.getHost=Y.prototype.Sh;var hh=function(a,b,c){W.call(this,1836019558);this.l={ni:a,zh:b,oi:c}};u(hh,W);hh.prototype.A=function(){(new Kg(0)).m(this.c);(new ih(this.l)).m(this.c)};var ih=function(a){W.call(this,1953653094);this.l=a};u(ih,W);ih.prototype.A=function(){(new Ig(this.l.ni)).m(this.c);(new ug(this.l.zh)).m(this.c);(new Jg(this.l.oi)).m(this.c)};var jh=function(a,b,c){W.call(this,1836019558);this.Xc=b;this.gi=a;this.xe=c};u(jh,W);
jh.prototype.A=function(){for(var a=Wf(S(this.gi),void 0);0<a.length;){var b=a.shift();switch(b.getName()){case 1953653094:(new kh(b,this.Xc,this.xe)).m(this.c);break;default:b.m(this.c)}}};var kh=function(a,b,c){W.call(this,1953653094);this.Xc=b;this.hi=a;this.xe=c};u(kh,W);
kh.prototype.A=function(){for(var a=Wf(S(this.hi),void 0),b=null;0<a.length;){var c=a.shift();switch(c.getName()){case 1970628964:c instanceof Mf&&(b=c);break;case 1952868452:var d=c;d.Zb&32&&(this.xe=!1);Ff(S(d),0,1);c.m(this.c);break;case 1953658222:(new lh(c,this.xe)).m(this.c);break;default:c.m(this.c)}}(new ug(this.Xc)).m(this.c);b&&((new vg(b.kf?0:8,b.te)).m(this.c),(new tg(0)).m(this.c))};
var lh=function(a,b){this.kh=!1;this.Xe=null;var c=a.Zb;c&1||(this.kh=!0,c|=1);!b||c&1024||c&4||(c|=4,this.Xe=0);X.call(this,1953658222,a.ya,c);this.ii=a};u(lh,X);lh.prototype.A=function(){var a=new Df(S(this.ii));O(this.c,J(a));this.kh&&O(this.c,0);null!==this.Xe&&O(this.c,this.Xe);N(this.c,a.buffer.subarray(a.offset))};var mh=function(a,b,c){this.$h=a;this.sampleRate=b;this.Oa=c},nh=function(a,b,c,d){this.width=a;this.height=b;this.uc=c;this.Bd=d},oh=function(a,b,c,d,e,f){this.jb=a;this.Sb=b;this.Eh=c;this.Vh=d;this.audio=e;this.video=f},ph=function(a){W.call(this,1836019574);this.l=a};u(ph,W);ph.prototype.A=function(){(new Hg(this.l.Sb)).m(this.c);var a=this.l.jb;a&&a.fd&&(new Gg(a.systemId,a.fd)).m(this.c);(new qh(this.l)).m(this.c);(new rh(this.l)).m(this.c)};
var rh=function(a){W.call(this,1953653099);this.l=a};u(rh,W);rh.prototype.A=function(){var a=0,b=0,c=this.l.video;c&&(a=c.width,b=c.height);(new Eg(a,b)).m(this.c);(new sh(this.l)).m(this.c)};var sh=function(a){W.call(this,1835297121);this.l=a};u(sh,W);sh.prototype.A=function(){(new Dg(this.l.Sb)).m(this.c);(new Cg(this.l.Vh)).m(this.c);(new th(this.l)).m(this.c)};var th=function(a){W.call(this,1835626086);this.l=a};u(th,W);th.prototype.A=function(){(new uh(this.l)).m(this.c)};
var uh=function(a){W.call(this,1937007212);this.l=a};u(uh,W);uh.prototype.A=function(){(new vh(this.l)).m(this.c);this.l.video&&(new yg).m(this.c)};var vh=function(a){X.call(this,1937011556,0,0);this.l=a};u(vh,X);vh.prototype.A=function(){O(this.c,1);(this.l.video?new wh(this.l):new xh(this.l)).m(this.c)};var xh=function(a){W.call(this,a.jb?1701733217:1836069985);this.l=a};u(xh,W);
xh.prototype.A=function(){N(this.c,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);O(this.c,this.l.audio.sampleRate<<16);(new wg(this.l.audio.$h,this.l.audio.Oa)).m(this.c);this.l.jb&&(new yh(this.l)).m(this.c)};var wh=function(a){W.call(this,a.jb?1701733238:1635148593);this.l=a};u(wh,W);
wh.prototype.A=function(){N(this.c,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var a=this.l.video.width;N(this.c,[a>>8,a]);a=this.l.video.height;N(this.c,[a>>8,a]);N(this.c,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new xg(this.l.video.uc,this.l.video.Bd)).m(this.c);this.l.jb&&(new yh(this.l)).m(this.c)};var qh=function(a){W.call(this,1836475768);this.l=a};u(qh,W);qh.prototype.A=function(){(new Fg(!this.l.video)).m(this.c)};
var yh=function(a){W.call(this,1936289382);this.l=a};u(yh,W);yh.prototype.A=function(){(new Bg(this.l.Eh)).m(this.c);(new Ag(1667591779,0)).m(this.c);(new zh(this.l)).m(this.c)};var zh=function(a){W.call(this,1935894633);this.l=a};u(zh,W);zh.prototype.A=function(){var a=this.l.jb;a&&a.pd&&(new zg(a.ge,a.pd)).m(this.c)};var Ah=function(a,b,c,d,e){ph.call(this,new oh(a,b,1836069985,1936684398,new mh(c,d,e),null))};u(Ah,ph);
var Bh=function(a,b,c,d,e,f){ph.call(this,new oh(a,b,1635148593,1986618469,null,new nh(c,d,e,f)))};u(Bh,ph);var Ch=function(a){id.call(this,a)};u(Ch,id);var Dh=function(a,b,c,d){this.xh=a.match("mp4a.67")?103:64;this.Vf=b;this.Ja=c;this.td=d;this.Ze=null;this.If=0;this.Zc=null};Dh.prototype.a=x("cast.player.hls.AacParser");
var Eh=function(a){for(var b=new Ch(a.Vf),c=[],d=null,e=a.Ja;b.offset<b.buffer.length;){var f;if(f=wf(b.buffer,b.offset))b.offset+=f.length;if(f)a.td&&a.td("ID3",f,e);else{d=b.buffer.subarray(b.offset);if(255!=d[0]||240!=(d[1]&240))d=null;else{f=((d[3]&3)<<11)+(d[4]<<3)+((d[5]&224)>>5);var g=d[2]>>2&15,h=d[1]&1?7:9;b.offset+=h;d={profile:(d[2]>>6&3)+1,sampleRate:Af[g],Ch:(d[2]<<2&4)+(d[3]>>6&3),Rh:f-h}}if(d)c.push(Id(b,d.Rh)),e+=1024/d.sampleRate;else return z(a.a,"Neither ID3 nor ADTS header was found at "+
b.buffer.subarray(b.offset).byteOffset),!1}}if(null===d)return z(a.a,"No ADTS header was found."),!1;b=Cf(d.profile,d.sampleRate,d.Ch);if(null===b)return z(a.a,"Cannot generate audio codec private data."),!1;a.Ze=c;a.If=d.sampleRate;a.Zc=b;return!0};Dh.prototype.mg=function(){return this.Ja};var Fh=function(a,b,c){y.call(this);this.b=a;this.fb=c;this.sh=b;this.ka=null;this.Db=new sf;this.bi=this.Dd.bind(this);this.Sg=this.di.bind(this);this.ig=this.Kh.bind(this);this.Lf=this.re=null;this.eh=-1;this.nb=new Jc;this.xa=null;this.f=new D;xc(this.f);C(this.f,"success",this.ci,!1,this);C(this.f,"error",this.Mg,!1,this);C(this.f,"timeout",this.Mg,!1,this);this.R=new G;this.R.setResponse=this.ng.bind(this);this.od=this.Cd=this.Fb=this.ad=this.Sf=null;this.Uc=!0;this.sa=this.Ab=this.Y=null};
u(Fh,y);k=Fh.prototype;k.a=x("cast.player.hls.Adaptation");k.F=function(){this.reset();this.f.I()};k.reset=function(){this.Uc=!0;this.nb.clear();this.Ab=this.Y=this.xa=null;this.f.abort();this.Cd&&(this.Cd.cancel(),this.Cd=null);this.ad&&(this.ad.cancel(),this.ad=null);null!==this.sa&&clearTimeout(this.sa)};k.di=function(a){this.Cd=null;this.od=a;this.sa=setTimeout(this.ig,0)};k.ci=function(a){this.ng(Ic(a.target))};
k.ng=function(a){a?(a=new Uint8Array(a),this.b.processLicense&&(a=this.b.processLicense(a)),this.Cd=this.b.rg?new zf(this.b,this.Sg,a,this.Sf):new mf(this.b,this.Sg,a)):M(this.b,3)};k.Mg=function(){M(this.b,3,new H(this.R.url,this.f.gb,Hc(this.f),this.f.getAllResponseHeaders(),Ic(this.f)))};k.Kh=function(){var a=Mc(this.nb);a.lf&&this.od&&this.xa&&(B(this.a,"decrypt segment"),this.ad=new lf(this.b,this.bi,this.od,a.lf,this.xa),this.sa=this.xa=null)};
k.Dd=function(a){B(this.a,"process segment");this.ad=null;a=new Uint8Array(a);var b=Lc(this.nb),c;if(this.fb)c=new xf(a,this.b.processMetadata,b.ia);else{c=new Dh(this.ka.qb.codecs,a,b.ia,this.b.processMetadata);a=c;if(Eh(a)){var d=new Ef(2*a.Vf.length);(new Ah(null,1E6,a.xh,a.If,a.Zc)).m(d);(new hh(1024E6/a.If,1E6*a.Ja,a.Ze)).m(d);(new Lg(a.Ze)).m(d);a=he(d);Uf(a)}else a=null;if(!a){M(this.b,1);return}}if(b.kg||b.T)this.Y=null,b.T=!1;b={time:b.ia,duration:b.duration};d=c.mg();if(c=null===this.Y&&
Infinity!==d)B(this.a,"start: "+d),this.Y=d,this.Ab=b,this.sh&&(d=this.sh,d.V&&d.V.T(this.Y,b));d=this.Lf;this.Lf=null;ff(d,a,b,this.Y||0,c)};
var Hh=function(a){a.b.rg&&!a.Sf?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(a){this.Sf=a;Gh(this)}.bind(a)):Gh(a)},Gh=function(a){a.od=null;a.R.url=a.Fb;a.R.skipRequest=!1;if(a.b.updateLicenseRequestInfo&&(a.b.updateLicenseRequestInfo(a.R),a.R.skipRequest))return;a.f.Qd=a.R.withCredentials;a.f.sb=Math.max(0,a.R.timeoutInterval);a.f.send(a.R.url,void 0,void 0,a.R.headers)};k=Fh.prototype;
k.processSegment=function(a,b){this.Lf=b;var c=Mc(this.nb).Bg;c?(this.xa=a,this.Fb===c&&null!==this.od?this.sa=setTimeout(this.ig,0):(this.Fb=c,Hh(this))):this.Dd(a.buffer)};k.updateSegmentRequestInfo=function(a){var b=tf(this.Db);if(b){this.Uc&&(b.T=!0,this.Uc=!1);if(!this.nb.Ea()){var c=this.nb.Ba()[this.nb.ac()-1];c.Rc===b.Rc&&(this.nb.remove(c),B(this.a,"removed segment "+b.Rc))}this.nb.enqueue(b);if(c=b.$f)a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end;a.url=b.url}};
k.Aa=function(){var a=tf(this.Db);return a?{time:a.ia,duration:a.duration}:{time:0,duration:0}};k.za=function(){return this.Db.za()};k.Bb=function(){return this.Db.Bb()};k.Cb=function(){return this.Db.next()};k.seek=function(a){return this.Db.seek(a)};k.xf=function(){this.ka.Gb&&(this.Db.update(this.ka.Gb),this.re&&(ve(this.re),this.re=null))};k.ve=function(a,b,c){this.eh=a;this.re=b;this.Uc=!0;this.ka&&this.ka.Ub();this.ka=c;c.load()};k.getQualityLevel=function(){return this.eh};
k.T=function(a,b){this.Uc=!0;this.Y=a;this.Ab=b};var Ih=function(a){Fh.call(this,a,null,!1)};u(Ih,Fh);Ih.prototype.Cb=function(){return null===this.Y||null===this.Ab?!1:Ih.B.Cb.call(this)};Ih.prototype.seek=function(a){return null===this.Y||null===this.Ab?!1:Ih.B.seek.call(this,a)};Ih.prototype.processSegment=function(a,b){var c=tf(this.Db),d={time:c.ia,duration:c.duration},e=!1;if(null===this.Y||null===this.Ab)a=new Uint8Array(0);else if(this.Uc||c.T)d=this.Ab,e=!0;ff(b,a,d,this.Y||0,e)};var Z=function(a,b){this.b=a;this.fb=1!==b;this.ja=this.sd=null;this.gc=new Fh(a,this,this.fb);this.V=this.ga=null};Z.prototype.load=function(a){this.sd=a;this.ja=new vf(this.b,this,this,this.fb);this.ja.load()};Z.prototype.Ub=function(){this.gc.I();this.ga&&(this.ga.I(),this.ga=null);this.V&&(this.V.I(),this.V=null);this.ja&&(this.ja.I(),this.ja=null)};
Z.prototype.onManifestReady=function(){for(var a=this.ja.Wa,b=0;b<a.length;b++){var c=a[b].qb;if(c.gf&&pd(c.mimeType)){this.enableStream(b+1,!0);break}}if(this.b.onManifestReady)this.b.onManifestReady();this.sd.onManifestReady();this.sd=null};Z.prototype.getStreamCount=function(){return this.ja.Wa.length+1};Z.prototype.getStreamCount=Z.prototype.getStreamCount;
Z.prototype.enableStream=function(a,b){if(0<a){var c=this.ja.Wa[a-1],d=c.qb.mimeType;pd(d)?(this.ga&&(this.ga.I(),this.ga=null),b&&(this.ga=new Fh(this.b,null,!1),this.ga.ka=c)):ka(d,"text/")&&(this.V&&(this.V.I(),this.V=null),b&&(this.V=new Ih(this.b),this.V.ka=c,this.V.T(this.gc.Y,this.gc.Ab)))}};Z.prototype.enableStream=Z.prototype.enableStream;Z.prototype.isStreamEnabled=function(a){return null!==Jh(this,a)};Z.prototype.isStreamEnabled=Z.prototype.isStreamEnabled;
var Jh=function(a,b){var c;0===b?c=a.gc:(c=a.ja.Wa[b-1],c=null!==a.ga&&a.ga.ka===c?a.ga:null!==a.V&&a.V.ka===c?a.V:null);return c};Z.prototype.getQualityLevel=function(a){return Jh(this,a).getQualityLevel()};Z.prototype.getQualityLevel=Z.prototype.getQualityLevel;
Z.prototype.getStreamInfo=function(a){var b=[],c,d;if(0===a){b=[];c=this.ja.Rb;for(a=0;a<c.length;a++)b.push(c[a].qb.ca);c=this.ja.Rb[0].qb;d=c.codecs;if(this.ga){var e=c.codecs.split(",");for(a=0;a<e.length;a++)if(0===e[a].indexOf("avc1.")){d=e[a];break}}}else c=this.ja.Wa[a-1].qb,b.push(c.ca),d=c.codecs;return new I(d,c.mimeType,b,c.language,c.name,null)};Z.prototype.getStreamInfo=Z.prototype.getStreamInfo;k=Z.prototype;k.ve=function(a,b,c){Jh(this,a).ve(b,c,0===a?this.ja.Rb[b]:this.ja.Wa[a-1])};
k.reset=function(a){Jh(this,a).reset()};k.za=function(a){return Jh(this,a).za()};k.xf=function(a){(this.gc.ka===a?this.gc:null!==this.ga&&this.ga.ka===a?this.ga:null!==this.V&&this.V.ka===a?this.V:null).xf()};k.updateLicenseRequestInfo=function(){};k.lg=function(){var a=this.gc.ka;return a?a.duration:-1};k.seek=function(a,b){return Jh(this,a).seek(b)};k.Cb=function(a){return Jh(this,a).Cb()};k.Bb=function(a){return Jh(this,a).Bb()};k.Aa=function(a){return Jh(this,a).Aa()};k.Ig=function(){return!1};
k.$e=function(){return null};k.updateSegmentRequestInfo=function(a,b){Jh(this,a).updateSegmentRequestInfo(b)};k.processSegment=function(a,b,c){Jh(this,a).processSegment(b.data,c)};x("cast.player.smooth");var Mh=function(a){this.da=new je("IsLive");this.Sb=new P("TimeScale");for(this.duration=new P("Duration");a;){if("SmoothStreamingMedia"===a.nodeName){oe(a.attributes,this);break}a=a.nextElementSibling}this.Jd=[];this.jb=null;if(a)for(this.Sb.value||(this.Sb.value=1E7),a=a.firstElementChild;null!=a;a=a.nextElementSibling)if("StreamIndex"===a.nodeName){var b=new Kh(a,this.Sb.value);0<b.Ia.length&&this.Jd.push(b)}else"Protection"===a.nodeName&&(this.jb=new Lh(a.firstElementChild))},Nh=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},Oh=function(a,b){Q.call(this,a,b)};u(Oh,Q);Oh.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4d40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "TTML":this.value="ttml";break;default:this.value=null}};var Ph=function(){this.name="CodecPrivateData";this.Bd=this.uc=null};u(Ph,ie);
Ph.prototype.parse=function(a){a=a.split("00000001");3===a.length&&(this.uc=Nh(a[1]),this.Bd=Nh(a[2]))};var Qh=function(){this.name="CodecPrivateData";this.value=null};u(Qh,ie);Qh.prototype.parse=function(a){a&&(this.value=Nh(a))};var Rh=function(a){this.ca=new P("Bitrate");this.format=new Oh("FourCC",a)},Sh=function(a){Rh.call(this,"ttml");oe(a.attributes,this)};u(Sh,Rh);
var Th=function(a){Rh.call(this,"avc1.4d401e");this.width=new P("MaxWidth");this.height=new P("MaxHeight");this.Oa=new Ph;oe(a.attributes,this)};u(Th,Rh);var Uh=function(a){Rh.call(this,"mp4a.40.2");this.sampleRate=new P("SamplingRate");this.Dh=new P("Channels");this.Oa=new Qh;oe(a.attributes,this)};u(Uh,Rh);
var Kh=function(a,b){this.type=new Q("Type");this.url=new Q("Url");this.name=new Q("Name");this.language=new Q("Language");oe(a.attributes,this);this.rb=0;switch(this.type.value){case "video":this.rb=2;break;case "audio":this.rb=1;break;case "text":this.rb=3}this.g=[];this.Ia=[];for(var c=new Fd("0"),d=a.firstElementChild;null!=d;d=d.nextElementSibling)if("QualityLevel"===d.nodeName){var e=d,f=void 0;switch(this.rb){case 2:f=new Th(e);break;case 1:f=new Uh(e);break;case 3:f=new Sh(e);break;default:f=
null}f&&f.format.value&&this.Ia.push(f)}else if("c"===d.nodeName){var g=d,e=c,f=b,h=g.attributes.getNamedItem("t");h&&e.reset(h.value);var h=null,l=-1;g.attributes.getNamedItem("d")&&(h=parseInt(g.attributes.d.value,10),l=h/f);for(var g=(g=g.attributes.getNamedItem("r"))?parseInt(g.value,10):1,n=0;n<g;n++)this.g.push({time:parseInt(e.toString(),10)/f,duration:l,ib:new Fd(e.toString()),offset:0,size:0,url:null}),null!==h&&e.add(h)}c=this.g.length-1;for(d=0;d<c;d++)if(h=this.g[d],f=this.g[d+1],null===
h.duration){e=h;f=f.ib;h=h.ib;if(f.U==h.U)f=0;else{if(!Gd(f,h))throw Error("Value must be smaller than the current value");for(var g=l=0,n=1,p=0;p<f.U.length;p++)var t=parseInt(f.U.charAt(f.U.length-1-p),10)-(p<h.U.length?parseInt(h.U.charAt(h.U.length-1-p),10):0)-g,g=0>t?1:0,l=l+(g?10+t:t)*n,n=10*n;if(g)throw Error("Value must be smaller than the current value");if(9007199254740992<l)throw Error("Difference lost precision");f=l}e.duration=f/b}},Lh=function(a){this.systemId=new ne("SystemID");oe(a.attributes,
this);this.kb=null;this.systemId.value&&ud.bb(this.systemId.value)&&(this.kb=te(a.textContent))};var Vh=function(a){R.call(this,a);this.Fd=null;this.Za=1E7};u(Vh,R);Vh.prototype.a=x("cast.player.smooth.Protocol");var Wh=/{bitrate}|{Bitrate}/,Xh=/{start time}|{start_time}/,Yh=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,T:!0,w:[],language:d,Xa:void 0===f?!0:!1,codecs:c,index:-1,K:-1}},Zh=function(a,b,c,d,e){return{url:a||"",ca:b,L:c,g:d,D:null,Ua:e?{url:null,ha:null,data:e}:null}};
Vh.prototype.tf=function(a){var b=a.jb;if(b){b=b.kb;if(null===b){$h(this,"invalid protection info");return}this.Fd=b}a.Sb.value&&(this.Za=a.Sb.value);a.duration.value&&(this.duration=a.duration.value/this.Za);a.da.value&&(this.da=a.da.value);for(var b=Infinity,c=0;c<a.Jd.length;c++){var d=a.Jd[c];(2===d.rb||1===d.rb)&&d.g[0].time<b&&(b=d.g[0].time)}for(var e=[],c=0;c<a.Jd.length;c++){d=a.Jd[c];if(0===d.Ia.length){$h(this,"no quality levels");return}var f=d.Ia[0].format.value;if(null===f){$h(this,
"unknown media format");return}var g=null;if(2===d.rb)a:{var h=f,g=b,l=d.Ia[0];if(null===l.Oa.uc)$h(this,"no sps"),g=null;else{l=l.Oa.uc[3].toString(16);1===l.length&&(l="0"+l);for(var h=Yh(2,"video/mp4",h+l.toLowerCase(),d.language.value,d.name.value),n=0;n<d.Ia.length;n++){l=d.Ia[n];if(null===l.ca.value||null===l.width.value||null===l.height.value||null===l.Oa.uc||null===l.Oa.Bd){$h(this,"invalid video quality");g=null;break a}var p=this.Fd,t=this.Za,Ha=l.width.value,xa=l.height.value,Bc=l.Oa.uc,
ye=l.Oa.Bd,Ob=new Ef;(new Bh(p,t,Ha,xa,Bc,ye)).m(Ob);h.w.push(Zh(d.url.value,l.ca.value,g,d.g,he(Ob)))}g=h}}else if(1===d.rb)a:{g=f;l=b;h=Yh(1,"audio/mp4",g,d.language.value,d.name.value);for(n=0;n<d.Ia.length;n++){p=d.Ia[n];if(null===p.ca.value||null===p.sampleRate.value){$h(this,"invalid audio quality");g=null;break a}(t=p.Oa.value)||(t=p.Dh.value,t=Cf(2,p.sampleRate.value,null!==t?t:2));Bc=t;if(null===Bc){$h(this,"invalid audio codec private data");g=null;break a}t=this.Fd;Ha=this.Za;xa=p.sampleRate.value;
ye="mp4a.a6"===g?166:64;Ob=new Ef;(new Ah(t,Ha,ye,xa,Bc)).m(Ob);h.w.push(Zh(d.url.value,p.ca.value,l,d.g,he(Ob)))}g=h}else if(3===d.rb){g=b;l=Yh(3,"text/mp4",f,d.language.value,d.name.value,!1);for(h=0;h<d.Ia.length;h++)l.w.push(Zh(d.url.value,d.Ia[h].ca.value||0,g,d.g,null));g=l}g&&("mp4a.a6"===f?e.push(g):this.j.push(g))}Array.prototype.push.apply(this.j,e)};var ai=function(a){var b=a.w[a.K].g,c=b.length-1E4;0<c&&a.index>=c&&(b.splice(0,c),a.index-=c)},$h=function(a,b){z(a.a,b);M(a.host,0)};k=Vh.prototype;
k.Ib=function(a){if(a){var b=(new DOMParser).parseFromString(a,"text/xml"),b=new Mh(b.firstChild);this.tf(b);Vh.B.Ib.call(this,a);this.Fd&&(a=this.Mc,a.nd=["playready"],pg(a))}else M(this.host,3,qe(this.hc))};k.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Fd.url};k.$e=function(a){a=this.j[a];a.Xa=!1;return a.w[a.K].Ua.data};
k.updateSegmentRequestInfo=function(a,b){var c=this.j[a],d=c.index,c=c.w[c.K],e=c.url,e=e.replace(Wh,c.ca.toString()),e=e.replace(Xh,c.g[d].ib.toString());b.url=this.uri.resolve(new E(e)).toString().toString()};
k.processSegment=function(a,b,c){var d=this.j[a],e=this.Aa(a),f=b.data;if(b.md)ff(c,f,{time:e.time,duration:0},0,!1);else{if(this.da){a=this.j[a];var g=a.w[a.K].g;if(!(a.index+1<g.length)){var h;h=this.Za;var l=U(f,1970628964,Kf,!0);h=l?l.cf(h):null;if(null===h)A(this.a,"no new segments");else{g=g.concat(h);for(h=0;h<a.w.length;h++)a.w[h].g=g;ai(a)}}if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=b[1].split(/,|;/);for(a=0;a<b.length;a++)if(g=b[a].match("([^=]*)=([0-9]*)"))for(h=g[1],
l=0;l<this.j.length;l++)if(h===this.j[l].name){h=this.j[l];h=h.w[h.K].g;g=g[2];l=parseInt(g,10)/this.Za;(0===h.length||h[h.length-1].time<l)&&h.push({time:l,duration:0,ib:new Fd(g),offset:0,size:0,url:null});break}for(a=0;a<this.j.length;a++)ai(this.j[a])}}a=d.index;b=d.w[d.K];g=b.g;if(3===d.type)f=(f=U(f,1835295092))?S(f):null;else{a=parseInt(g[a].ib.toString(),10);g=2===d.type;h=Wf(f);for(var l=new Ef(f.byteLength+1024),n=null,f=0;0<h.length;){var p=h.shift();switch(p.getName()){case 1836019558:n=
U(S(p),1970628964,Nf,!0);(new jh(p,a,g)).m(l);break;case 1835295092:var t=null;n&&(t=n.Hf?n.Hf:new Uint8Array([]));f=t?t.length:0;(new Lg(t?[t,S(p)]:[S(p)])).m(l);break;default:p.m(l)}}a=he(l);Uf(a,f);f=a}null===f?(z(this.a,"no media data"),M(this.host,1)):(ff(c,f,e,e.time+b.L,d.T),d.T=!1)}};r("cast.player.api.CreateDashStreamingProtocol",function(a){return new V(a)});r("cast.player.api.CreateHlsStreamingProtocol",function(a,b){return new Z(a,b)});r("cast.player.api.CreateSmoothStreamingProtocol",function(a){return new Vh(a)}); }).call(window);
